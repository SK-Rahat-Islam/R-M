/* Ascendeum build - on prebid.js v4.42.1
Site: greetingsisland
Updated : 2021-07-01T06:34:09*/
!function (s) { var c = window.pbjsChunk; window.pbjsChunk = function (e, t, r) { for (var n, i, o, a = 0, d = []; a < e.length; a++)i = e[a], u[i] && d.push(u[i][0]), u[i] = 0; for (n in t) Object.prototype.hasOwnProperty.call(t, n) && (s[n] = t[n]); for (c && c(e, t, r); d.length;)d.shift()(); if (r) for (a = 0; a < r.length; a++)o = p(p.s = r[a]); return o }; var r = {}, u = { 415: 0 }; function p(e) { if (r[e]) return r[e].exports; var t = r[e] = { i: e, l: !1, exports: {} }; return s[e].call(t.exports, t, t.exports, p), t.l = !0, t.exports } p.m = s, p.c = r, p.d = function (e, t, r) { p.o(e, t) || Object.defineProperty(e, t, { configurable: !1, enumerable: !0, get: r }) }, p.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return p.d(t, "a", t), t }, p.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, p.p = "", p.oe = function (e) { throw console.error(e), e }, p(p.s = 120) }([function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), r.d(t, "internal", function () { return U }), t.getPrebidInternal = function () { return k }, r.d(t, "bind", function () { return P }), t.getUniqueIdentifierStr = z, t.generateUUID = function e(t) { return t ? (t ^ G() >> t / 4).toString(16) : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, e) }, t.getBidIdParameter = function (e, t) { if (t && t[e]) return t[e]; return "" }, t.tryAppendQueryString = function (e, t, r) { if (r) return e + t + "=" + encodeURIComponent(r) + "&"; return e }, t.parseQueryStringParameters = function (e) { var t = ""; for (var r in e) e.hasOwnProperty(r) && (t += r + "=" + encodeURIComponent(e[r]) + "&"); return t = t.replace(/&$/, "") }, t.transformAdServerTargetingObj = function (t) { return t && 0 < Object.getOwnPropertyNames(t).length ? be(t).map(function (e) { return "".concat(e, "=").concat(encodeURIComponent(t[e])) }).join("&") : "" }, t.getAdUnitSizes = function (e) { if (!e) return; var t = []; { var r; e.mediaTypes && e.mediaTypes.banner && Array.isArray(e.mediaTypes.banner.sizes) ? (r = e.mediaTypes.banner.sizes, Array.isArray(r[0]) ? t = r : t.push(r)) : Array.isArray(e.sizes) && (Array.isArray(e.sizes[0]) ? t = e.sizes : t.push(e.sizes)) } return t }, t.parseSizesInput = function (e) { var t = []; if ("string" == typeof e) { var r = e.split(","), n = /^(\d)+x(\d)+$/i; if (r) for (var i in r) ae(r, i) && r[i].match(n) && t.push(r[i]) } else if ("object" === y(e)) { var o = e.length; if (0 < o) if (2 === o && "number" == typeof e[0] && "number" == typeof e[1]) t.push(q(e)); else for (var a = 0; a < o; a++)t.push(q(e[a])) } return t }, t.parseGPTSingleSizeArray = q, t.parseGPTSingleSizeArrayToRtbSize = function (e) { if (W(e)) return { w: e[0], h: e[1] } }, t.getWindowTop = H, t.getWindowSelf = L, t.getWindowLocation = F, t.logMessage = V, t.logInfo = K, t.logWarn = Y, t.logError = J, t.hasConsoleLogger = function () { return C }, t.debugTurnedOn = $, t.createInvisibleIframe = function () { var e = document.createElement("iframe"); return e.id = z(), e.height = 0, e.width = 0, e.border = "0px", e.hspace = "0", e.vspace = "0", e.marginWidth = "0", e.marginHeight = "0", e.style.border = "0", e.scrolling = "no", e.frameBorder = "0", e.src = "about:blank", e.style.display = "none", e }, t.getParameterByName = function (e) { return we(F().search)[e] || "" }, t.isA = X, t.isFn = Z, t.isStr = ee, t.isArray = te, t.isNumber = re, t.isPlainObject = ne, t.isBoolean = function (e) { return X(e, A) }, t.isEmpty = ie, t.isEmptyStr = function (e) { return ee(e) && (!e || 0 === e.length) }, t._each = oe, t.contains = function (e, t) { if (ie(e)) return !1; if (Z(e.indexOf)) return -1 !== e.indexOf(t); var r = e.length; for (; r--;)if (e[r] === t) return !0; return !1 }, t._map = function (r, n) { if (ie(r)) return []; if (Z(r.map)) return r.map(n); var i = []; return oe(r, function (e, t) { i.push(n(e, t, r)) }), i }, t.hasOwn = ae, t.insertElement = de, t.triggerPixel = se, t.callBurl = function (e) { var t = e.source, r = e.burl; t === h.S2S.SRC && r && U.triggerPixel(r) }, t.insertHtmlIntoIframe = function (e) { if (!e) return; var t = document.createElement("iframe"); t.id = z(), t.width = 0, t.height = 0, t.hspace = "0", t.vspace = "0", t.marginWidth = "0", t.marginHeight = "0", t.style.display = "none", t.style.height = "0px", t.style.width = "0px", t.scrolling = "no", t.frameBorder = "0", t.allowtransparency = "true", U.insertElement(t, document, "body"), t.contentWindow.document.open(), t.contentWindow.document.write(e), t.contentWindow.document.close() }, t.insertUserSyncIframe = ce, t.createTrackPixelHtml = function (e) { if (!e) return ""; var t = encodeURI(e), r = '<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'; return r += '<img src="' + t + '"></div>' }, t.createTrackPixelIframeHtml = ue, t.getValueString = pe, t.uniques = le, t.flatten = fe, t.getBidRequest = function (r, e) { return r ? (e.some(function (e) { var t = d()(e.bids, function (t) { return ["bidId", "adId", "bid_id"].some(function (e) { return t[e] === r }) }); return t && (n = t), t }), n) : void 0; var n }, t.getKeys = be, t.getValue = ge, t.getKeyByValue = function (e, t) { for (var r in e) if (e.hasOwnProperty(r) && e[r] === t) return r }, t.getBidderCodes = function () { return (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : pbjs.adUnits).map(function (e) { return e.bids.map(function (e) { return e.bidder }).reduce(fe, []) }).reduce(fe).filter(le) }, t.isGptPubadsDefined = me, r.d(t, "getHighestCpm", function () { return ve }), r.d(t, "getOldestHighestCpmBid", function () { return ye }), r.d(t, "getLatestHighestCpmBid", function () { return he }), t.shuffle = function (e) { var t = e.length; for (; 0 < t;) { var r = Math.floor(Math.random() * t), n = e[--t]; e[t] = e[r], e[r] = n } return e }, t.adUnitsFilter = function (e, t) { return c()(e, t && t.adUnitCode) }, t.deepClone = _e, t.inIframe = function () { try { return U.getWindowSelf() !== U.getWindowTop() } catch (e) { return !0 } }, t.isSafariBrowser = function () { return /^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent) }, t.replaceAuctionPrice = function (e, t) { if (!e) return; return e.replace(/\$\{AUCTION_PRICE\}/g, t) }, t.replaceClickThrough = function (e, t) { if (!e || !t || "string" != typeof t) return; return e.replace(/\${CLICKTHROUGH}/g, t) }, t.timestamp = function () { return (new Date).getTime() }, t.getPerformanceNow = function () { return window.performance && window.performance.now && window.performance.now() || 0 }, t.hasDeviceAccess = function () { return !1 !== i.b.getConfig("deviceAccess") }, t.checkCookieSupport = Se, t.delayExecution = function (e, t) { if (t < 1) throw new Error("numRequiredCalls must be a positive number. Got ".concat(t)); var r = 0; return function () { ++r === t && e.apply(this, arguments) } }, t.groupBy = function (e, r) { return e.reduce(function (e, t) { return (e[t[r]] = e[t[r]] || []).push(t), e }, {}) }, t.getDefinedParams = function (r, e) { return e.filter(function (e) { return r[e] }).reduce(function (e, t) { return v(e, m({}, t, r[t])) }, {}) }, t.isValidMediaTypes = function (e) { var t = ["banner", "native", "video"]; if (!Object.keys(e).every(function (e) { return c()(t, e) })) return !1; if (e.video && e.video.context) return c()(["instream", "outstream", "adpod"], e.video.context); return !0 }, t.getBidderRequest = function (e, t, r) { return d()(e, function (e) { return 0 < e.bids.filter(function (e) { return e.bidder === t && e.adUnitCode === r }).length }) || { start: null, auctionId: null } }, t.getUserConfiguredParams = function (e, t, r) { return e.filter(function (e) { return e.code === t }).map(function (e) { return e.bids }).reduce(fe, []).filter(function (e) { return e.bidder === r }).map(function (e) { return e.params || {} }) }, t.getOrigin = function () { return window.location.origin ? window.location.origin : window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : "") }, t.getDNT = function () { return "1" === navigator.doNotTrack || "1" === window.doNotTrack || "1" === navigator.msDoNotTrack || "yes" === navigator.doNotTrack }, t.isAdUnitCodeMatchingSlot = function (t) { return function (e) { return Te(t, e) } }, t.isSlotMatchingAdUnitCode = Ee, t.getGptSlotInfoForAdUnitCode = function (e) { var t; me() && (t = d()(window.googletag.pubads().getSlots(), Ee(e))); if (t) return { gptSlot: t.getAdUnitPath(), divId: t.getSlotElementId() }; return {} }, t.unsupportedBidderMessage = function (e, t) { var r = Object.keys(e.mediaTypes || { banner: "banner" }).join(", "); return "\n    ".concat(e.code, " is a ").concat(r, " ad unit\n    containing bidders that don't support ").concat(r, ": ").concat(t, ".\n    This bidder won't fetch demand.\n  ") }, t.isInteger = Ae, t.convertCamelToUnderscore = function (e) { return e.replace(/(?:^|\.?)([A-Z])/g, function (e, t) { return "_" + t.toLowerCase() }).replace(/^_/, "") }, t.cleanObj = function (r) { return Object.keys(r).reduce(function (e, t) { return void 0 !== r[t] && (e[t] = r[t]), e }, {}) }, t.pick = function (a, d) { return "object" === y(a) ? d.reduce(function (e, t, r) { if ("function" == typeof t) return e; var n = t, i = t.match(/^(.+?)\sas\s(.+?)$/i); i && (t = i[1], n = i[2]); var o = a[t]; return "function" == typeof d[r + 1] && (o = d[r + 1](o, e)), void 0 !== o && (e[n] = o), e }, {}) : {} }, t.transformBidderParamKeywords = function (e) { var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "keywords", i = []; return oe(e, function (e, t) { if (te(e)) { var r = []; oe(e, function (e) { !(e = pe(n + "." + t, e)) && "" !== e || r.push(e) }), e = r } else { if (!ee(e = pe(n + "." + t, e))) return; e = [e] } i.push({ key: t, value: e }) }), i }, t.convertTypes = function (n, i) { return Object.keys(n).forEach(function (e) { var t, r; i[e] && (Z(n[e]) ? i[e] = n[e](i[e]) : i[e] = (t = n[e], r = i[e], "string" === t ? r && r.toString() : "number" === t ? Number(r) : r), isNaN(i[e]) && delete i.key) }), i }, t.isArrayOfNums = function (e, t) { return te(e) && (!t || e.length === t) && e.every(Ae) }, t.fill = function (e, t) { for (var r = [], n = 0; n < t; n++) { var i = ne(e) ? _e(e) : e; r.push(i) } return r }, t.chunk = function (e, t) { for (var r = [], n = 0; n < Math.ceil(e.length / t); n++) { var i = n * t, o = i + t; r.push(e.slice(i, o)) } return r }, t.getMinValueFromArray = function (e) { return Math.min.apply(Math, f(e)) }, t.getMaxValueFromArray = function (e) { return Math.max.apply(Math, f(e)) }, t.compareOn = function (r) { return function (e, t) { return e[r] < t[r] ? 1 : e[r] > t[r] ? -1 : 0 } }, t.parseQS = we, t.formatQS = Oe, t.parseUrl = function (e, t) { var r = document.createElement("a"); t && "noDecodeWholeURL" in t && t.noDecodeWholeURL ? r.href = e : r.href = decodeURIComponent(e); var n = t && "decodeSearchAsString" in t && t.decodeSearchAsString; return { href: r.href, protocol: (r.protocol || "").replace(/:$/, ""), hostname: r.hostname, port: +r.port, pathname: r.pathname.replace(/^(?!\/)/, "/"), search: n ? r.search : U.parseQS(r.search || ""), hash: (r.hash || "").replace(/^#/, ""), host: r.host || window.location.host } }, t.buildUrl = function (e) { return (e.protocol || "http") + "://" + (e.host || e.hostname + (e.port ? ":".concat(e.port) : "")) + (e.pathname || "") + (e.search ? "?".concat(U.formatQS(e.search || "")) : "") + (e.hash ? "#".concat(e.hash) : "") }, t.deepEqual = Ce, t.mergeDeep = xe, t.cyrb53Hash = function (e) { for (var t, r = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, n = function (e, t) { if (Z(Math.imul)) return Math.imul(e, t); var r = (4194303 & e) * (t |= 0); return 4290772992 & e && (r += (4290772992 & e) * t | 0), 0 | r }, i = 3735928559 ^ r, o = 1103547991 ^ r, a = 0; a < e.length; a++)t = e.charCodeAt(a), i = n(i ^ t, 2654435761), o = n(o ^ t, 1597334677); return i = n(i ^ i >>> 16, 2246822507) ^ n(o ^ o >>> 13, 3266489909), (4294967296 * (2097151 & (o = n(o ^ o >>> 16, 2246822507) ^ n(i ^ i >>> 13, 3266489909))) + (i >>> 0)).toString() }; var i = r(3), n = r(184), o = r.n(n), a = r(10), d = r.n(a), s = r(12), c = r.n(s), u = r(185); r.d(t, "deepAccess", function () { return u.a }); var p = r(186); function l(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var r = [], n = !0, i = !1, o = void 0; try { for (var a, d = e[Symbol.iterator](); !(n = (a = d.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == d.return || d.return() } finally { if (i) throw o } } return r }(e, t) || b(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function f(e) { return function (e) { if (Array.isArray(e)) return g(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || b(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function b(e, t) { if (e) { if ("string" == typeof e) return g(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? g(e, t) : void 0 } } function g(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function m(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function v() { return (v = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function y(e) { return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } r.d(t, "deepSetValue", function () { return p.a }); var h = r(5), I = "Array", _ = "String", S = "Function", T = "Number", E = "Object", A = "Boolean", w = Object.prototype.toString, O = Boolean(window.console), C = Boolean(O && window.console.log), x = Boolean(O && window.console.info), j = Boolean(O && window.console.warn), B = Boolean(O && window.console.error), D = r(9), U = { checkCookieSupport: Se, createTrackPixelIframeHtml: ue, getWindowSelf: L, getWindowTop: H, getWindowLocation: F, insertUserSyncIframe: ce, insertElement: de, isFn: Z, triggerPixel: se, logError: J, logWarn: Y, logMessage: V, logInfo: K, parseQS: we, formatQS: Oe, deepEqual: Ce }, k = {}; var R, N = {}, P = function (e, t) { return t }.bind(null, 1, N)() === N ? Function.prototype.bind : function (e) { var t = this, r = Array.prototype.slice.call(arguments, 1); return function () { return t.apply(e, r.concat(Array.prototype.slice.call(arguments))) } }, M = (R = 0, function () { return ++R }); function z() { return M() + Math.random().toString(16).substr(2) } function G() { return window && window.crypto && window.crypto.getRandomValues ? crypto.getRandomValues(new Uint8Array(1))[0] % 16 : 16 * Math.random() } function q(e) { if (W(e)) return e[0] + "x" + e[1] } function W(e) { return te(e) && 2 === e.length && !isNaN(e[0]) && !isNaN(e[1]) } function H() { return window.top } function L() { return window.self } function F() { return window.location } function V() { $() && C && console.log.apply(console, Q(arguments, "MESSAGE:")) } function K() { $() && x && console.info.apply(console, Q(arguments, "INFO:")) } function Y() { $() && j && console.warn.apply(console, Q(arguments, "WARNING:")), D.emit(h.EVENTS.AUCTION_DEBUG, { type: "WARNING", arguments: arguments }) } function J() { $() && B && console.error.apply(console, Q(arguments, "ERROR:")), D.emit(h.EVENTS.AUCTION_DEBUG, { type: "ERROR", arguments: arguments }) } function Q(e, t) { e = [].slice.call(e); var r = i.b.getCurrentBidder(); return t && e.unshift(t), r && e.unshift(n("#aaa")), e.unshift(n("#3b88c3")), e.unshift("%cPrebid" + (r ? "%c".concat(r) : "")), e; function n(e) { return "display: inline-block; color: #fff; background: ".concat(e, "; padding: 1px 4px; border-radius: 3px;") } } function $() { return !!i.b.getConfig("debug") } function X(e, t) { return w.call(e) === "[object " + t + "]" } function Z(e) { return X(e, S) } function ee(e) { return X(e, _) } function te(e) { return X(e, I) } function re(e) { return X(e, T) } function ne(e) { return X(e, E) } function ie(e) { if (!e) return !0; if (te(e) || ee(e)) return !(0 < e.length); for (var t in e) if (hasOwnProperty.call(e, t)) return !1; return !0 } function oe(e, t) { if (!ie(e)) { if (Z(e.forEach)) return e.forEach(t, this); var r = 0, n = e.length; if (0 < n) for (; r < n; r++)t(e[r], r, e); else for (r in e) hasOwnProperty.call(e, r) && t.call(this, e[r], r) } } function ae(e, t) { return e.hasOwnProperty ? e.hasOwnProperty(t) : void 0 !== e[t] && e.constructor.prototype[t] !== e[t] } function de(e, t, r, n) { var i; t = t || document, i = r ? t.getElementsByTagName(r) : t.getElementsByTagName("head"); try { if ((i = i.length ? i : t.getElementsByTagName("body")).length) { i = i[0]; var o = n ? null : i.firstChild; return i.insertBefore(e, o) } } catch (e) { } } function se(e, t) { var r = new Image; t && U.isFn(t) && (r.addEventListener("load", t), r.addEventListener("error", t)), r.src = e } function ce(e, t) { var r = U.createTrackPixelIframeHtml(e, !1, "allow-scripts allow-same-origin"), n = document.createElement("div"); n.innerHTML = r; var i = n.firstChild; t && U.isFn(t) && (i.addEventListener("load", t), i.addEventListener("error", t)), U.insertElement(i, document, "html", !0) } function ue(e) { var t = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : ""; return e ? ((!(1 < arguments.length && void 0 !== arguments[1]) || arguments[1]) && (e = encodeURI(e)), t = t && 'sandbox="'.concat(t, '"'), "<iframe ".concat(t, ' id="').concat(z(), '"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e, '">\n    </iframe>')) : "" } function pe(e, t, r) { return null == t ? r : ee(t) ? t : re(t) ? t.toString() : void U.logWarn("Unsuported type for param: " + e + " required type: String") } function le(e, t, r) { return r.indexOf(e) === t } function fe(e, t) { return e.concat(t) } function be(e) { return Object.keys(e) } function ge(e, t) { return e[t] } function me() { if (window.googletag && Z(window.googletag.pubads) && Z(window.googletag.pubads().getSlots)) return !0 } var ve = Ie("timeToRespond", function (e, t) { return t < e }), ye = Ie("responseTimestamp", function (e, t) { return t < e }), he = Ie("responseTimestamp", function (e, t) { return e < t }); function Ie(r, n) { return function (e, t) { return e.cpm === t.cpm ? n(e[r], t[r]) ? t : e : e.cpm < t.cpm ? t : e } } function _e(e) { return o()(e) } function Se() { if (window.navigator.cookieEnabled || document.cookie.length) return !0 } var Te = function (e, t) { return e.getAdUnitPath() === t || e.getSlotElementId() === t }; function Ee(t) { return function (e) { return Te(e, t) } } function Ae(e) { return Number.isInteger ? Number.isInteger(e) : "number" == typeof e && isFinite(e) && Math.floor(e) === e } function we(e) { return e ? e.replace(/^\?/, "").split("&").reduce(function (e, t) { var r = l(t.split("="), 2), n = r[0], i = r[1]; return /\[\]$/.test(n) ? (e[n = n.replace("[]", "")] = e[n] || [], e[n].push(i)) : e[n] = i || "", e }, {}) : {} } function Oe(e) { return Object.keys(e).map(function (t) { return Array.isArray(e[t]) ? e[t].map(function (e) { return "".concat(t, "[]=").concat(e) }).join("&") : "".concat(t, "=").concat(e[t]) }).join("&") } function Ce(e, t) { if (e === t) return !0; if ("object" !== y(e) || null === e || "object" !== y(t) || null === t) return !1; if (Object.keys(e).length !== Object.keys(t).length) return !1; for (var r in e) { if (!t.hasOwnProperty(r)) return !1; if (!Ce(e[r], t[r])) return !1 } return !0 } function xe(e) { for (var t = arguments.length, r = new Array(1 < t ? t - 1 : 0), n = 1; n < t; n++)r[n - 1] = arguments[n]; if (!r.length) return e; var i = r.shift(); if (ne(e) && ne(i)) for (var o in i) ne(i[o]) ? (e[o] || v(e, m({}, o, {})), xe(e[o], i[o])) : te(i[o]) && e[o] ? te(e[o]) && (e[o] = e[o].concat(i[o])) : v(e, m({}, o, i[o])); return xe.apply(void 0, [e].concat(r)) } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), r.d(t, "storage", function () { return A }), t.registerBidder = function (i) { var r = Array.isArray(i.supportedMediaTypes) ? { supportedMediaTypes: i.supportedMediaTypes } : void 0; function o(e) { var t = C(e); d.default.registerBidAdapter(t, e.code, r) } o(i), Array.isArray(i.aliases) && i.aliases.forEach(function (e) { var t, r, n = e; Object(I.isPlainObject)(e) && (n = e.code, t = e.gvlid, r = e.skipPbsAliasing), d.default.aliasRegistry[n] = i.code, o(E({}, i, { code: n, gvlid: t, skipPbsAliasing: r })) }) }, t.newBidder = C, r.d(t, "registerSyncInner", function () { return x }), t.preloadBidderMappingFile = j, t.getIabSubCategory = function (t, e) { var r = d.default.getBidAdapter(t); if (r.getSpec().getMappingFileInfo) { var n = r.getSpec().getMappingFileInfo(), i = n.localStorageKey ? n.localStorageKey : r.getBidderCode(), o = A.getDataFromLocalStorage(i); if (o) { try { o = JSON.parse(o) } catch (e) { Object(I.logError)("Failed to parse ".concat(t, " mapping data stored in local storage")) } return o.mapping[e] ? o.mapping[e] : null } } }, t.isValid = B; var n = r(109), d = r(8), m = r(3), v = r(36), s = r(47), o = r(39), a = r(26), i = r(5), y = r.n(i), c = r(9), h = r.n(c), u = r(12), p = r.n(u), l = r(4), I = r(0), f = r(2), b = r(11), g = r(7); function _(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var r = [], n = !0, i = !1, o = void 0; try { for (var a, d = e[Symbol.iterator](); !(n = (a = d.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == d.return || d.return() } finally { if (i) throw o } } return r }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return S(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return S(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function S(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function T(e) { return (T = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function E() { return (E = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var A = Object(g.a)("bidderFactory"), w = ["requestId", "cpm", "ttl", "creativeId", "netRevenue", "currency"], O = 1; function C(f) { return E(new n.a(f.code), { getSpec: function () { return Object.freeze(f) }, registerSyncs: b, callBids: function (o, a, e, r, d, n) { var s, c, t, u, i, p; function l() { e(), m.b.runWithBidder(f.code, function () { h.a.emit(y.a.EVENTS.BIDDER_DONE, o), b(c, o.gdprConsent, o.uspConsent) }) } Array.isArray(o.bids) && (s = {}, c = [], 0 !== (t = o.bids.filter(g)).length ? (u = {}, t.forEach(function (e) { (u[e.bidId] = e).adUnitCode || (e.adUnitCode = e.placementCode) }), (i = f.buildRequests(t, o)) && 0 !== i.length ? (Array.isArray(i) || (i = [i]), p = Object(I.delayExecution)(n(l), i.length), i.forEach(function (i) { switch (i.method) { case "GET": r("".concat(i.url).concat(function (e) { if (e) return "?".concat("object" === T(e) ? Object(I.parseQueryStringParameters)(e) : e); return "" }(i.data)), { success: n(e), error: t }, void 0, E({ method: "GET", withCredentials: !0 }, i.options)); break; case "POST": r(i.url, { success: n(e), error: t }, "string" == typeof i.data ? i.data : JSON.stringify(i.data), E({ method: "POST", contentType: "text/plain", withCredentials: !0 }, i.options)); break; default: Object(I.logWarn)("Skipping invalid request from ".concat(f.code, ". Request type ").concat(i.type, " must be GET or POST")), p() }function e(e, t) { d(f.code); try { e = JSON.parse(e) } catch (e) { } var r; e = { body: e, headers: { get: t.getResponseHeader.bind(t) } }, c.push(e); try { r = f.interpretResponse(e, i) } catch (e) { return Object(I.logError)("Bidder ".concat(f.code, " failed to interpret the server's response. Continuing without bids"), null, e), void p() } function n(e) { var t, r, n, i = u[e.requestId]; i ? (e.originalCpm = e.cpm, e.originalCurrency = e.currency, e.meta = e.meta || E({}, e[i.bidder]), t = E(Object(v.createBid)(y.a.STATUS.GOOD, i), e), r = i.adUnitCode, n = t, s[r] = !0, B(r, n, [o]) && a(r, n)) : Object(I.logWarn)("Bidder ".concat(f.code, " made bid for unknown request ID: ").concat(e.requestId, ". Ignoring.")) } r && (Object(I.isArray)(r) ? r.forEach(n) : n(r)), p(r) } function t(e) { d(f.code), Object(I.logError)("Server call for ".concat(f.code, " failed: ").concat(e, ". Continuing without bids.")), p() } })) : l()) : l()) } }); function b(e, t, r) { x(f, e, t, r) } function g(e) { return !!f.isBidRequestValid(e) || (Object(I.logWarn)("Invalid bid sent to bidder ".concat(f.code, ": ").concat(JSON.stringify(e))), !1) } } var x = Object(b.b)("async", function (t, e, r, n) { var i, o, a = m.b.getConfig("userSync.aliasSyncEnabled"); !t.getUserSyncs || !a && d.default.aliasRegistry[t.code] || (i = m.b.getConfig("userSync.filterSettings"), (o = t.getUserSyncs({ iframeEnabled: !(!i || !i.iframe && !i.all), pixelEnabled: !(!i || !i.image && !i.all) }, e, r, n)) && (Array.isArray(o) || (o = [o]), o.forEach(function (e) { s.a.registerSync(e.type, t.code, e.url) }))) }, "registerSyncs"); function j(e, t) { if (!m.b.getConfig("adpod.brandCategoryExclusion")) return e.call(this, t); t.filter(function (e) { return Object(I.deepAccess)(e, "mediaTypes.video.context") === f.a }).map(function (e) { return e.bids.map(function (e) { return e.bidder }) }).reduce(I.flatten, []).filter(I.uniques).forEach(function (r) { var e = d.default.getBidAdapter(r); if (e.getSpec().getMappingFileInfo) { var t = e.getSpec().getMappingFileInfo(), n = t.refreshInDays ? t.refreshInDays : O, i = t.localStorageKey ? t.localStorageKey : e.getSpec().code, o = A.getDataFromLocalStorage(i); try { (!(o = o ? JSON.parse(o) : void 0) || Object(I.timestamp)() > o.lastUpdated + 24 * n * 60 * 60 * 1e3) && Object(l.a)(t.url, { success: function (e) { try { e = JSON.parse(e); var t = { lastUpdated: Object(I.timestamp)(), mapping: e.mapping }; A.setDataInLocalStorage(i, JSON.stringify(t)) } catch (e) { Object(I.logError)("Failed to parse ".concat(r, " bidder translation mapping file")) } }, error: function () { Object(I.logError)("Failed to load ".concat(r, " bidder translation file")) } }) } catch (e) { Object(I.logError)("Failed to parse ".concat(r, " bidder translation mapping file")) } } }), e.call(this, t) } function B(e, t, r) { function n(e) { return "Invalid bid from ".concat(t.bidderCode, ". Ignoring bid: ").concat(e) } return e ? t ? (i = Object.keys(t), w.every(function (e) { return p()(i, e) && !p()([void 0, null], t[e]) }) ? "native" !== t.mediaType || Object(o.g)(t, r) ? "video" !== t.mediaType || Object(a.d)(t, r) ? !("banner" === t.mediaType && !function (e, t, r) { if ((t.width || 0 === parseInt(t.width, 10)) && (t.height || 0 === parseInt(t.height, 10))) return t.width = parseInt(t.width, 10), t.height = parseInt(t.height, 10), 1; var n = Object(I.getBidderRequest)(r, t.bidderCode, e), i = n && n.bids && n.bids[0] && n.bids[0].sizes, o = Object(I.parseSizesInput)(i); if (1 === o.length) { var a = _(o[0].split("x"), 2), d = a[0], s = a[1]; return t.width = parseInt(d, 10), t.height = parseInt(s, 10), 1 } }(e, t, r)) || (Object(I.logError)(n("Banner bids require a width and height")), !1) : (Object(I.logError)(n("Video bid does not have required vastUrl or renderer property")), !1) : (Object(I.logError)(n("Native bid missing some required properties.")), !1) : (Object(I.logError)(n("Bidder ".concat(t.bidderCode, " is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))), !1)) : (Object(I.logWarn)("Some adapter tried to add an undefined bid for ".concat(e, ".")), !1) : (Object(I.logWarn)("No adUnitCode was supplied to addBidResponse."), !1); var i } Object(b.a)("checkAdUnitSetup").before(j) }, function (e, t, r) { "use strict"; r.d(t, "c", function () { return n }), r.d(t, "d", function () { return i }), r.d(t, "b", function () { return o }), r.d(t, "a", function () { return a }); var n = "native", i = "video", o = "banner", a = "adpod" }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return I }), r.d(t, "b", function () { return x }); var n = r(50), i = r(10), a = r.n(i), o = r(12), d = r.n(o), s = r(94), c = r.n(s), u = r(0); function p(e, t) { if (null == e) return {}; var r, n = function (e, t) { if (null == e) return {}; var r, n, i = {}, o = Object.keys(e); for (n = 0; n < o.length; n++)r = o[n], 0 <= t.indexOf(r) || (i[r] = e[r]); return i }(e, t); if (Object.getOwnPropertySymbols) for (var i = Object.getOwnPropertySymbols(e), o = 0; o < i.length; o++)r = i[o], 0 <= t.indexOf(r) || Object.prototype.propertyIsEnumerable.call(e, r) && (n[r] = e[r]); return n } function l(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function f(e) { return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function b() { return (b = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var g = r(106), m = r(0), v = r(5), y = "TRUE" === m.getParameterByName(v.DEBUG_MODE).toUpperCase(), h = window.location.origin, I = "random", _ = {}; _[I] = !0, _.fixed = !0; var S = I, T = { LOW: "low", MEDIUM: "medium", HIGH: "high", AUTO: "auto", DENSE: "dense", CUSTOM: "custom" }; var E, A, w, O, C, x = (O = [], C = null, j(), { getCurrentBidder: function () { return C }, resetBidder: N, getConfig: function () { if (arguments.length <= 1 && "function" != typeof (arguments.length <= 0 ? void 0 : arguments[0])) { var e = arguments.length <= 0 ? void 0 : arguments[0]; return e ? m.deepAccess(B(), e) : B() } return function (e, t) { var r = t; if ("string" != typeof e && (r = e, e = "*"), "function" == typeof r) { var n = { topic: e, callback: r }; return O.push(n), function () { O.splice(O.indexOf(n), 1) } } m.logError("listener must be a function") }.apply(void 0, arguments) }, setConfig: function (n) { var e, i; m.isPlainObject(n) ? (e = Object.keys(n), i = {}, e.forEach(function (e) { var t = "fpd" === e ? "ortb2" : e, r = "fpd" === e ? D(n[e]) : n[e]; m.isPlainObject(E[t]) && m.isPlainObject(r) && (r = b({}, E[t], r)), i[t] = A[t] = r }), k(i)) : m.logError("setConfig options must be an object") }, setDefaults: function (e) { m.isPlainObject(E) ? (b(E, e), b(A, e)) : m.logError("defaults must be an object") }, resetConfig: j, runWithBidder: R, callbackWithBidder: function (o) { return function (i) { return function () { if ("function" == typeof i) { for (var e, t = arguments.length, r = new Array(t), n = 0; n < t; n++)r[n] = arguments[n]; return R(o, (e = m.bind).call.apply(e, [i, this].concat(r))) } m.logWarn("config.callbackWithBidder callback is not a function") } } }, setBidderConfig: function (i) { try { !function (e) { if (!m.isPlainObject(e)) throw "setBidderConfig bidder options must be an object"; if (!Array.isArray(e.bidders) || !e.bidders.length) throw "setBidderConfig bidder options must contain a bidders list with at least 1 bidder"; if (!m.isPlainObject(e.config)) throw "setBidderConfig bidder options must contain a config object" }(i), i.bidders.forEach(function (n) { w[n] || (w[n] = {}), Object.keys(i.config).forEach(function (e) { var t = "fpd" === e ? "ortb2" : e, r = "fpd" === e ? D(i.config[e]) : i.config[e]; m.isPlainObject(r) ? w[n][t] = b({}, w[n][t] || {}, r) : w[n][t] = r }) }) } catch (e) { m.logError(e) } }, getBidderConfig: function () { return w }, convertAdUnitFpd: function (e) { var t = []; return e.forEach(function (e) { e.fpd ? (e.ortb2Imp ? m.mergeDeep(e.ortb2Imp, U(e.fpd)) : e.ortb2Imp = U(e.fpd), t.push((e.fpd, p(e, ["fpd"])))) : t.push(e) }), t }, getLegacyFpd: function (n) { if ("object" === f(n)) { var t = {}; return Object.keys(n).forEach(function (r) { var e = "site" === r ? "context" : r; t[e] = "context" === e || "user" === e ? Object.keys(n[r]).filter(function (e) { return "data" !== e }).reduce(function (e, t) { return "ext" === t ? m.mergeDeep(e, n[r][t]) : m.mergeDeep(e, l({}, t, n[r][t])), e }, {}) : n[r] }), t } }, getLegacyImpFpd: function (t) { if ("object" === f(t)) { var r = {}; return m.deepAccess(t, "ext.data") && Object.keys(t.ext.data).forEach(function (e) { "pbadslot" === e ? m.mergeDeep(r, { context: { pbAdSlot: t.ext.data[e] } }) : "adserver" === e ? m.mergeDeep(r, { context: { adServer: t.ext.data[e] } }) : m.mergeDeep(r, { context: { data: l({}, e, t.ext.data[e]) } }) }), r } } }); function j() { E = {}; var r = { _debug: y, get debug() { return this._debug }, set debug(e) { this._debug = e }, _bidderTimeout: 3e3, get bidderTimeout() { return this._bidderTimeout }, set bidderTimeout(e) { this._bidderTimeout = e }, _publisherDomain: h, get publisherDomain() { return this._publisherDomain }, set publisherDomain(e) { this._publisherDomain = e }, _priceGranularity: T.MEDIUM, set priceGranularity(e) { o(e) && ("string" == typeof e ? this._priceGranularity = i(e) ? e : T.MEDIUM : m.isPlainObject(e) && (this._customPriceBucket = e, this._priceGranularity = T.CUSTOM, m.logMessage("Using custom price granularity"))) }, get priceGranularity() { return this._priceGranularity }, _customPriceBucket: {}, get customPriceBucket() { return this._customPriceBucket }, _mediaTypePriceGranularity: {}, get mediaTypePriceGranularity() { return this._mediaTypePriceGranularity }, set mediaTypePriceGranularity(r) { var n = this; this._mediaTypePriceGranularity = Object.keys(r).reduce(function (e, t) { return o(r[t]) ? "string" == typeof r ? e[t] = i(r[t]) ? r[t] : n._priceGranularity : m.isPlainObject(r) && (e[t] = r[t], m.logMessage("Using custom price granularity for ".concat(t))) : m.logWarn("Invalid price granularity for media type: ".concat(t)), e }, {}) }, _sendAllBids: !0, get enableSendAllBids() { return this._sendAllBids }, set enableSendAllBids(e) { this._sendAllBids = e }, _useBidCache: !1, get useBidCache() { return this._useBidCache }, set useBidCache(e) { this._useBidCache = e }, _deviceAccess: !0, get deviceAccess() { return this._deviceAccess }, set deviceAccess(e) { this._deviceAccess = e }, _bidderSequence: S, get bidderSequence() { return this._bidderSequence }, set bidderSequence(e) { _[e] ? this._bidderSequence = e : m.logWarn("Invalid order: ".concat(e, ". Bidder Sequence was not set.")) }, _timeoutBuffer: 400, get timeoutBuffer() { return this._timeoutBuffer }, set timeoutBuffer(e) { this._timeoutBuffer = e }, _disableAjaxTimeout: !1, get disableAjaxTimeout() { return this._disableAjaxTimeout }, set disableAjaxTimeout(e) { this._disableAjaxTimeout = e }, _maxNestedIframes: 10, get maxNestedIframes() { return this._maxNestedIframes }, set maxNestedIframes(e) { this._maxNestedIframes = e }, _auctionOptions: {}, get auctionOptions() { return this._auctionOptions }, set auctionOptions(e) { !function (e) { if (!m.isPlainObject(e)) return m.logWarn("Auction Options must be an object"), !1; for (var t = 0, r = Object.keys(e); t < r.length; t++) { var n = r[t]; if ("secondaryBidders" !== n && "suppressStaleRender" !== n) return m.logWarn("Auction Options given an incorrect param: ".concat(n)), !1; if ("secondaryBidders" === n) { if (!m.isArray(e[n])) return m.logWarn("Auction Options ".concat(n, " must be of type Array")), !1; if (!e[n].every(m.isStr)) return m.logWarn("Auction Options ".concat(n, " must be only string")), !1 } else if ("suppressStaleRender" === n && !m.isBoolean(e[n])) return m.logWarn("Auction Options ".concat(n, " must be of type boolean")), !1 } return !0 }(e) || (this._auctionOptions = e) } }; function i(t) { return a()(Object.keys(T), function (e) { return t === T[e] }) } function o(e) { if (e) { if ("string" == typeof e) i(e) || m.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."); else if (m.isPlainObject(e) && !Object(n.b)(e)) return void m.logError("Invalid custom price value passed to `setPriceGranularity()`"); return 1 } m.logError("Prebid Error: no value passed to `setPriceGranularity()`") } A && k(Object.keys(A).reduce(function (e, t) { return A[t] !== r[t] && (e[t] = r[t] || {}), e }, {})), A = r, w = {} } function B() { if (C && w && m.isPlainObject(w[C])) { var r = w[C], e = new c.a(Object.keys(A).concat(Object.keys(r))); return g(e).reduce(function (e, t) { return void 0 === r[t] ? e[t] = A[t] : void 0 !== A[t] && m.isPlainObject(r[t]) ? e[t] = Object(u.mergeDeep)({}, A[t], r[t]) : e[t] = r[t], e }, {}) } return b({}, A) } function D(n) { var t = {}; return Object.keys(n).forEach(function (r) { var e = "context" === r ? "site" : r; t[e] = "site" === e || "user" === e ? Object.keys(n[r]).reduce(function (e, t) { return "data" === t ? m.mergeDeep(e, { ext: { data: n[r][t] } }) : m.mergeDeep(e, l({}, t, n[r][t])), e }, {}) : n[r] }), t } function U(n) { var i = {}; return Object.keys(n).filter(function (e) { return "context" === e }).forEach(function (r) { Object.keys(n[r]).forEach(function (t) { "data" === t ? m.mergeDeep(i, { ext: { data: n[r][t] } }) : "object" !== f(n[r][t]) || Array.isArray(n[r][t]) ? m.mergeDeep(i, { ext: { data: l({}, t.toLowerCase(), n[r][t]) } }) : Object.keys(n[r][t]).forEach(function (e) { m.mergeDeep(i, { ext: { data: l({}, t.toLowerCase(), l({}, e.toLowerCase(), n[r][t][e])) } }) }) }) }), i } function k(t) { var r = Object.keys(t); O.filter(function (e) { return d()(r, e.topic) }).forEach(function (e) { e.callback(l({}, e.topic, t[e.topic])) }), O.filter(function (e) { return "*" === e.topic }).forEach(function (e) { return e.callback(t) }) } function R(e, t) { C = e; try { return t() } finally { N() } } function N() { C = null } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return n }), t.b = i; var l = r(16), f = r(3); function b() { return (b = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function g(e) { return (g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var m = r(0), v = 4, n = i(); function i() { var c = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 3e3, e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, u = e.request, p = e.done; return function (e, t, r) { var n = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {}; try { var i, o = n.method || (r ? "POST" : "GET"), a = document.createElement("a"); a.href = e; var d, s = "object" === g(t) && null !== t ? t : { success: function () { m.logMessage("xhr success") }, error: function (e) { m.logError("xhr error", null, e) } }; "function" == typeof t && (s.success = t), (i = new window.XMLHttpRequest).onreadystatechange = function () { var e; i.readyState === v && ("function" == typeof p && p(a.origin), 200 <= (e = i.status) && e < 300 || 304 === e ? s.success(i.responseText, i) : s.error(i.statusText, i)) }, f.b.getConfig("disableAjaxTimeout") || (i.ontimeout = function () { m.logError("  xhr timeout after ", i.timeout, "ms") }), "GET" === o && r && (b((d = Object(l.c)(e, n)).search, r), e = Object(l.a)(d)), i.open(o, e, !0), f.b.getConfig("disableAjaxTimeout") || (i.timeout = c), n.withCredentials && (i.withCredentials = !0), m._each(n.customHeaders, function (e, t) { i.setRequestHeader(t, e) }), n.preflight && i.setRequestHeader("X-Requested-With", "XMLHttpRequest"), i.setRequestHeader("Content-Type", n.contentType || "text/plain"), "function" == typeof u && u(a.origin), "POST" === o && r ? i.send(r) : i.send() } catch (e) { m.logError("xhr construction", e) } } } }, function (e, t) { e.exports = { JSON_MAPPING: { PL_CODE: "code", PL_SIZE: "sizes", PL_BIDS: "bids", BD_BIDDER: "bidder", BD_ID: "paramsd", BD_PL_ID: "placementId", ADSERVER_TARGETING: "adserverTargeting", BD_SETTING_STANDARD: "standard" }, DEBUG_MODE: "pbjs_debug", STATUS: { GOOD: 1, NO_BID: 2 }, CB: { TYPE: { ALL_BIDS_BACK: "allRequestedBidsBack", AD_UNIT_BIDS_BACK: "adUnitBidsBack", BID_WON: "bidWon", REQUEST_BIDS: "requestBids" } }, EVENTS: { AUCTION_INIT: "auctionInit", AUCTION_END: "auctionEnd", BID_ADJUSTMENT: "bidAdjustment", BID_TIMEOUT: "bidTimeout", BID_REQUESTED: "bidRequested", BID_RESPONSE: "bidResponse", NO_BID: "noBid", BID_WON: "bidWon", BIDDER_DONE: "bidderDone", SET_TARGETING: "setTargeting", BEFORE_REQUEST_BIDS: "beforeRequestBids", REQUEST_BIDS: "requestBids", ADD_AD_UNITS: "addAdUnits", AD_RENDER_FAILED: "adRenderFailed", TCF2_ENFORCEMENT: "tcf2Enforcement", AUCTION_DEBUG: "auctionDebug", BID_VIEWABLE: "bidViewable", STALE_RENDER: "staleRender" }, AD_RENDER_FAILED_REASON: { PREVENT_WRITING_ON_MAIN_DOCUMENT: "preventWritingOnMainDocument", NO_AD: "noAd", EXCEPTION: "exception", CANNOT_FIND_AD: "cannotFindAd", MISSING_DOC_OR_ADID: "missingDocOrAdid" }, EVENT_ID_PATHS: { bidWon: "adUnitCode" }, GRANULARITY_OPTIONS: { LOW: "low", MEDIUM: "medium", HIGH: "high", AUTO: "auto", DENSE: "dense", CUSTOM: "custom" }, TARGETING_KEYS: { BIDDER: "hb_bidder", AD_ID: "hb_adid", PRICE_BUCKET: "hb_pb", SIZE: "hb_size", DEAL: "hb_deal", SOURCE: "hb_source", FORMAT: "hb_format", UUID: "hb_uuid", CACHE_ID: "hb_cache_id", CACHE_HOST: "hb_cache_host", ADOMAIN: "hb_adomain" }, DEFAULT_TARGETING_KEYS: { BIDDER: "hb_bidder", AD_ID: "hb_adid", PRICE_BUCKET: "hb_pb", SIZE: "hb_size", DEAL: "hb_deal", SOURCE: "hb_source", FORMAT: "hb_format", UUID: "hb_uuid", CACHE_ID: "hb_cache_id", CACHE_HOST: "hb_cache_host" }, NATIVE_KEYS: { title: "hb_native_title", body: "hb_native_body", body2: "hb_native_body2", privacyLink: "hb_native_privacy", privacyIcon: "hb_native_privicon", sponsoredBy: "hb_native_brand", image: "hb_native_image", icon: "hb_native_icon", clickUrl: "hb_native_linkurl", displayUrl: "hb_native_displayurl", cta: "hb_native_cta", rating: "hb_native_rating", address: "hb_native_address", downloads: "hb_native_downloads", likes: "hb_native_likes", phone: "hb_native_phone", price: "hb_native_price", salePrice: "hb_native_saleprice", rendererUrl: "hb_renderer_url", adTemplate: "hb_adTemplate" }, S2S: { SRC: "s2s", DEFAULT_ENDPOINT: "https://prebid.adnxs.com/pbs/v1/openrtb2/auction", SYNCED_BIDDERS_KEY: "pbjsSyncs" }, BID_STATUS: { BID_TARGETING_SET: "targetingSet", RENDERED: "rendered", BID_REJECTED: "bidRejected" } } }, , function (e, t, r) { "use strict"; r.d(t, "c", function () { return l }), r.d(t, "d", function () { return f }), t.a = function (e) { return o({ moduleName: e, moduleType: "core" }) }, t.b = function (e, t) { return o({ gvlid: e, moduleName: t }) }; var n = r(11), c = r(0), i = r(12), u = r.n(i), p = ["core", "prebid-module"], l = []; function o(e) { var t = 0 < arguments.length && void 0 !== e ? e : {}, i = t.gvlid, o = t.moduleName, a = t.moduleType; function s(r) { if (u()(p, a)) { return r({ valid: !0 }) } var n; return f(i, o, { hasEnforcementHook: !1 }, function (e) { var t; n = e && e.hasEnforcementHook ? r(e) : (t = { hasEnforcementHook: !1, valid: c.hasDeviceAccess() }, r(t)) }), n } var d = function (t) { function r(e) { if (e && e.valid) try { return !!window.localStorage } catch (e) { c.logError("Local storage api disabled") } return !1 } if (!t || "function" != typeof t) return s(r); l.push(function () { var e = s(r); t(e) }) }; return { setCookie: function (n, i, o, a, d, t) { function r(e) { var t, r; e && e.valid && (t = d && "" !== d ? " ;domain=".concat(encodeURIComponent(d)) : "", r = o && "" !== o ? " ;expires=".concat(o) : "", document.cookie = "".concat(n, "=").concat(encodeURIComponent(i)).concat(r, "; path=/").concat(t).concat(a ? "; SameSite=".concat(a) : "")) } if (!t || "function" != typeof t) return s(r); l.push(function () { var e = s(r); t(e) }) }, getCookie: function (r, t) { function n(e) { if (e && e.valid) { var t = window.document.cookie.match("(^|;)\\s*" + r + "\\s*=\\s*([^;]*)\\s*(;|$)"); return t ? decodeURIComponent(t[2]) : null } return null } if (!t || "function" != typeof t) return s(n); l.push(function () { var e = s(n); t(e) }) }, localStorageIsEnabled: function (t) { function r(e) { if (e && e.valid) try { return localStorage.setItem("prebid.cookieTest", "1"), "1" === localStorage.getItem("prebid.cookieTest") } catch (e) { } finally { try { localStorage.removeItem("prebid.cookieTest") } catch (e) { } } return !1 } if (!t || "function" != typeof t) return s(r); l.push(function () { var e = s(r); t(e) }) }, cookiesAreEnabled: function (t) { function r(e) { return !(!e || !e.valid) && (!!c.checkCookieSupport() || (window.document.cookie = "prebid.cookieTest", -1 !== window.document.cookie.indexOf("prebid.cookieTest"))) } if (!t || "function" != typeof t) return s(r); l.push(function () { var e = s(r); t(e) }) }, setDataInLocalStorage: function (t, r, n) { function i(e) { e && e.valid && d() && window.localStorage.setItem(t, r) } if (!n || "function" != typeof n) return s(i); l.push(function () { var e = s(i); n(e) }) }, getDataFromLocalStorage: function (t, r) { function n(e) { return e && e.valid && d() ? window.localStorage.getItem(t) : null } if (!r || "function" != typeof r) return s(n); l.push(function () { var e = s(n); r(e) }) }, removeDataFromLocalStorage: function (t, r) { function n(e) { e && e.valid && d() && window.localStorage.removeItem(t) } if (!r || "function" != typeof r) return s(n); l.push(function () { var e = s(n); r(e) }) }, hasLocalStorage: d, findSimilarCookies: function (o, t) { function r(e) { if (e && e.valid) { var t = []; if (c.hasDeviceAccess()) for (var r = document.cookie.split(";"); r.length;) { var n = r.pop(), i = (i = n.indexOf("=")) < 0 ? n.length : i; 0 <= decodeURIComponent(n.slice(0, i).replace(/^\s+/, "")).indexOf(o) && t.push(decodeURIComponent(n.slice(i + 1))) } return t } } if (!t || "function" != typeof t) return s(r); l.push(function () { var e = s(r); t(e) }) } } } var f = Object(n.b)("async", function (e, t, r, n) { n(r) }, "validateStorageEnforcement") }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), r.d(t, "gdprDataHandler", function () { return B }), r.d(t, "uspDataHandler", function () { return D }), r.d(t, "coppaDataHandler", function () { return U }), r.d(t, "clientTestAdapters", function () { return k }), r.d(t, "allS2SBidders", function () { return R }), t.getAllS2SBidders = N, t.setS2STestingModule = function (e) { _ = e }; var y = r(0), f = r(108), b = r(39), l = r(1), v = r(4), a = r(3), n = r(11), i = r(12), h = r.n(i), o = r(10), I = r.n(o), g = r(77), d = r(20); function s(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var r = [], n = !0, i = !1, o = void 0; try { for (var a, d = e[Symbol.iterator](); !(n = (a = d.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == d.return || d.return() } finally { if (i) throw o } } return r }(e, t) || u(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function c(e) { return function (e) { if (Array.isArray(e)) return p(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || u(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function u(e, t) { if (e) { if ("string" == typeof e) return p(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? p(e, t) : void 0 } } function p(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function m() { return (m = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var _, S = r(0), T = r(5), E = r(9), A = {}, w = A.bidderRegistry = {}, O = A.aliasRegistry = {}, C = []; a.b.getConfig("s2sConfig", function (e) { e && e.s2sConfig && (C = Array.isArray(e.s2sConfig) ? e.s2sConfig : [e.s2sConfig]) }); var x = {}; var j = Object(n.b)("sync", function (e) { var i = e.bidderCode, c = e.auctionId, u = e.bidderRequestId, t = e.adUnits, p = e.labels, l = e.src; return t.reduce(function (e, d) { var t = Object(f.b)(Object(f.a)(d, p), d.mediaTypes, d.sizes), r = t.active, s = t.mediaTypes, n = t.filterResults; return r ? n && S.logInfo('Size mapping filtered adUnit "'.concat(d.code, '" banner sizes from '), n.before, "to ", n.after) : S.logInfo('Size mapping disabled adUnit "'.concat(d.code, '"')), r && e.push(d.bids.filter(function (e) { return e.bidder === i }).reduce(function (e, t) { var r = d.nativeParams || S.deepAccess(d, "mediaTypes.native"); r && (t = m({}, t, { nativeParams: Object(b.h)(r) })), t = m({}, t, Object(y.getDefinedParams)(d, ["ortb2Imp", "mediaType", "renderer", "storedAuctionResponse"])); var n = Object(f.b)(Object(f.a)(t, p), s), i = n.active, o = n.mediaTypes, a = n.filterResults; return i ? a && S.logInfo('Size mapping filtered adUnit "'.concat(d.code, '" bidder "').concat(t.bidder, '" banner sizes from '), a.before, "to ", a.after) : S.logInfo('Size mapping deactivated adUnit "'.concat(d.code, '" bidder "').concat(t.bidder, '"')), S.isValidMediaTypes(o) ? t = m({}, t, { mediaTypes: o }) : S.logError("mediaTypes is not correctly configured for adunit ".concat(d.code)), i && e.push(m({}, t, { adUnitCode: d.code, transactionId: d.transactionId, sizes: S.deepAccess(o, "banner.sizes") || S.deepAccess(o, "video.playerSize") || [], bidId: t.bid_id || S.getUniqueIdentifierStr(), bidderRequestId: u, auctionId: c, src: l, bidRequestsCount: g.a.getRequestsCounter(d.code), bidderRequestsCount: g.a.getBidderRequestsCounter(d.code, t.bidder), bidderWinsCount: g.a.getBidderWinsCounter(d.code, t.bidder) })), e }, [])), e }, []).reduce(y.flatten, []).filter(function (e) { return "" !== e }) }, "getBids"); var B = { consentData: null, setConsentData: function (e) { B.consentData = e }, getConsentData: function () { return B.consentData } }, D = { consentData: null, setConsentData: function (e) { D.consentData = e }, getConsentData: function () { return D.consentData } }, U = { getCoppa: function () { return !!a.b.getConfig("coppa") } }, k = [], R = []; function N() { A.s2STestingEnabled = !1, C.forEach(function (e) { e && e.enabled && e.bidders && e.bidders.length && R.push.apply(R, c(e.bidders)) }) } function P(e) { return e && e.enabled && e.testing && _ } function M(t, r, e) { try { var n = w[t].getSpec(); n && n[r] && "function" == typeof n[r] && (S.logInfo("Invoking ".concat(t, ".").concat(r)), a.b.runWithBidder(t, y.bind.call(n[r], n, e))) } catch (e) { S.logWarn("Error calling ".concat(r, " of ").concat(t)) } } A.makeBidRequests = Object(n.b)("sync", function (u, p, l, i, f) { E.emit(T.EVENTS.BEFORE_REQUEST_BIDS, u); var e = Object(y.getBidderCodes)(u); a.b.getConfig("bidderSequence") === a.a && (e = Object(y.shuffle)(e)); var b = Object(d.a)(), g = e, m = []; 0 === R.length && N(), C.forEach(function (e) { e && e.enabled && P(e) && (_.calculateBidSources(e), _.getSourceBidderMap(u, R)[_.CLIENT].forEach(function (e) { h()(k, e) || k.push(e) })) }), g = e.filter(function (e) { return !h()(R, e) || h()(k, e) }); var v = R; C.forEach(function (n) { var i, o, e, t, r, a, d, s, c; n && n.enabled && (c = n, Boolean(P(c) && c.testServerOnly) && (d = u, s = n, Boolean(I()(d, function (e) { return I()(e.bids, function (e) { return (e.bidSource || s.bidderControl && s.bidderControl[e.bidder]) && e.finalSource === _.SERVER }) }))) && (S.logWarn("testServerOnly: True.  All client requests will be suppressed."), g.length = 0), e = u, r = (t = n).bidders, (a = S.deepClone(e)).forEach(function (e) { e.bids = e.bids.filter(function (e) { return h()(r, e.bidder) && (!P(t) || e.finalSource !== _.CLIENT) }).map(function (e) { return e.bid_id = S.getUniqueIdentifierStr(), e }) }), i = a = a.filter(function (e) { return 0 !== e.bids.length }), o = S.generateUUID(), v.forEach(function (e) { var t = S.getUniqueIdentifierStr(), r = { bidderCode: e, auctionId: l, bidderRequestId: t, tid: o, bids: j({ bidderCode: e, auctionId: l, bidderRequestId: t, adUnits: S.deepClone(i), labels: f, src: T.S2S.SRC }), auctionStart: p, timeout: n.timeout, src: T.S2S.SRC, refererInfo: b }; 0 !== r.bids.length && m.push(r) }), i.forEach(function (e) { var t = e.bids.filter(function (t) { return I()(m, function (e) { return I()(e.bids, function (e) { return e.bidId === t.bid_id }) }) }); e.bids = t }), m.forEach(function (e) { void 0 === e.adUnitsS2SCopy && (e.adUnitsS2SCopy = i.filter(function (e) { return 0 < e.bids.length })) })) }); var t, r, o = (t = u, (r = S.deepClone(t)).forEach(function (e) { e.bids = e.bids.filter(function (e) { return !k.length || e.finalSource !== _.SERVER }) }), r = r.filter(function (e) { return 0 !== e.bids.length })); return g.forEach(function (e) { var t = S.getUniqueIdentifierStr(), r = { bidderCode: e, auctionId: l, bidderRequestId: t, bids: j({ bidderCode: e, auctionId: l, bidderRequestId: t, adUnits: S.deepClone(o), labels: f, src: "client" }), auctionStart: p, timeout: i, refererInfo: b }, n = w[e]; n || S.logError("Trying to make a request for bidder that does not exist: ".concat(e)), n && r.bids && 0 !== r.bids.length && m.push(r) }), B.getConsentData() && m.forEach(function (e) { e.gdprConsent = B.getConsentData() }), D.getConsentData() && m.forEach(function (e) { e.uspConsent = D.getConsentData() }), m }, "makeBidRequests"), A.callBids = function (e, t, u, p, l, f, n) { var r, i, b, g, m; t.length ? (i = (r = s(t.reduce(function (e, t) { return e[Number(void 0 !== t.src && t.src === T.S2S.SRC)].push(t), e }, [[], []]), 2))[0], b = r[1], g = [], b.forEach(function (e) { for (var t = -1, r = 0; r < g.length; ++r)if (e.tid === g[r].tid) { t = r; break } t <= -1 && g.push(e) }), m = 0, C.forEach(function (e) { var t, r, n, i, o, a, d, s, c; e && g[m] && h()(e.bidders, g[m].bidderCode) && (t = Object(v.b)(f, l ? { request: l.request.bind(null, "s2s"), done: l.done } : void 0), r = e.bidders, n = w[e.adapter], i = g[m].tid, o = g[m].adUnitsS2SCopy, a = b.filter(function (e) { return e.tid === i }), n ? (d = { tid: i, ad_units: o, s2sConfig: e }).ad_units.length && (s = a.map(function (e) { return e.start = Object(y.timestamp)(), p.bind(e) }), c = d.ad_units.reduce(function (e, t) { return e.concat((t.bids || []).reduce(function (e, t) { return e.concat(t.bidder) }, [])) }, []), S.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(r.filter(function (e) { return h()(c, e) }).join(","))), a.forEach(function (e) { E.emit(T.EVENTS.BID_REQUESTED, e) }), n.callBids(d, b, function (e, t) { var r = Object(y.getBidderRequest)(b, t.bidderCode, e); r && u.call(r, e, t) }, function () { return s.forEach(function (e) { return e() }) }, t)) : S.logError("missing " + e.adapter), m++) }), i.forEach(function (e) { e.start = Object(y.timestamp)(); var t = w[e.bidderCode]; a.b.runWithBidder(e.bidderCode, function () { S.logMessage("CALLING BIDDER"), E.emit(T.EVENTS.BID_REQUESTED, e) }); var r = Object(v.b)(f, l ? { request: l.request.bind(null, e.bidderCode), done: l.done } : void 0); a.b.runWithBidder(e.bidderCode, y.bind.call(t.callBids, t, e, u.bind(e), p.bind(e), r, n, a.b.callbackWithBidder(e.bidderCode))) })) : S.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?") }, A.videoAdapters = [], A.registerBidAdapter = function (e, t) { var r = (2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}).supportedMediaTypes, n = void 0 === r ? [] : r; e && t ? "function" == typeof e.callBids ? (w[t] = e, h()(n, "video") && A.videoAdapters.push(t), h()(n, "native") && b.f.push(t)) : S.logError("Bidder adaptor error for bidder code: " + t + "bidder must implement a callBids() function") : S.logError("bidAdapter or bidderCode not specified") }, A.aliasBidAdapter = function (r, n, e) { var t, i; if (void 0 === w[n]) { var o = w[r]; if (void 0 === o) { var a = []; C.forEach(function (e) { var t; e.bidders && e.bidders.length && (t = e && e.bidders, e && h()(t, n) ? O[n] = r : a.push(r)) }), a.forEach(function (e) { S.logError('bidderCode "' + e + '" is not an existing bidder.', "adapterManager.aliasBidAdapter") }) } else try { var d, s, c, u, p = (t = r, i = [], h()(A.videoAdapters, t) && i.push("video"), h()(b.f, t) && i.push("native"), i); o.constructor.prototype != Object.prototype ? (u = new o.constructor).setBidderCode(n) : (d = o.getSpec(), s = e && e.gvlid, c = e && e.skipPbsAliasing, u = Object(l.newBidder)(m({}, d, { code: n, gvlid: s, skipPbsAliasing: c })), O[n] = r), A.registerBidAdapter(u, n, { supportedMediaTypes: p }) } catch (e) { S.logError(r + " bidder does not currently support aliasing.", "adapterManager.aliasBidAdapter") } } else S.logMessage('alias name "' + n + '" has been already specified.') }, A.registerAnalyticsAdapter = function (e) { var t = e.adapter, r = e.code, n = e.gvlid; t && r ? "function" == typeof t.enableAnalytics ? (t.code = r, x[r] = { adapter: t, gvlid: n }) : S.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r, '"\n        analytics adapter must implement an enableAnalytics() function')) : S.logError("Prebid Error: analyticsAdapter or analyticsCode not specified") }, A.enableAnalytics = function (e) { S.isArray(e) || (e = [e]), S._each(e, function (e) { var t = x[e.provider].adapter; t ? t.enableAnalytics(e) : S.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider, ".")) }) }, A.getBidAdapter = function (e) { return w[e] }, A.getAnalyticsAdapter = function (e) { return x[e] }, A.callTimedOutBidders = function (t, r, n) { r = r.map(function (e) { return e.params = S.getUserConfiguredParams(t, e.adUnitCode, e.bidder), e.timeout = n, e }), r = S.groupBy(r, "bidder"), Object.keys(r).forEach(function (e) { M(e, "onTimeout", r[e]) }) }, A.callBidWonBidder = function (e, t, r) { t.params = S.getUserConfiguredParams(r, t.adUnitCode, t.bidder), g.a.incrementBidderWinsCounter(t.adUnitCode, t.bidder), M(e, "onBidWon", t) }, A.callSetTargetingBidder = function (e, t) { M(e, "onSetTargeting", t) }, A.callBidViewableBidder = function (e, t) { M(e, "onBidViewable", t) }, t.default = A }, function (e, t, r) { function n() { return (n = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var d, i, s = r(0), o = r(5), a = Array.prototype.slice, c = Array.prototype.push, u = s._map(o.EVENTS, function (e) { return e }), p = o.EVENT_ID_PATHS, l = []; e.exports = (d = {}, (i = {}).on = function (e, t, r) { var n, i; i = e, s.contains(u, i) ? (n = d[e] || { que: [] }, r ? (n[r] = n[r] || { que: [] }, n[r].que.push(t)) : n.que.push(t), d[e] = n) : s.logError("Wrong event name : " + e + " Valid event names :" + u) }, i.emit = function (e) { !function (e, t) { s.logMessage("Emitting event for: " + e); var r = t[0] || {}, n = r[p[e]], i = d[e] || { que: [] }, o = s._map(i, function (e, t) { return t }), a = []; l.push({ eventType: e, args: r, id: n, elapsedTime: s.getPerformanceNow() }), n && s.contains(o, n) && c.apply(a, i[n].que), c.apply(a, i.que), s._each(a, function (e) { if (e) try { e.apply(null, t) } catch (e) { s.logError("Error executing handler:", "events.js", e) } }) }(e, a.call(arguments, 1)) }, i.off = function (e, r, n) { var i = d[e]; s.isEmpty(i) || s.isEmpty(i.que) && s.isEmpty(i[n]) || n && (s.isEmpty(i[n]) || s.isEmpty(i[n].que)) || (n ? s._each(i[n].que, function (e) { var t = i[n].que; e === r && t.splice(s.indexOf.call(t, e), 1) }) : s._each(i.que, function (e) { var t = i.que; e === r && t.splice(s.indexOf.call(t, e), 1) }), d[e] = i) }, i.get = function () { return d }, i.getEvents = function () { var r = []; return s._each(l, function (e) { var t = n({}, e); r.push(t) }), r }, i) }, function (e, t, r) { var n = r(122); e.exports = n }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return a }), r.d(t, "a", function () { return d }), t.d = function (e, t) { var r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 15; 0 === e.getHooks({ hook: t }).length && e.before(t, r) }, t.c = function (e, r) { a("async", function (e) { e.forEach(function (e) { return r.apply(void 0, function (e) { if (Array.isArray(e)) return o(e) }(t = e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(t) || function (e, t) { if (e) { if ("string" == typeof e) return o(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? o(e, t) : void 0 } }(t) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }()); var t }) }, e)([]) }, t.e = function (e) { for (var t = arguments.length, r = new Array(1 < t ? t - 1 : 0), n = 1; n < t; n++)r[n - 1] = arguments[n]; d(e).before(function (e, t) { t.push(r), e(t) }) }; var n = r(188), i = r.n(n); function o(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var a = i()({ ready: i.a.SYNC | i.a.ASYNC | i.a.QUEUE }), d = a.get }, function (e, t, r) { var n = r(131); e.exports = n }, function (e, t, r) { "use strict"; t.a = i, t.c = function (e) { return !(!e || !e.url) }, t.b = function (e, t) { e.render(t) }; var s = r(40), c = r(0), n = r(10), u = r.n(n), p = "outstream"; function i(e) { var t = this, n = e.url, r = e.config, i = e.id, o = e.callback, a = e.loaded, d = e.adUnitCode; this.url = n, this.config = r, this.handlers = {}, this.id = i, this.loaded = a, this.cmd = [], this.push = function (e) { "function" == typeof e ? t.loaded ? e.call() : t.cmd.push(e) : c.logError("Commands given to Renderer.push must be wrapped in a function") }, this.callback = o || function () { t.loaded = !0, t.process() }, this.render = function () { function e() { t._render ? t._render.apply(t, r) : c.logWarn("No render function was provided, please use .setRender on the renderer") } var t = this, r = arguments; !function (t) { var e = pbjs.adUnits, r = u()(e, function (e) { return e.code === t }); if (!r) return !1; var n = c.deepAccess(r, "renderer"), i = !!(n && n.url && n.render), o = c.deepAccess(r, "mediaTypes.video.renderer"), a = !!(o && o.url && o.render); return !!(i && !0 !== n.backupOnly || a && !0 !== o.backupOnly) }(d) ? (this.cmd.unshift(e), Object(s.a)(n, p, this.callback)) : (c.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(d)), e()) }.bind(this) } i.install = function (e) { return new i({ url: e.url, config: e.config, id: e.id, callback: e.callback, loaded: e.loaded, adUnitCode: e.adUnitCode }) }, i.prototype.getConfig = function () { return this.config }, i.prototype.setRender = function (e) { this._render = e }, i.prototype.setEventHandlers = function (e) { this.handlers = e }, i.prototype.handleVideoEvent = function (e) { var t = e.id, r = e.eventName; "function" == typeof this.handlers[r] && this.handlers[r](), c.logMessage("Prebid Renderer event for id ".concat(t, " type ").concat(r)) }, i.prototype.process = function () { for (; 0 < this.cmd.length;)try { this.cmd.shift().call() } catch (e) { c.logError("Error processing Renderer command: ", e) } } }, function (e, t, r) { "use strict"; function v(n) { function e(e, t, r) { if (this instanceof n) { switch (arguments.length) { case 0: return new n; case 1: return new n(e); case 2: return new n(e, t) }return new n(e, t, r) } return n.apply(this, arguments) } return e.prototype = n.prototype, e } var y = r(28), h = r(124).f, I = r(126), _ = r(55), S = r(27), T = r(34), E = r(29); e.exports = function (e, t) { var r, n, i, o, a, d, s, c, u = e.target, p = e.global, l = e.stat, f = e.proto, b = p ? y : l ? y[u] : (y[u] || {}).prototype, g = p ? _ : _[u] || (_[u] = {}), m = g.prototype; for (i in t) r = !I(p ? i : u + (l ? "." : "#") + i, e.forced) && b && E(b, i), a = g[i], r && (d = e.noTargetGet ? (c = h(b, i)) && c.value : b[i]), o = r && d ? d : t[i], r && typeof a == typeof o || (s = e.bind && r ? S(o, y) : e.wrap && r ? v(o) : f && "function" == typeof o ? S(Function.call, o) : o, (e.sham || o && o.sham || a && a.sham) && T(s, "sham", !0), g[i] = s, f && (E(_, n = u + "Prototype") || T(_, n, {}), _[n][i] = o, e.real && m && !m[i] && T(m, i, o))) } }, function (e, t, r) { var n = r(33); e.exports = function (e) { if (!n(e)) throw TypeError(String(e) + " is not an object"); return e } }, function (e, t, r) { "use strict"; function s(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function n(e) { return Object.keys(e).map(function (t) { return Array.isArray(e[t]) ? e[t].map(function (e) { return "".concat(t, "[]=").concat(e) }).join("&") : "".concat(t, "=").concat(e[t]) }).join("&") } t.b = n, t.c = function (e, t) { var r = document.createElement("a"); t && "noDecodeWholeURL" in t && t.noDecodeWholeURL ? r.href = e : r.href = decodeURIComponent(e); var n = t && "decodeSearchAsString" in t && t.decodeSearchAsString; return { href: r.href, protocol: (r.protocol || "").replace(/:$/, ""), hostname: r.hostname, port: +r.port, pathname: r.pathname.replace(/^(?!\/)/, "/"), search: n ? r.search : function (e) { return e ? e.replace(/^\?/, "").split("&").reduce(function (e, t) { var r, n, i = t.split("="), o = (n = 2, function (e) { if (Array.isArray(e)) return e }(r = i) || function (e, t) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) { var r = [], n = !0, i = !1, o = void 0; try { for (var a, d = e[Symbol.iterator](); !(n = (a = d.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == d.return || d.return() } finally { if (i) throw o } } return r } }(r, n) || function (e, t) { if (e) { if ("string" == typeof e) return s(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? s(e, t) : void 0 } }(r, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }()), a = o[0], d = o[1]; return /\[\]$/.test(a) ? (e[a = a.replace("[]", "")] = e[a] || [], e[a].push(d)) : e[a] = d || "", e }, {}) : {} }(r.search || ""), hash: (r.hash || "").replace(/^#/, ""), host: r.host || window.location.host } }, t.a = function (e) { return (e.protocol || "http") + "://" + (e.host || e.hostname + (e.port ? ":".concat(e.port) : "")) + (e.pathname || "") + (e.search ? "?".concat(n(e.search || "")) : "") + (e.hash ? "#".concat(e.hash) : "") } }, function (e, t, r) { "use strict"; t.a = function () { return window.pbjs }, window.pbjs = window.pbjs || {}, window.pbjs.cmd = window.pbjs.cmd || [], window.pbjs.que = window.pbjs.que || [], window._pbjsGlobals = window._pbjsGlobals || [], window._pbjsGlobals.push("pbjs") }, function (e, t) { e.exports = !0 }, function (e, t, r) { function f(e, t) { this.stopped = e, this.result = t } var b = r(15), g = r(96), m = r(56), v = r(27), y = r(71), h = r(97); (e.exports = function (e, t, r, n, i) { var o, a, d, s, c, u, p, l = v(t, r, n ? 2 : 1); if (i) o = e; else { if ("function" != typeof (a = y(e))) throw TypeError("Target is not iterable"); if (g(a)) { for (d = 0, s = m(e.length); d < s; d++)if ((c = n ? l(b(p = e[d])[0], p[1]) : l(e[d])) && c instanceof f) return c; return new f(!1) } o = a.call(e) } for (u = o.next; !(p = u.call(o)).done;)if ("object" == typeof (c = h(o, l, p.value, n)) && c && c instanceof f) return c; return new f(!1) }).stop = function (e) { return new f(!0, e) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return n }); var y = r(3), h = r(0); var I, n = (I = window, function () { var e, t = [], r = function (e) { try { if (!e.location.ancestorOrigins) return; return e.location.ancestorOrigins } catch (e) { } }(I), n = y.b.getConfig("maxNestedIframes"), i = !1, o = 0, a = !1, d = !1; do { var s, c, u = g, p = d, l = void 0, f = !1, b = null, d = !1, g = g ? g.parent : I; try { l = g.location.href || null } catch (e) { f = !0 } if (f) if (p) { var m = u.context; try { c = b = m.sourceUrl, a = !0, g === I.top && (i = !0), m.canonicalUrl && (e = m.canonicalUrl) } catch (e) { } } else { Object(h.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location"); try { var v = u.document.referrer; v && (b = v, g === I.top && (i = !0)) } catch (e) { } !b && r && r[o - 1] && (b = r[o - 1]), b && !a && (c = b) } else l && (c = b = l, a = !1, g === I.top && (i = !0, (s = function (e) { try { var t = e.querySelector("link[rel='canonical']"); if (null !== t) return t.href } catch (e) { } return null }(g.document)) && (e = s))), g.context && g.context.sourceUrl && (d = !0); t.push(b), o++ } while (g !== I.top && o < n); return t.reverse(), { referer: c || null, reachedTop: i, isAmp: a, numIframes: o - 1, stack: t, canonicalUrl: e || null } }) }, , function (e, t) { e.exports = function (e) { if ("function" != typeof e) throw TypeError(String(e) + " is not a function"); return e } }, function (e, t) { var r = function () { return this }(); try { r = r || Function("return this")() || (0, eval)("this") } catch (e) { "object" == typeof window && (r = window) } e.exports = r }, function (e, t, r) { var n = r(28), i = r(90), o = r(29), a = r(69), d = r(92), s = r(130), c = i("wks"), u = n.Symbol, p = s ? u : u && u.withoutSetter || a; e.exports = function (e) { return o(c, e) || (d && o(u, e) ? c[e] = u[e] : c[e] = p("Symbol." + e)), c[e] } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return s }); var n = r(0), c = r(35), i = r(10), o = r.n(i), a = r(5); var u, d, s = (u = [], (d = {}).addWinningBid = function (t) { var e = o()(u, function (e) { return e.getAuctionId() === t.auctionId }); e ? (t.status = a.BID_STATUS.RENDERED, e.addWinningBid(t)) : Object(n.logWarn)("Auction not found when adding winning bid") }, d.getAllWinningBids = function () { return u.map(function (e) { return e.getWinningBids() }).reduce(n.flatten, []) }, d.getBidsRequested = function () { return u.map(function (e) { return e.getBidRequests() }).reduce(n.flatten, []) }, d.getNoBids = function () { return u.map(function (e) { return e.getNoBids() }).reduce(n.flatten, []) }, d.getBidsReceived = function () { return u.map(function (e) { if (e.getAuctionStatus() === c.a) return e.getBidsReceived() }).reduce(n.flatten, []).filter(function (e) { return e }) }, d.getAllBidsForAdUnitCode = function (t) { return u.map(function (e) { return e.getBidsReceived() }).reduce(n.flatten, []).filter(function (e) { return e && e.adUnitCode === t }) }, d.getAdUnits = function () { return u.map(function (e) { return e.getAdUnits() }).reduce(n.flatten, []) }, d.getAdUnitCodes = function () { return u.map(function (e) { return e.getAdUnitCodes() }).reduce(n.flatten, []).filter(n.uniques) }, d.createAuction = function (e) { var t, r = e.adUnits, n = e.adUnitCodes, i = e.callback, o = e.cbTimeout, a = e.labels, d = e.auctionId, s = Object(c.k)({ adUnits: r, adUnitCodes: n, callback: i, cbTimeout: o, labels: a, auctionId: d }); return t = s, u.push(t), s }, d.findBidByAdId = function (t) { return o()(u.map(function (e) { return e.getBidsReceived() }).reduce(n.flatten, []), function (e) { return e.adId === t }) }, d.getStandardBidderAdServerTargeting = function () { return Object(c.j)()[a.JSON_MAPPING.ADSERVER_TARGETING] }, d.setStatusForBids = function (e, t) { var r, n = d.findBidByAdId(e); n && (n.status = t), !n || t !== a.BID_STATUS.BID_TARGETING_SET || (r = o()(u, function (e) { return e.getAuctionId() === n.auctionId })) && r.setBidTargeting(n) }, d.getLastAuctionId = function () { return u.length && u[u.length - 1].getAuctionId() }, d.clearAllAuctions = function () { u.length = 0 }, d) }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return d }), r.d(t, "a", function () { return s }), t.d = function (e, t) { var r = Object(o.getBidRequest)(e.requestId, t), n = r && Object(o.deepAccess)(r, "mediaTypes.video"), i = n && Object(o.deepAccess)(n, "context"); return c(e, r, n, i) }, r.d(t, "c", function () { return c }); r(8); var o = r(0), i = r(3), n = r(12), a = (r.n(n), r(11)), d = "outstream", s = "instream"; var c = Object(a.b)("sync", function (e, t, r, n) { return !t || r && n !== d ? i.b.getConfig("cache.url") || !e.vastXml || e.vastUrl ? !(!e.vastUrl && !e.vastXml) : (Object(o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '), !1) : n !== d || !!(e.renderer || t.renderer || r.renderer) }, "checkVideoBidSetup") }, function (e, t, r) { var o = r(22); e.exports = function (n, i, e) { if (o(n), void 0 === i) return n; switch (e) { case 0: return function () { return n.call(i) }; case 1: return function (e) { return n.call(i, e) }; case 2: return function (e, t) { return n.call(i, e, t) }; case 3: return function (e, t, r) { return n.call(i, e, t, r) } }return function () { return n.apply(i, arguments) } } }, function (r, e, t) { (function (e) { function t(e) { return e && e.Math == Math && e } r.exports = t("object" == typeof globalThis && globalThis) || t("object" == typeof window && window) || t("object" == typeof self && self) || t("object" == typeof e && e) || Function("return this")() }).call(e, t(23)) }, function (e, t) { var r = {}.hasOwnProperty; e.exports = function (e, t) { return r.call(e, t) } }, function (e, t, r) { function n(e) { return "function" == typeof e ? e : void 0 } var i = r(55), o = r(28); e.exports = function (e, t) { return arguments.length < 2 ? n(i[e]) || n(o[e]) : i[e] && i[e][t] || o[e] && o[e][t] } }, function (e, t, r) { var n = r(32); e.exports = !n(function () { return 7 != Object.defineProperty({}, 1, { get: function () { return 7 } })[1] }) }, function (e, t) { e.exports = function (e) { try { return !!e() } catch (e) { return !0 } } }, function (e, t) { e.exports = function (e) { return "object" == typeof e ? null !== e : "function" == typeof e } }, function (e, t, r) { var n = r(31), i = r(37), o = r(51); e.exports = n ? function (e, t, r) { return i.f(e, t, o(1, r)) } : function (e, t, r) { return e[t] = r, e } }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return W }), r.d(t, "a", function () { return H }), t.k = function (e) { var t, i, g, m, o = e.adUnits, r = e.adUnitCodes, n = e.callback, a = e.cbTimeout, d = e.labels, s = e.auctionId, v = o, c = d, u = r, y = [], p = [], l = [], f = s || P.generateUUID(), b = n, h = a, I = [], _ = new Set; function S() { return { auctionId: f, timestamp: t, auctionEnd: i, auctionStatus: g, adUnits: v, adUnitCodes: u, labels: c, bidderRequests: y, noBids: l, bidsReceived: p, winningBids: I, timeout: h } } function T(r, e) { var n, t; e && clearTimeout(m), void 0 === i && (n = [], r && (P.logMessage("Auction ".concat(f, " timedOut")), t = _, (n = y.map(function (e) { return (e.bids || []).filter(function (e) { return !t.has(e.bidder) }) }).reduce(O.flatten, []).map(function (e) { return { bidId: e.bidId, bidder: e.bidder, adUnitCode: e.adUnitCode, auctionId: e.auctionId } })).length && z.emit(G.EVENTS.BID_TIMEOUT, n)), g = H, i = Date.now(), z.emit(G.EVENTS.AUCTION_END, S()), Q(v, function () { try { var e; null != b && (e = p.filter(P.bind.call(O.adUnitsFilter, this, u)).reduce(ee, {}), b.apply(pbjs, [e, r, f]), b = null) } catch (e) { P.logError("Error executing bidsBackHandler", null, e) } finally { n.length && M.callTimedOutBidders(o, n, h); var t = j.b.getConfig("userSync") || {}; t.enableOverride || N(t.syncDelay) } })) } function E() { j.b.resetBidder(), P.logInfo("Bids Received for Auction with id: ".concat(f), p), g = H, T(!1, !0) } function A(e) { _.add(e) } function w(r) { var p = this; r.forEach(function (e) { var t; t = e, y = y.concat(t) }); var l = {}, e = { bidRequests: r, run: function () { var e, t; e = T.bind(null, !0), t = setTimeout(e, h), m = t, g = W, z.emit(G.EVENTS.AUCTION_INIT, S()); var n, i, o, a, d, s, c = (n = E, i = p, o = 0, a = !1, d = new Set, s = {}, { addBidResponse: function (e, t) { s[t.requestId] = !0, o++; var r = function (e) { var t = e.adUnitCode, r = e.bid, n = e.bidderRequest, i = e.auctionId, o = n.start, a = R({}, r, { auctionId: i, responseTimestamp: Object(O.timestamp)(), requestTimestamp: o, cpm: parseFloat(r.cpm) || 0, bidder: r.bidderCode, adUnitCode: t }); a.timeToRespond = a.responseTimestamp - a.requestTimestamp, z.emit(G.EVENTS.BID_ADJUSTMENT, a); var d = n.bids && B()(n.bids, function (e) { return e.adUnitCode == t && e.bidId == a.requestId }), s = d && d.renderer, c = a.mediaType, u = d && d.mediaTypes && d.mediaTypes[c], p = u && u.renderer, l = null; p && p.url && p.render && (!0 !== p.backupOnly || !r.renderer) ? l = p : s && s.url && s.render && (!0 !== s.backupOnly || !r.renderer) && (l = s), l && (a.renderer = x.a.install({ url: l.url }), a.renderer.setRender(l.render)); var f = Z(r.mediaType, d, j.b.getConfig("mediaTypePriceGranularity")), b = Object(C.a)(a.cpm, "object" === k(f) ? f : j.b.getConfig("customPriceBucket"), j.b.getConfig("currency.granularityMultiplier")); return a.pbLg = b.low, a.pbMg = b.med, a.pbHg = b.high, a.pbAg = b.auto, a.pbDg = b.dense, a.pbCg = b.custom, a }({ adUnitCode: e, bid: t, bidderRequest: this, auctionId: i.getAuctionId() }); "video" === r.mediaType ? function (e, t, r, n) { var i = !0, o = Object(O.getBidRequest)(t.originalRequestId || t.requestId, [r]), a = o && Object(O.deepAccess)(o, "mediaTypes.video"), d = a && Object(O.deepAccess)(a, "context"); j.b.getConfig("cache.url") && d !== U.b && (!t.videoCacheKey || j.b.getConfig("cache.ignoreBidderCacheKey") ? (i = !1, X(e, t, n, o)) : t.vastUrl || (P.logError("videoCacheKey specified but not required vastUrl for video bid"), i = !1)), i && ($(e, t), n()) }(i, r, this, u) : ($(i, r), u()) }, adapterDone: function () { var t, e = i.getBidRequests(), r = j.b.getConfig("auctionOptions"); d.add(this), !r || P.isEmpty(r) || (t = r.secondaryBidders) && !e.every(function (e) { return D()(t, e.bidderCode) }) && (e = e.filter(function (e) { return !D()(t, e.bidderCode) })), a = e.every(function (e) { return d.has(e) }), this.bids.forEach(function (e) { s[e.bidId] || (i.addNoBid(e), z.emit(G.EVENTS.NO_BID, e)) }), a && 0 === o && n() } }); function u() { o--, a && 0 === o && n() } M.callBids(v, r, function () { for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)t[r] = arguments[r]; Y.apply({ dispatch: c.addBidResponse, bidderRequest: this }, t) }, c.adapterDone, { request: function (e, t) { b(F, t), b(l, e), V[e] || (V[e] = { SRA: !0, origin: t }), 1 < l[e] && (V[e].SRA = !1) }, done: function (e) { F[e]--, K[0] && f(K[0]) && K.shift() } }, h, A) } }; function f(e) { var n = !0, i = j.b.getConfig("maxRequestsPerOrigin") || L; return e.bidRequests.some(function (e) { var t = 1, r = void 0 !== e.src && e.src === G.S2S.SRC ? "s2s" : e.bidderCode; return V[r] && (!1 === V[r].SRA && (t = Math.min(e.bids.length, i)), F[V[r].origin] + t > i && (n = !1)), !n }), n && e.run(), n } function b(e, t) { void 0 === e[t] ? e[t] = 1 : e[t]++ } f(e) || (P.logWarn("queueing auction due to limited endpoint capacity"), K.push(e)) } return { addBidReceived: function (e) { p = p.concat(e) }, addNoBid: function (e) { l = l.concat(e) }, executeCallback: T, callBids: function () { g = q, t = Date.now(); var e = M.makeBidRequests(v, t, f, h, c); P.logInfo("Bids Requested for Auction with id: ".concat(f), e), e.length < 1 ? (P.logWarn("No valid bid requests returned for auction"), E()) : J.call({ dispatch: w, context: this }, e) }, addWinningBid: function (e) { I = I.concat(e), M.callBidWonBidder(e.bidder, e, o) }, setBidTargeting: function (e) { M.callSetTargetingBidder(e.bidder, e) }, getWinningBids: function () { return I }, getTimeout: function () { return h }, getAuctionId: function () { return f }, getAuctionStatus: function () { return g }, getAdUnits: function () { return v }, getAdUnitCodes: function () { return u }, getBidRequests: function () { return y }, getBidsReceived: function () { return p }, getNoBids: function () { return l } } }, r.d(t, "c", function () { return Y }), r.d(t, "e", function () { return J }), t.g = p, t.d = $, r.d(t, "f", function () { return X }), r.d(t, "i", function () { return l }), r.d(t, "h", function () { return f }), t.j = g; var O = r(0), c = r(16), C = r(50), a = r(39), o = r(107), x = r(13), j = r(3), n = r(47), i = r(11), d = r(10), B = r.n(d), s = r(12), D = r.n(s), U = r(26), u = r(2); function k(e) { return (k = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function R() { return (R = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var N = n.a.syncUsers, P = r(0), M = r(8).default, z = r(9), G = r(5), q = "started", W = "inProgress", H = "completed"; z.on(G.EVENTS.BID_ADJUSTMENT, function (e) { !function (e) { var t, r = e.bidderCode, n = e.cpm; if (pbjs.bidderSettings && (r && pbjs.bidderSettings[r] && "function" == typeof pbjs.bidderSettings[r].bidCpmAdjustment ? t = pbjs.bidderSettings[r].bidCpmAdjustment : pbjs.bidderSettings[G.JSON_MAPPING.BD_SETTING_STANDARD] && "function" == typeof pbjs.bidderSettings[G.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment && (t = pbjs.bidderSettings[G.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment), t)) try { n = t(e.cpm, R({}, e)) } catch (e) { P.logError("Error during bid adjustment", "bidmanager.js", e) } 0 <= n && (e.cpm = n) }(e) }); var L = 4, F = {}, V = {}, K = []; var Y = Object(i.b)("async", function (e, t) { this.dispatch.call(this.bidderRequest, e, t) }, "addBidResponse"), J = Object(i.b)("sync", function (e) { this.dispatch.call(this.context, e) }, "addBidderRequests"), Q = Object(i.b)("async", function (e, t) { t && t() }, "bidsBackCallback"); function p(e, t) { t.timeToRespond > e.getTimeout() + j.b.getConfig("timeoutBuffer") && e.executeCallback(!0) } function $(e, t) { var r = e.getBidRequests(), n = B()(r, function (e) { return e.bidderCode === t.bidderCode }); !function (t, e) { var r; { var n; t.bidderCode && (0 < t.cpm || t.dealId) && (n = B()(e.bids, function (e) { return e.adUnitCode === t.adUnitCode }), r = function (e, t, r) { if (!t) return {}; var n = {}, i = pbjs.bidderSettings; { var o; i && (o = g(t.mediaType, e, r), m(n, o, t), e && i[e] && i[e][G.JSON_MAPPING.ADSERVER_TARGETING] && (m(n, i[e], t), t.sendStandardTargeting = i[e].sendStandardTargeting)) } t.native && (n = R({}, n, Object(a.e)(t, r))); return n }(t.bidderCode, t, n)) } t.adserverTargeting = R(t.adserverTargeting || {}, r) }(t, n), z.emit(G.EVENTS.BID_RESPONSE, t), e.addBidReceived(t), p(e, t) } var X = Object(i.b)("async", function (r, n, i, e) { Object(o.b)([n], function (e, t) { e ? (P.logWarn("Failed to save to the video cache: ".concat(e, ". Video bid must be discarded.")), p(r, n)) : "" === t[0].uuid ? (P.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."), p(r, n)) : (n.videoCacheKey = t[0].uuid, n.vastUrl || (n.vastUrl = Object(o.a)(n.videoCacheKey)), $(r, n), i()) }, e) }, "callPrebidCache"); function Z(e, t, r) { if (e && r) { if (e === u.d) { var n = Object(O.deepAccess)(t, "mediaTypes.".concat(u.d, ".context"), "instream"); if (r["".concat(u.d, "-").concat(n)]) return r["".concat(u.d, "-").concat(n)] } return r[e] } } var l = function (e, t) { var r = Z(e, t, j.b.getConfig("mediaTypePriceGranularity")); return "string" == typeof e && r ? "string" == typeof r ? r : "custom" : j.b.getConfig("priceGranularity") }, f = function (t) { return function (e) { return t === G.GRANULARITY_OPTIONS.AUTO ? e.pbAg : t === G.GRANULARITY_OPTIONS.DENSE ? e.pbDg : t === G.GRANULARITY_OPTIONS.LOW ? e.pbLg : t === G.GRANULARITY_OPTIONS.MEDIUM ? e.pbMg : t === G.GRANULARITY_OPTIONS.HIGH ? e.pbHg : t === G.GRANULARITY_OPTIONS.CUSTOM ? e.pbCg : void 0 } }, b = function () { return function (e) { return e.meta && e.meta.advertiserDomains && 0 < e.meta.advertiserDomains.length ? e.meta.advertiserDomains[0] : "" } }; function g(e, t, r) { function n(e, t) { return { key: e, val: "function" == typeof t ? function (e) { return t(e) } : function (e) { return Object(O.getValue)(e, t) } } } var i, o, a = G.TARGETING_KEYS, d = l(e, r), s = pbjs.bidderSettings; return s[G.JSON_MAPPING.BD_SETTING_STANDARD] || (s[G.JSON_MAPPING.BD_SETTING_STANDARD] = {}), s[G.JSON_MAPPING.BD_SETTING_STANDARD][G.JSON_MAPPING.ADSERVER_TARGETING] || (s[G.JSON_MAPPING.BD_SETTING_STANDARD][G.JSON_MAPPING.ADSERVER_TARGETING] = [n(a.BIDDER, "bidderCode"), n(a.AD_ID, "adId"), n(a.PRICE_BUCKET, f(d)), n(a.SIZE, "size"), n(a.DEAL, "dealId"), n(a.SOURCE, "source"), n(a.FORMAT, "mediaType"), n(a.ADOMAIN, b())]), "video" === e && (i = s[G.JSON_MAPPING.BD_SETTING_STANDARD][G.JSON_MAPPING.ADSERVER_TARGETING], [a.UUID, a.CACHE_ID].forEach(function (t) { void 0 === B()(i, function (e) { return e.key === t }) && i.push(n(t, "videoCacheKey")) }), !j.b.getConfig("cache.url") || t && !1 === P.deepAccess(s, "".concat(t, ".sendStandardTargeting")) || (o = Object(c.c)(j.b.getConfig("cache.url")), void 0 === B()(i, function (e) { return e.key === a.CACHE_HOST }) && i.push(n(a.CACHE_HOST, function (e) { return P.deepAccess(e, "adserverTargeting.".concat(a.CACHE_HOST)) ? e.adserverTargeting[a.CACHE_HOST] : o.hostname })))), s[G.JSON_MAPPING.BD_SETTING_STANDARD] } function m(n, i, o) { var e = i[G.JSON_MAPPING.ADSERVER_TARGETING]; return o.size = o.getSize(), P._each(e, function (e) { var t = e.key, r = e.val; if (n[t] && P.logWarn("The key: " + t + " is getting ovewritten"), P.isFn(r)) try { r = r(o) } catch (e) { P.logError("bidmanager", "ERROR", e) } (void 0 === i.suppressEmptyKeys || !0 !== i.suppressEmptyKeys) && t !== G.TARGETING_KEYS.DEAL || !P.isEmptyStr(r) && null != r ? n[t] = r : P.logInfo("suppressing empty key '" + t + "' from adserver targeting") }), n } function ee(e, t) { return e[t.adUnitCode] || (e[t.adUnitCode] = { bids: [] }), e[t.adUnitCode].bids.push(t), e } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.createBid = function (e, t) { return new n(e, t) }; var i = r(0); function n(e, t) { var r = t && t.src || "client", n = e || 0; this.bidderCode = t && t.bidder || "", this.width = 0, this.height = 0, this.statusMessage = function () { switch (n) { case 0: return "Pending"; case 1: return "Bid available"; case 2: return "Bid returned empty or error response"; case 3: return "Bid timed out" } }(), this.adId = i.getUniqueIdentifierStr(), this.requestId = t && t.bidId, this.mediaType = "banner", this.source = r, this.getStatusCode = function () { return n }, this.getSize = function () { return this.width + "x" + this.height } } }, function (e, t, r) { var n = r(31), i = r(88), o = r(15), a = r(65), d = Object.defineProperty; t.f = n ? d : function (e, t, r) { if (o(e), t = a(t, !0), o(r), i) try { return d(e, t, r) } catch (e) { } if ("get" in r || "set" in r) throw TypeError("Accessors not supported"); return "value" in r && (e[t] = r.value), e } }, function (e, t, r) { var n = r(18), i = r(105); e.exports = n ? i : function (e) { return Set.prototype.values.call(e) } }, function (e, t, r) { "use strict"; r.d(t, "f", function () { return o }), r.d(t, "a", function () { return s }), t.h = function (e) { if (e && e.type && function (e) { return !(!e || !a()(Object.keys(c), e)) || (Object(u.logError)("".concat(e, " nativeParam is not supported")), !1) }(e.type)) return c[e.type]; return e }, t.g = function (t, e) { var r = Object(u.getBidRequest)(t.requestId, e); if (!r) return !1; if (!Object(u.deepAccess)(t, "native.clickUrl")) return !1; var n = r.nativeParams; if (!n) return !0; var i = Object.keys(n).filter(function (e) { return n[e].required }), o = Object.keys(t.native).filter(function (e) { return t.native[e] }); return i.every(function (e) { return a()(o, e) }) }, t.b = function (e, t) { var r; "click" === e.action ? r = t.native && t.native.clickTrackers : (r = t.native && t.native.impressionTrackers, t.native && t.native.javascriptTrackers && Object(u.insertHtmlIntoIframe)(t.native.javascriptTrackers)); return (r || []).forEach(u.triggerPixel), e.action }, t.e = function (o, a) { var d = {}; Object(u.deepAccess)(a, "nativeParams.rendererUrl") ? o.native.rendererUrl = f(a.nativeParams.rendererUrl) : Object(u.deepAccess)(a, "nativeParams.adTemplate") && (o.native.adTemplate = f(a.nativeParams.adTemplate)); var s = !1 !== Object(u.deepAccess)(a, "nativeParams.sendTargetingKeys"), c = function (e) { var t = {}; Object(u.deepAccess)(e, "nativeParams.ext") && Object.keys(e.nativeParams.ext).forEach(function (e) { t[e] = "hb_native_".concat(e) }); return p(p({}, l.NATIVE_KEYS), t) }(a), e = p(p({}, o.native), o.native.ext); return delete e.ext, Object.keys(e).forEach(function (e) { var t, r, n = c[e], i = f(o.native[e]) || f(Object(u.deepAccess)(o, "native.ext.".concat(e))); "adTemplate" !== e && n && i && ("boolean" != typeof (t = Object(u.deepAccess)(a, "nativeParams.".concat(e, ".sendId"))) && (t = Object(u.deepAccess)(a, "nativeParams.ext.".concat(e, ".sendId"))), t && (i = "".concat(n, ":").concat(o.adId)), "boolean" != typeof (r = Object(u.deepAccess)(a, "nativeParams.".concat(e, ".sendTargetingKeys"))) && (r = Object(u.deepAccess)(a, "nativeParams.ext.".concat(e, ".sendTargetingKeys"))), ("boolean" == typeof r ? r : s) && (d[n] = i)) }), d }, t.d = function (e, n) { var i = { message: "assetResponse", adId: e.adId, assets: [] }; n.native.hasOwnProperty("adTemplate") && (i.adTemplate = f(n.native.adTemplate)); n.native.hasOwnProperty("rendererUrl") && (i.rendererUrl = f(n.native.rendererUrl)); return e.assets.forEach(function (e) { var t = Object(u.getKeyByValue)(l.NATIVE_KEYS, e), r = f(n.native[t]); i.assets.push({ key: t, value: r }) }), i }, t.c = function (e, n) { var i = { message: "assetResponse", adId: e.adId, assets: [] }; return Object.keys(n.native).forEach(function (r, e) { var t; "adTemplate" === r && n.native[r] ? i.adTemplate = f(n.native[r]) : "rendererUrl" === r && n.native[r] ? i.rendererUrl = f(n.native[r]) : "ext" === r ? Object.keys(n.native[r]).forEach(function (e) { var t; n.native[r][e] && (t = f(n.native[r][e]), i.assets.push({ key: e, value: t })) }) : n.native[r] && l.NATIVE_KEYS.hasOwnProperty(r) && (t = f(n.native[r]), i.assets.push({ key: r, value: t })) }), i }; var u = r(0), n = r(12), a = r.n(n); function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function d(t, e) { var r, n = Object.keys(t); return Object.getOwnPropertySymbols && (r = Object.getOwnPropertySymbols(t), e && (r = r.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, r)), n } function p(i) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? d(Object(o), !0).forEach(function (e) { var t, r, n; t = i, n = o[r = e], r in t ? Object.defineProperty(t, r, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[r] = n }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(o)) : d(Object(o)).forEach(function (e) { Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(o, e)) }) } return i } var l = r(5), o = [], s = Object.keys(l.NATIVE_KEYS).map(function (e) { return l.NATIVE_KEYS[e] }), c = { image: { image: { required: !0 }, title: { required: !0 }, sponsoredBy: { required: !0 }, clickUrl: { required: !0 }, body: { required: !1 }, icon: { required: !1 } } }; function f(e) { return "object" === i(e) && e.url ? e.url : e } }, function (e, t, r) { "use strict"; t.a = function (n, e, t) { if (!e || !n) return void o.logError("cannot load external script without url and moduleCode"); if (!i()(d, e)) return void o.logError("".concat(e, " not whitelisted for loading external JavaScript")); if (a[n]) return t && "function" == typeof t && (a[n].loaded ? t() : a[n].callbacks.push(t)), a[n].tag; a[n] = { loaded: !1, tag: null, callbacks: [] }, t && "function" == typeof t && a[n].callbacks.push(t); return o.logWarn("module ".concat(e, " is loading external JavaScript")), function (e, t) { var r = document.createElement("script"); r.type = "text/javascript", r.async = !0, (a[n].tag = r).readyState ? r.onreadystatechange = function () { "loaded" !== r.readyState && "complete" !== r.readyState || (r.onreadystatechange = null, t()) } : r.onload = function () { t() }; return r.src = e, o.insertElement(r), r }(n, function () { a[n].loaded = !0; try { for (var e = 0; e < a[n].callbacks.length; e++)a[n].callbacks[e]() } catch (e) { o.logError("Error executing callback", "adloader.js:loadExternalScript", e) } }) }; var n = r(12), i = r.n(n), o = r(0), a = {}, d = ["adloox", "criteo", "outstream", "adagio", "browsi"] }, , , , function (e, t) { e.exports = {} }, function (e, t, r) { var i = r(15), o = r(22), a = r(24)("species"); e.exports = function (e, t) { var r, n = i(e).constructor; return void 0 === n || null == (r = i(n)[a]) ? t : o(r) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return u }), r.d(t, "b", function () { return U }), t.c = k, r.d(t, "d", function () { return l }); var _ = r(0), S = r(3), T = r(39), n = r(25), i = r(108), o = r(2), a = r(11), d = r(12), E = r.n(d), s = r(10), A = r.n(s); function w() { return (w = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function O(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function C(e) { return function (e) { if (Array.isArray(e)) return c(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return c(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return c(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function c(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var x = r(0), j = r(5), B = [], D = Object.keys(j.TARGETING_KEYS).map(function (e) { return j.TARGETING_KEYS[e] }), u = { isBidNotExpired: function (e) { return e.responseTimestamp + 1e3 * e.ttl - 1e3 > Object(_.timestamp)() }, isUnusedBid: function (e) { return e && (e.status && !E()([j.BID_STATUS.RENDERED], e.status) || !e.status) } }, U = Object(a.b)("sync", function (e, n) { var i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0; if (3 < arguments.length && void 0 !== arguments[3] && arguments[3]) return e; var o = [], a = S.b.getConfig("sendBidsControl.dealPrioritization"), d = Object(_.groupBy)(e, "adUnitCode"); return Object.keys(d).forEach(function (e) { var t = [], r = Object(_.groupBy)(d[e], "bidderCode"); Object.keys(r).forEach(function (e) { return t.push(r[e].reduce(n)) }), 0 < i ? (t = a ? t.sort(k(!0)) : t.sort(function (e, t) { return t.cpm - e.cpm }), o.push.apply(o, C(t.slice(0, i)))) : o.push.apply(o, C(t)) }), o }); function k() { var r = 0 < arguments.length && void 0 !== arguments[0] && arguments[0]; return function (e, t) { return void 0 !== e.adserverTargeting.hb_deal && void 0 === t.adserverTargeting.hb_deal ? -1 : void 0 === e.adserverTargeting.hb_deal && void 0 !== t.adserverTargeting.hb_deal ? 1 : r ? t.cpm - e.cpm : t.adserverTargeting.hb_pb - e.adserverTargeting.hb_pb } } var R, N, p, l = (R = n.a, p = {}, (N = {}).setLatestAuctionForAdUnit = function (e, t) { p[e] = t }, N.resetPresetTargeting = function (e, t) { var r, i; Object(_.isGptPubadsDefined)() && (r = M(e), i = R.getAdUnits().filter(function (e) { return E()(r, e.code) }), window.googletag.pubads().getSlots().forEach(function (r) { var n = x.isFn(t) && t(r); B.forEach(function (t) { i.forEach(function (e) { (e.code === r.getAdUnitPath() || e.code === r.getSlotElementId() || x.isFn(n) && n(e.code)) && r.setTargeting(t, null) }) }) })) }, N.resetPresetTargetingAST = function (e) { M(e).forEach(function (e) { var t, r, n = window.apntag.getTag(e); n && n.keywords && (t = Object.keys(n.keywords), r = {}, t.forEach(function (e) { E()(B, e.toLowerCase()) || (r[e] = n.keywords[e]) }), window.apntag.modifyTag(e, { keywords: r })) }) }, N.getAllTargeting = function (e) { var t, r, n, i, o, a, d, s, c, u, p = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : z(), l = M(e), f = (d = l, s = p, c = N.getWinningBids(d, s), u = G(), (c = c.map(function (o) { return O({}, o.adUnitCode, Object.keys(o.adserverTargeting).filter(function (e) { return void 0 === o.sendStandardTargeting || o.sendStandardTargeting || -1 === u.indexOf(e) }).reduce(function (e, t) { var r = [o.adserverTargeting[t]], n = O({}, t.substring(0, 20), r); if (t !== j.TARGETING_KEYS.DEAL) return [].concat(C(e), [n]); var i = O({}, "".concat(t, "_").concat(o.bidderCode).substring(0, 20), r); return [].concat(C(e), [n, i]) }, [])) })).concat((a = l, p.filter(function (e) { return E()(a, e.adUnitCode) }).map(function (e) { return w({}, e) }).reduce(q, []).map(W).filter(function (e) { return e }))).concat(S.b.getConfig("enableSendAllBids") ? (r = l, n = p, i = D.concat(T.a), o = S.b.getConfig("sendBidsControl.bidLimit"), U(n, _.getHighestCpm, o).map(function (t) { if (P(t, r)) return O({}, t.adUnitCode, H(t, i.filter(function (e) { return void 0 !== t.adserverTargeting[e] }))) }).filter(function (e) { return e })) : function (e, t) { if (!0 !== S.b.getConfig("targetingControls.alwaysIncludeDeals")) return []; var r = D.concat(T.a); return U(t, _.getHighestCpm).map(function (t) { if (t.dealId && P(t, e)) return O({}, t.adUnitCode, H(t, r.filter(function (e) { return void 0 !== t.adserverTargeting[e] }))) }).filter(function (e) { return e }) }(l, p)).concat((t = l, R.getAdUnits().filter(function (e) { return E()(t, e.code) && b(e) }).map(function (e) { return O({}, e.code, (t = b(e), Object.keys(t).map(function (e) { return O({}, e, x.isArray(t[e]) ? t[e] : t[e].split(",")) }))); var t })))); function b(e) { return Object(_.deepAccess)(e, j.JSON_MAPPING.ADSERVER_TARGETING) } f.map(function (t) { Object.keys(t).map(function (e) { t[e].map(function (e) { -1 === B.indexOf(Object.keys(e)[0]) && (B = Object.keys(e).concat(B)) }) }) }); var g = Object.keys(w({}, j.DEFAULT_TARGETING_KEYS, j.NATIVE_KEYS)), m = S.b.getConfig("targetingControls.allowTargetingKeys") || g; Array.isArray(m) && 0 < m.length && (f = function (e, n) { var i = w({}, j.TARGETING_KEYS, j.NATIVE_KEYS), o = Object.keys(i), a = {}; Object(_.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map(function (e) { return i[e] }).join(", "), " ]")), e.map(function (e) { var t = Object.keys(e)[0], r = e[t].filter(function (e) { var r = Object.keys(e)[0], t = 0 === o.filter(function (e) { return 0 === r.indexOf(i[e]) }).length || A()(n, function (e) { var t = i[e]; return 0 === r.indexOf(t) }); return a[r] = !t, t }); e[t] = r }); var t = Object.keys(a).filter(function (e) { return a[e] }); return Object(_.logInfo)("allowTargetingKeys - removed keys [ ".concat(t.join(", "), " ]")), e.filter(function (e) { return 0 < e[Object.keys(e)[0]].length }) }(f, m)), f = f.map(function (e) { return O({}, Object.keys(e)[0], e[Object.keys(e)[0]].map(function (e) { return O({}, Object.keys(e)[0], e[Object.keys(e)[0]].join(", ")) }).reduce(function (e, t) { return w(t, e) }, {})) }).reduce(function (e, t) { var r = Object.keys(t)[0]; return e[r] = w({}, e[r], t[r]), e }, {}); var v, y, h, I = S.b.getConfig("targetingControls.auctionKeyMaxChars"); return I && (Object(_.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(I, " characters.  Running checks on auction keys...")), v = f, y = I, h = Object(_.deepClone)(v), f = Object.keys(h).map(function (e) { return { adUnitCode: e, adserverTargeting: h[e] } }).sort(k()).reduce(function (e, t, r, n) { var i, o = (i = t.adserverTargeting, Object.keys(i).reduce(function (e, t) { return e + "".concat(t, "%3d").concat(encodeURIComponent(i[t]), "%26") }, "")); r + 1 === n.length && (o = o.slice(0, -3)); var a = t.adUnitCode, d = o.length; return d <= y ? (y -= d, Object(_.logInfo)("AdUnit '".concat(a, "' auction keys comprised of ").concat(d, " characters.  Deducted from running threshold; new limit is ").concat(y), h[a]), e[a] = h[a]) : Object(_.logWarn)("The following keys for adUnitCode '".concat(a, "' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(d, ", the current allotted amount was ").concat(y, ".\n"), h[a]), r + 1 === n.length && 0 === Object.keys(e).length && Object(_.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."), e }, {})), l.forEach(function (e) { f[e] || (f[e] = {}) }), f }, N.setTargetingForGPT = function (i, e) { window.googletag.pubads().getSlots().forEach(function (n) { Object.keys(i).filter((e || Object(_.isAdUnitCodeMatchingSlot))(n)).forEach(function (r) { return Object.keys(i[r]).forEach(function (t) { var e = i[r][t]; "string" == typeof e && (e = e.split(",")), (e = 1 < e.length ? [e] : e).map(function (e) { return x.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId(), " key: ").concat(t, " value: ").concat(e)), e }).forEach(function (e) { n.setTargeting(t, e) }) }) }) }) }, N.getWinningBids = function (e) { var r = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : z(), t = M(e); return r.filter(function (e) { return E()(t, e.adUnitCode) }).filter(function (e) { return 0 < e.cpm }).map(function (e) { return e.adUnitCode }).filter(_.uniques).map(function (t) { return r.filter(function (e) { return e.adUnitCode === t ? e : null }).reduce(_.getHighestCpm) }) }, N.setTargetingForAst = function (e) { var n = N.getAllTargeting(e); try { N.resetPresetTargetingAST(e) } catch (e) { x.logError("unable to reset targeting for AST" + e) } Object.keys(n).forEach(function (r) { return Object.keys(n[r]).forEach(function (e) { var t; x.logMessage("Attempting to set targeting for targetId: ".concat(r, " key: ").concat(e, " value: ").concat(n[r][e])), (x.isStr(n[r][e]) || x.isArray(n[r][e])) && (t = {}, e.search(/pt[0-9]/) < 0 ? t[e.toUpperCase()] = n[r][e] : t[e] = n[r][e], window.apntag.setKeywords(r, t, { overrideKeyValue: !0 })) }) }) }, N.isApntagDefined = function () { if (window.apntag && x.isFn(window.apntag.setKeywords)) return !0 }, N); function P(e, t) { return e.adserverTargeting && t && (x.isArray(t) && E()(t, e.adUnitCode) || "string" == typeof t && e.adUnitCode === t) } function M(e) { return "string" == typeof e ? [e] : x.isArray(e) ? e : R.getAdUnitCodes() || [] } function z() { var e = R.getBidsReceived(); return S.b.getConfig("useBidCache") || (e = e.filter(function (e) { return p[e.adUnitCode] === e.auctionId })), e = e.filter(function (e) { return Object(_.deepAccess)(e, "video.context") !== o.a }).filter(function (e) { return "banner" !== e.mediaType || Object(i.c)([e.width, e.height]) }).filter(u.isUnusedBid).filter(u.isBidNotExpired), U(e, _.getOldestHighestCpmBid) } function G() { return R.getStandardBidderAdServerTargeting().map(function (e) { return e.key }).concat(D).filter(_.uniques) } function q(n, i, e, t) { return Object.keys(i.adserverTargeting).filter(f()).forEach(function (e) { var t, r; n.length && n.filter((r = e, function (e) { return e.adUnitCode === i.adUnitCode && e.adserverTargeting[r] })).forEach((t = e, function (e) { x.isArray(e.adserverTargeting[t]) || (e.adserverTargeting[t] = [e.adserverTargeting[t]]), e.adserverTargeting[t] = e.adserverTargeting[t].concat(i.adserverTargeting[t]).filter(_.uniques), delete i.adserverTargeting[t] })) }), n.push(i), n } function f() { var t = G().concat(T.a); return function (e) { return -1 === t.indexOf(e) } } function W(t) { return O({}, t.adUnitCode, Object.keys(t.adserverTargeting).filter(f()).map(function (e) { return O({}, e.substring(0, 20), [t.adserverTargeting[e]]) })) } function H(t, e) { return e.map(function (e) { return O({}, "".concat(e, "_").concat(t.bidderCode).substring(0, 20), [t.adserverTargeting[e]]) }) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return I }); var a = r(0), n = r(3), i = r(12), o = r.n(i), d = r(7); function s(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var r = [], n = !0, i = !1, o = void 0; try { for (var a, d = e[Symbol.iterator](); !(n = (a = d.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == d.return || d.return() } finally { if (i) throw o } } return r }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return c(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return c(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function c(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function u() { return (u = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } n.b.setDefaults({ userSync: a.deepClone({ syncEnabled: !0, filterSettings: { image: { bidders: "*", filter: "include" } }, syncsPerBidder: 5, syncDelay: 3e3, auctionDelay: 0 }) }); var p = Object(d.a)("usersync"); var l, f, b, g, m, v, y, h = !a.isSafariBrowser() && p.cookiesAreEnabled(), I = (l = { config: n.b.getConfig("userSync"), browserSupportsCookies: h }, f = {}, b = _(), g = new Set, v = { image: !0, iframe: !(m = {}) }, y = l.config, n.b.getConfig("userSync", function (e) { var t; e.userSync && (t = e.userSync.filterSettings, a.isPlainObject(t) && (t.image || t.all || (e.userSync.filterSettings.image = { bidders: "*", filter: "include" }))), y = u(y, e.userSync) }), f.registerSync = function (e, t, r) { return g.has(t) ? a.logMessage('already fired syncs for "'.concat(t, '", ignoring registerSync call')) : y.syncEnabled && a.isArray(b[e]) ? t ? 0 !== y.syncsPerBidder && Number(m[t]) >= y.syncsPerBidder ? a.logWarn('Number of user syncs exceeded for "'.concat(t, '"')) : f.canBidderRegisterSync(e, t) ? (b[e].push([t, r]), (n = m)[i = t] ? n[i] += 1 : n[i] = 1, void (m = n)) : a.logWarn('Bidder "'.concat(t, '" not permitted to register their "').concat(e, '" userSync pixels.')) : a.logWarn("Bidder is required for registering sync") : a.logWarn('User sync type "'.concat(e, '" not supported')); var n, i }, f.syncUsers = function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0; if (e) return setTimeout(S, Number(e)); S() }, f.triggerUserSyncs = function () { y.enableOverride && f.syncUsers() }, f.canBidderRegisterSync = function (e, t) { return !y.filterSettings || !E(e, t) }, f); function _() { return { image: [], iframe: [] } } function S() { if (y.syncEnabled && l.browserSupportsCookies) { try { !function () { if (!v.image) return; T(b.image, function (e) { var t = s(e, 2), r = t[0], n = t[1]; a.logMessage("Invoking image pixel user sync for bidder: ".concat(r)), a.triggerPixel(n) }) }(), function () { if (!v.iframe) return; T(b.iframe, function (e) { var t = s(e, 2), r = t[0], n = t[1]; a.logMessage("Invoking iframe user sync for bidder: ".concat(r)), a.insertUserSyncIframe(n) }) }() } catch (e) { return a.logError("Error firing user syncs", e) } b = _() } } function T(e, t) { a.shuffle(e).forEach(function (e) { t(e), g.add(e[0]) }) } function E(e, t) { var r = y.filterSettings; if (function (e, t) { if (e.all && e[t]) return a.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t, '" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')), !1; var r = e.all ? e.all : e[t], n = e.all ? "all" : t; if (!r) return !1; var i = r.filter, o = r.bidders; if (i && "include" !== i && "exclude" !== i) return a.logWarn('UserSync "filterSettings.'.concat(n, ".filter\" setting '").concat(i, "' is not a valid option; use either 'include' or 'exclude'.")), !1; return !!("*" === o || Array.isArray(o) && 0 < o.length && o.every(function (e) { return a.isStr(e) && "*" !== e })) || (a.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(n, ".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")), !1) }(r, e)) { v[e] = !0; var n = r.all ? r.all : r[e], i = "*" === n.bidders ? [t] : n.bidders; return { include: function (e, t) { return !o()(e, t) }, exclude: function (e, t) { return o()(e, t) } }[n.filter || "include"](i, t) } return !v[e] } }, , , function (e, t, r) { "use strict"; r.d(t, "a", function () { return u }), r.d(t, "b", function () { return y }); var n = r(10), m = r.n(n), i = r(0), v = 2, o = { buckets: [{ max: 5, increment: .5 }] }, a = { buckets: [{ max: 20, increment: .1 }] }, d = { buckets: [{ max: 20, increment: .01 }] }, s = { buckets: [{ max: 3, increment: .01 }, { max: 8, increment: .05 }, { max: 20, increment: .5 }] }, c = { buckets: [{ max: 5, increment: .05 }, { max: 10, increment: .1 }, { max: 20, increment: .5 }] }; function u(e, t) { var r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 1, n = parseFloat(e); return isNaN(n) && (n = ""), { low: "" === n ? "" : p(e, o, r), med: "" === n ? "" : p(e, a, r), high: "" === n ? "" : p(e, d, r), auto: "" === n ? "" : p(e, c, r), dense: "" === n ? "" : p(e, s, r), custom: "" === n ? "" : p(e, t, r) } } function p(r, e, n) { var i = ""; if (!y(e)) return i; var t, o, a, d, s, c, u, p, l, f = e.buckets.reduce(function (e, t) { return e.max > t.max ? e : t }, { max: 0 }), b = 0, g = m()(e.buckets, function (e) { if (r > f.max * n) { var t = e.precision; void 0 === t && (t = v), i = (e.max * n).toFixed(t) } else { if (r <= e.max * n && b * n <= r) return e.min = b, e; b = e.max } }); return g && (t = r, a = n, d = void 0 !== (o = g).precision ? o.precision : v, s = o.increment * a, c = o.min * a, u = Math.pow(10, d + 2), p = (t * u - c * u) / (s * u), l = Math.floor(p) * s + c, i = (l = Number(l.toFixed(10))).toFixed(d)), i } function y(e) { if (i.isEmpty(e) || !e.buckets || !Array.isArray(e.buckets)) return !1; var t = !0; return e.buckets.forEach(function (e) { e.max && e.increment || (t = !1) }), t } }, function (e, t) { e.exports = function (e, t) { return { enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t } } }, function (e, t, r) { var n = r(87), i = r(54); e.exports = function (e) { return n(i(e)) } }, function (e, t) { var r = {}.toString; e.exports = function (e) { return r.call(e).slice(8, -1) } }, function (e, t) { e.exports = function (e) { if (null == e) throw TypeError("Can't call method on " + e); return e } }, function (e, t) { e.exports = {} }, function (e, t, r) { var n = r(68), i = Math.min; e.exports = function (e) { return 0 < e ? i(n(e), 9007199254740991) : 0 } }, function (e, t) { e.exports = function () { } }, function (e, t, r) { var n = r(30); e.exports = n }, function (e, t) { e.exports = {} }, function (e, t, r) { var n, i, o, a, d, s, c, u, p = r(139), l = r(28), f = r(33), b = r(34), g = r(29), m = r(75), v = r(59), y = l.WeakMap; c = p ? (n = new y, i = n.get, o = n.has, a = n.set, d = function (e, t) { return a.call(n, e, t), t }, s = function (e) { return i.call(n, e) || {} }, function (e) { return o.call(n, e) }) : (v[u = m("state")] = !0, d = function (e, t) { return b(e, u, t), t }, s = function (e) { return g(e, u) ? e[u] : {} }, function (e) { return g(e, u) }), e.exports = { set: d, get: s, has: c, enforce: function (e) { return c(e) ? s(e) : d(e, {}) }, getterFor: function (r) { return function (e) { var t; if (!f(e) || (t = s(e)).type !== r) throw TypeError("Incompatible receiver, " + r + " required"); return t } } } }, , , , function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), r.d(t, "adUnitSetupChecks", function () { return V }), r.d(t, "checkAdUnitSetup", function () { return K }), t.executeCallbacks = Q; var n = r(17), i = r(0), o = r(187), a = r(47), I = r(3), _ = r(25), l = r(46), d = r(11), s = r(189), c = r(12), f = r.n(c), b = r(77), S = r(13), u = r(36), p = r(7); function g(e) { return function (e) { if (Array.isArray(e)) return m(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return m(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return m(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function m(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function v() { return (v = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } var y = Object(n.a)(), T = r(5), E = r(0), h = r(8).default, A = r(9), w = a.a.triggerUserSyncs, O = T.EVENTS, C = O.ADD_AD_UNITS, x = O.BID_WON, j = O.REQUEST_BIDS, B = O.SET_TARGETING, D = O.AD_RENDER_FAILED, U = O.STALE_RENDER, k = T.AD_RENDER_FAILED_REASON, R = k.PREVENT_WRITING_ON_MAIN_DOCUMENT, N = k.NO_AD, P = k.EXCEPTION, M = k.CANNOT_FIND_AD, z = k.MISSING_DOC_OR_ADID, G = { bidWon: function (e) { var t = _.a.getBidsRequested().map(function (e) { return e.bids.map(function (e) { return e.adUnitCode }) }).reduce(i.flatten).filter(i.uniques); return !!E.contains(t, e) || void E.logError('The "' + e + '" placement is not defined.') } }; function q(e, t, r) { e.defaultView && e.defaultView.frameElement && (e.defaultView.frameElement.width = t, e.defaultView.frameElement.height = r) } function W(e, t) { var r = []; return E.isArray(e) && (t ? e.length === t : 0 < e.length) && (e.every(function (e) { return Object(i.isArrayOfNums)(e, 2) }) ? r = e : Object(i.isArrayOfNums)(e, 2) && r.push(e)), r } function H(e) { var t = E.deepClone(e), r = t.mediaTypes.banner, n = W(r.sizes); return 0 < n.length ? (r.sizes = n, t.sizes = n) : (E.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."), delete t.mediaTypes.banner), t } function L(e) { var t, r, n = E.deepClone(e), i = n.mediaTypes.video; return i.playerSize && (t = "number" == typeof i.playerSize[0] ? 2 : 1, 0 < (r = W(i.playerSize, t)).length ? (2 == t && E.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."), i.playerSize = r, n.sizes = r) : (E.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."), delete n.mediaTypes.video.playerSize)), n } function F(e) { var t = E.deepClone(e), r = t.mediaTypes.native; return r.image && r.image.sizes && !Array.isArray(r.image.sizes) && (E.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."), delete t.mediaTypes.native.image.sizes), r.image && r.image.aspect_ratios && !Array.isArray(r.image.aspect_ratios) && (E.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."), delete t.mediaTypes.native.image.aspect_ratios), r.icon && r.icon.sizes && !Array.isArray(r.icon.sizes) && (E.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."), delete t.mediaTypes.native.icon.sizes), t } Object(s.a)(), y.bidderSettings = y.bidderSettings || {}, y.libLoaded = !0, y.version = "v4.42.1", E.logInfo("Prebid.js v4.42.1 loaded"), y.installedModules = ["schain", "ixBidAdapter", "appnexusBidAdapter", "rubiconBidAdapter", "pubmaticBidAdapter", "tripleliftBidAdapter", "gridBidAdapter", "richaudienceBidAdapter", "onetagBidAdapter", "nativoBidAdapter", "consentManagement", "currency"], y.adUnits = y.adUnits || [], y.triggerUserSyncs = w; var V = { validateBannerMediaType: H, validateVideoMediaType: L, validateNativeMediaType: F, validateSizes: W }, K = Object(d.b)("sync", function (e) { var d = []; return e.forEach(function (e) { var t, r, n, i, o = e.mediaTypes, a = e.bids; a && E.isArray(a) ? o && 0 !== Object.keys(o).length ? (o.banner && (t = H(e)), o.video && (r = L(t || e)), o.native && (n = F(r || (t || e))), i = v({}, t, r, n), d.push(i)) : E.logError("Detected adUnit.code '".concat(e.code, "' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")) : E.logError("Detected adUnit.code '".concat(e.code, "' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction.")) }), d }, "checkAdUnitSetup"); function Y(e) { var r = _.a[e]().filter(E.bind.call(i.adUnitsFilter, this, _.a.getAdUnitCodes())), n = _.a.getLastAuctionId(); return r.map(function (e) { return e.adUnitCode }).filter(i.uniques).map(function (t) { return r.filter(function (e) { return e.auctionId === n && e.adUnitCode === t }) }).filter(function (e) { return e && e[0] && e[0].adUnitCode }).map(function (e) { return t = {}, r = e[0].adUnitCode, n = { bids: e }, r in t ? Object.defineProperty(t, r, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[r] = n, t; var t, r, n }).reduce(function (e, t) { return v(e, t) }, {}) } function J(e) { var t = e.reason, r = e.message, n = e.bid, i = e.id, o = { reason: t, message: r }; n && (o.bid = n), i && (o.adId = i), E.logError(r), A.emit(D, o) } function Q(e, t) { function r(e) { for (var t; t = e.shift();)t() } r(p.c), r($), e.call(this, t) } y.getAdserverTargetingForAdUnitCodeStr = function (e) { if (E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr", arguments), e) { var t = y.getAdserverTargetingForAdUnitCode(e); return E.transformAdServerTargetingObj(t) } E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode") }, y.getHighestUnusedBidResponseForAdUnitCode = function (e) { if (e) { var t = _.a.getAllBidsForAdUnitCode(e).filter(l.a.isUnusedBid).filter(l.a.isBidNotExpired); return t.length ? t.reduce(i.getHighestCpm) : {} } E.logMessage("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode") }, y.getAdserverTargetingForAdUnitCode = function (e) { return y.getAdserverTargeting(e)[e] }, y.getAdserverTargeting = function (e) { return E.logInfo("Invoking pbjs.getAdserverTargeting", arguments), l.d.getAllTargeting(e) }, y.getNoBids = function () { return E.logInfo("Invoking pbjs.getNoBids", arguments), Y("getNoBids") }, y.getNoBidsForAdUnitCode = function (t) { return { bids: _.a.getNoBids().filter(function (e) { return e.adUnitCode === t }) } }, y.getBidResponses = function () { return E.logInfo("Invoking pbjs.getBidResponses", arguments), Y("getBidsReceived") }, y.getBidResponsesForAdUnitCode = function (t) { return { bids: _.a.getBidsReceived().filter(function (e) { return e.adUnitCode === t }) } }, y.setTargetingForGPTAsync = function (e, t) { var r; E.logInfo("Invoking pbjs.setTargetingForGPTAsync", arguments), Object(i.isGptPubadsDefined)() ? (r = l.d.getAllTargeting(e), l.d.resetPresetTargeting(e, t), l.d.setTargetingForGPT(r, t), Object.keys(r).forEach(function (t) { Object.keys(r[t]).forEach(function (e) { "hb_adid" === e && _.a.setStatusForBids(r[t][e], T.BID_STATUS.BID_TARGETING_SET) }) }), A.emit(B, r)) : E.logError("window.googletag is not defined on the page") }, y.setTargetingForAst = function (e) { E.logInfo("Invoking pbjs.setTargetingForAn", arguments), l.d.isApntagDefined() ? (l.d.setTargetingForAst(e), A.emit(B, l.d.getAllTargeting())) : E.logError("window.apntag is not defined on the page") }, y.renderAd = function (e, t, r) { if (E.logInfo("Invoking pbjs.renderAd", arguments), E.logMessage("Calling renderAd with adId :" + t), e && t) try { var n, i, o, a, d, s, c, u, p, l, f, b, g, m, v = _.a.findBidByAdId(t); v ? (n = !0, v && v.status === T.BID_STATUS.RENDERED && (E.logWarn("Ad id ".concat(v.adId, " has been rendered before")), A.emit(U, v), E.deepAccess(I.b.getConfig("auctionOptions"), "suppressStaleRender") && (n = !1)), n && (v.ad = E.replaceAuctionPrice(v.ad, v.cpm), v.adUrl = E.replaceAuctionPrice(v.adUrl, v.cpm), r && r.clickThrough && (i = r.clickThrough, v.ad = E.replaceClickThrough(v.ad, i), v.adUrl = E.replaceClickThrough(v.adUrl, i)), _.a.addWinningBid(v), A.emit(x, v), o = v.height, a = v.width, d = v.ad, s = v.mediaType, c = v.adUrl, u = v.renderer, p = document.createComment("Creative ".concat(v.creativeId, " served by ").concat(v.bidder, " Prebid.js Header Bidding")), E.insertElement(p, e, "body"), Object(S.c)(u) ? Object(S.b)(u, v) : e === document && !E.inIframe() || "video" === s ? (l = "Error trying to write ad. Ad render call ad id ".concat(t, " was prevented from writing to the main document."), J({ reason: R, message: l, bid: v, id: t })) : d ? (navigator.userAgent && -1 < navigator.userAgent.toLowerCase().indexOf("firefox/") && ((f = navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1]) && parseInt(f, 10) < 67 && e.open("text/html", "replace")), e.write(d), e.close(), q(e, a, o), E.callBurl(v)) : c ? ((b = E.createInvisibleIframe()).height = o, b.width = a, b.style.display = "inline", b.style.overflow = "hidden", b.src = c, E.insertElement(b, e, "body"), q(e, a, o), E.callBurl(v)) : (g = "Error trying to write ad. No ad for bid response id: ".concat(t), J({ reason: N, message: g, bid: v, id: t })))) : (m = "Error trying to write ad. Cannot find ad by given id : ".concat(t), J({ reason: M, message: m, id: t })) } catch (e) { var y = "Error trying to write ad Id :".concat(t, " to the page:").concat(e.message); J({ reason: P, message: y, id: t }) } else { var h = "Error trying to write ad Id :".concat(t, " to the page. Missing document or adId"); J({ reason: z, message: h, id: t }) } }, y.removeAdUnit = function (e) { E.logInfo("Invoking pbjs.removeAdUnit", arguments), e ? (E.isArray(e) ? e : [e]).forEach(function (e) { for (var t = y.adUnits.length - 1; 0 <= t; t--)y.adUnits[t].code === e && y.adUnits.splice(t, 1) }) : y.adUnits = [] }, y.requestBids = Object(d.b)("async", function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, t = e.bidsBackHandler, r = e.timeout, n = e.adUnits, i = e.adUnitCodes, o = e.labels, a = e.auctionId; A.emit(j); var d = r || I.b.getConfig("bidderTimeout"), n = n && I.b.convertAdUnitFpd(E.isArray(n) ? n : [n]) || y.adUnits; E.logInfo("Invoking pbjs.requestBids", arguments); var s = [], c = []; if (I.b.getConfig("s2sConfig", function (e) { e && e.s2sConfig && (s = Array.isArray(e.s2sConfig) ? e.s2sConfig : [e.s2sConfig]) }), s.forEach(function (e) { c.push.apply(c, g(e.bidders)) }), n = K(n), i && i.length ? n = n.filter(function (e) { return f()(i, e.code) }) : i = n && n.map(function (e) { return e.code }), n.forEach(function (i) { var o = Object.keys(i.mediaTypes || { banner: "banner" }), e = i.bids.map(function (e) { return e.bidder }), a = h.bidderRegistry, t = c ? e.filter(function (e) { return !f()(c, e) }) : e; i.transactionId = E.generateUUID(), t.forEach(function (t) { var e = a[t], r = e && e.getSpec && e.getSpec(), n = r && r.supportedMediaTypes || ["banner"]; o.some(function (e) { return f()(n, e) }) ? b.a.incrementBidderRequestsCounter(i.code, t) : (E.logWarn(E.unsupportedBidderMessage(i, t)), i.bids = i.bids.filter(function (e) { return e.bidder !== t })) }), b.a.incrementRequestsCounter(i.code) }), n && 0 !== n.length) { var u = _.a.createAuction({ adUnits: n, adUnitCodes: i, callback: t, cbTimeout: d, labels: o, auctionId: a }), p = n.length; 15 < p && E.logInfo("Current auction ".concat(u.getAuctionId(), " contains ").concat(p, " adUnits."), n), i.forEach(function (e) { return l.d.setLatestAuctionForAdUnit(e, u.getAuctionId()) }), u.callBids() } else if (E.logMessage("No adUnits configured. No bids requested."), "function" == typeof t) try { t() } catch (e) { E.logError("Error executing bidsBackHandler", null, e) } }), y.requestBids.before(Q, 49), y.addAdUnits = function (e) { E.logInfo("Invoking pbjs.addAdUnits", arguments), y.adUnits.push.apply(y.adUnits, I.b.convertAdUnitFpd(E.isArray(e) ? e : [e])), A.emit(C) }, y.onEvent = function (e, t, r) { E.logInfo("Invoking pbjs.onEvent", arguments), E.isFn(t) ? !r || G[e].call(null, r) ? A.on(e, t, r) : E.logError('The id provided is not valid for event "' + e + '" and no handler was set.') : E.logError('The event handler provided is not a function and was not set on event "' + e + '".') }, y.offEvent = function (e, t, r) { E.logInfo("Invoking pbjs.offEvent", arguments), r && !G[e].call(null, r) || A.off(e, t, r) }, y.getEvents = function () { return E.logInfo("Invoking pbjs.getEvents"), A.getEvents() }, y.registerBidAdapter = function (e, t) { E.logInfo("Invoking pbjs.registerBidAdapter", arguments); try { h.registerBidAdapter(e(), t) } catch (e) { E.logError("Error registering bidder adapter : " + e.message) } }, y.registerAnalyticsAdapter = function (e) { E.logInfo("Invoking pbjs.registerAnalyticsAdapter", arguments); try { h.registerAnalyticsAdapter(e) } catch (e) { E.logError("Error registering analytics adapter : " + e.message) } }, y.createBid = function (e) { return E.logInfo("Invoking pbjs.createBid", arguments), Object(u.createBid)(e) }; var $ = [], X = Object(d.b)("async", function (e) { e && !E.isEmpty(e) ? (E.logInfo("Invoking pbjs.enableAnalytics for: ", e), h.enableAnalytics(e)) : E.logError("pbjs.enableAnalytics should be called with option {}") }, "enableAnalyticsCb"); function Z(e) { e.forEach(function (e) { if (void 0 === e.called) try { e.call(), e.called = !0 } catch (e) { E.logError("Error processing command :", "prebid.js", e) } }) } y.enableAnalytics = function (e) { $.push(X.bind(this, e)) }, y.aliasBidder = function (e, t, r) { E.logInfo("Invoking pbjs.aliasBidder", arguments), e && t ? h.aliasBidAdapter(e, t, r) : E.logError("bidderCode and alias must be passed as arguments", "pbjs.aliasBidder") }, y.getAllWinningBids = function () { return _.a.getAllWinningBids() }, y.getAllPrebidWinningBids = function () { return _.a.getBidsReceived().filter(function (e) { return e.status === T.BID_STATUS.BID_TARGETING_SET }) }, y.getHighestCpmBids = function (e) { return l.d.getWinningBids(e) }, y.markWinningBidAsUsed = function (t) { var e = []; t.adUnitCode && t.adId ? e = _.a.getBidsReceived().filter(function (e) { return e.adId === t.adId && e.adUnitCode === t.adUnitCode }) : t.adUnitCode ? e = l.d.getWinningBids(t.adUnitCode) : t.adId ? e = _.a.getBidsReceived().filter(function (e) { return e.adId === t.adId }) : E.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."), 0 < e.length && (e[0].status = T.BID_STATUS.RENDERED) }, y.getConfig = I.b.getConfig, y.setConfig = I.b.setConfig, y.setBidderConfig = I.b.setBidderConfig, y.que.push(function () { return Object(o.a)() }), y.cmd.push = function (e) { if ("function" == typeof e) try { e.call() } catch (e) { E.logError("Error processing command :", e.message, e.stack) } else E.logError("Commands written into pbjs.cmd.push must be wrapped in a function") }, y.que.push = y.cmd.push, y.processQueue = function () { d.b.ready(), Z(y.que), Z(y.cmd) }, t.default = y }, function (e, t, r) { var i = r(33); e.exports = function (e, t) { if (!i(e)) return e; var r, n; if (t && "function" == typeof (r = e.toString) && !i(n = r.call(e))) return n; if ("function" == typeof (r = e.valueOf) && !i(n = r.call(e))) return n; if (!t && "function" == typeof (r = e.toString) && !i(n = r.call(e))) return n; throw TypeError("Can't convert object to primitive value") } }, function (e, t, r) { function n(f) { var b = 1 == f, g = 2 == f, m = 3 == f, v = 4 == f, y = 6 == f, h = 5 == f || y; return function (e, t, r, n) { for (var i, o, a = S(e), d = _(a), s = I(t, r, 3), c = T(d.length), u = 0, p = n || E, l = b ? p(e, c) : g ? p(e, 0) : void 0; u < c; u++)if ((h || u in d) && (o = s(i = d[u], u, a), f)) if (b) l[u] = o; else if (o) switch (f) { case 3: return !0; case 5: return i; case 6: return u; case 2: A.call(l, i) } else if (v) return !1; return y ? -1 : m || v ? v : l } } var I = r(27), _ = r(87), S = r(67), T = r(56), E = r(127), A = [].push; e.exports = { forEach: n(0), map: n(1), filter: n(2), some: n(3), every: n(4), find: n(5), findIndex: n(6) } }, function (e, t, r) { var n = r(54); e.exports = function (e) { return Object(n(e)) } }, function (e, t) { var r = Math.ceil, n = Math.floor; e.exports = function (e) { return isNaN(e = +e) ? 0 : (0 < e ? n : r)(e) } }, function (e, t) { var r = 0, n = Math.random(); e.exports = function (e) { return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++r + n).toString(36) } }, function (e, t, r) { function a(e) { throw e } var d = r(31), s = r(32), c = r(29), u = Object.defineProperty, p = {}; e.exports = function (e, t) { if (c(p, e)) return p[e]; var r = [][e], n = !!c(t = t || {}, "ACCESSORS") && t.ACCESSORS, i = c(t, 0) ? t[0] : a, o = c(t, 1) ? t[1] : void 0; return p[e] = !!r && !s(function () { if (n && !d) return !0; var e = { length: -1 }; n ? u(e, 1, { enumerable: !0, get: a }) : e[1] = 1, r.call(e, i, o) }) } }, function (e, t, r) { var n = r(72), i = r(44), o = r(24)("iterator"); e.exports = function (e) { if (null != e) return e[o] || e["@@iterator"] || i[n(e)] } }, function (e, t, r) { var n = r(73), i = r(53), o = r(24)("toStringTag"), a = "Arguments" == i(function () { return arguments }()); e.exports = n ? i : function (e) { var t, r, n; return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (r = function (e, t) { try { return e[t] } catch (e) { } }(t = Object(e), o)) ? r : a ? i(t) : "Object" == (n = i(t)) && "function" == typeof t.callee ? "Arguments" : n } }, function (e, t, r) { var n = {}; n[r(24)("toStringTag")] = "z", e.exports = "[object z]" === String(n) }, function (e, t, r) { var o = r(73), a = r(37).f, d = r(34), s = r(29), c = r(138), u = r(24)("toStringTag"); e.exports = function (e, t, r, n) { var i; e && (i = r ? e : e.prototype, s(i, u) || a(i, u, { configurable: !0, value: t }), n && !o && d(i, "toString", c)) } }, function (e, t, r) { var n = r(90), i = r(69), o = n("keys"); e.exports = function (e) { return o[e] || (o[e] = i(e)) } }, function (e, t, r) { "use strict"; function v() { return this } var y = r(14), h = r(147), I = r(103), _ = r(149), S = r(74), T = r(34), E = r(101), n = r(24), A = r(18), w = r(44), i = r(102), O = i.IteratorPrototype, C = i.BUGGY_SAFARI_ITERATORS, x = n("iterator"), j = "values", B = "entries"; e.exports = function (e, t, r, n, i, o, a) { h(r, t, n); function d(e) { if (e === i && g) return g; if (!C && e in f) return f[e]; switch (e) { case "keys": case j: case B: return function () { return new r(this, e) } }return function () { return new r(this) } } var s, c, u, p = t + " Iterator", l = !1, f = e.prototype, b = f[x] || f["@@iterator"] || i && f[i], g = !C && b || d(i), m = "Array" == t && f.entries || b; if (m && (s = I(m.call(new e)), O !== Object.prototype && s.next && (A || I(s) === O || (_ ? _(s, O) : "function" != typeof s[x] && T(s, x, v)), S(s, p, !0, !0), A && (w[p] = v))), i == j && b && b.name !== j && (l = !0, g = function () { return b.call(this) }), A && !a || f[x] === g || T(f, x, g), w[t] = g, i) if (c = { values: d(j), keys: o ? g : d("keys"), entries: d(B) }, a) for (u in c) !C && !l && u in f || E(f, u, c[u]); else y({ target: t, proto: !0, forced: C || l }, c); return c } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return o }); var n = r(0), d = {}; function i(e, t, r) { var n, i, o, a = (i = r, o = d[n = e] = d[n] || { bidders: {} }, i ? o.bidders[i] = o.bidders[i] || {} : o); return a[t] = (a[t] || 0) + 1, a[t] } var o = { incrementRequestsCounter: function (e) { return i(e, "requestsCounter") }, incrementBidderRequestsCounter: function (e, t) { return i(e, "requestsCounter", t) }, incrementBidderWinsCounter: function (e, t) { return i(e, "winsCounter", t) }, getRequestsCounter: function (e) { return Object(n.deepAccess)(d, "".concat(e, ".requestsCounter")) || 0 }, getBidderRequestsCounter: function (e, t) { return Object(n.deepAccess)(d, "".concat(e, ".bidders.").concat(t, ".requestsCounter")) || 0 }, getBidderWinsCounter: function (e, t) { return Object(n.deepAccess)(d, "".concat(e, ".bidders.").concat(t, ".winsCounter")) || 0 } } }, , , , function (e, t, r) { var n = r(252); e.exports = n }, function (e, t, r) { var n = r(396); e.exports = n }, function (e, t, r) { "use strict"; t.a = function (t, r) { o.adServers = o.adServers || {}, o.adServers[t] = o.adServers[t] || {}, Object.keys(r).forEach(function (e) { o.adServers[t][e] ? Object(i.logWarn)("Attempting to add an already registered function property ".concat(e, " for AdServer ").concat(t, ".")) : o.adServers[t][e] = r[e] }) }; var n = r(17), i = r(0), o = Object(n.a)() }, , , , function (e, t, r) { var n = r(32), i = r(53), o = "".split; e.exports = n(function () { return !Object("z").propertyIsEnumerable(0) }) ? function (e) { return "String" == i(e) ? o.call(e, "") : Object(e) } : Object }, function (e, t, r) { var n = r(31), i = r(32), o = r(89); e.exports = !n && !i(function () { return 7 != Object.defineProperty(o("div"), "a", { get: function () { return 7 } }).a }) }, function (e, t, r) { var n = r(28), i = r(33), o = n.document, a = i(o) && i(o.createElement); e.exports = function (e) { return a ? o.createElement(e) : {} } }, function (e, t, r) { var n = r(18), i = r(91); (e.exports = function (e, t) { return i[e] || (i[e] = void 0 !== t ? t : {}) })("versions", []).push({ version: "3.6.4", mode: n ? "pure" : "global", copyright: "┬⌐ 2020 Denis Pushkarev (zloirock.ru)" }) }, function (e, t, r) { var n = r(28), i = r(129), o = "__core-js_shared__", a = n[o] || i(o, {}); e.exports = a }, function (e, t, r) { var n = r(32); e.exports = !!Object.getOwnPropertySymbols && !n(function () { return !String(Symbol()) }) }, function (e, t, r) { function n(d) { return function (e, t, r) { var n, i = s(e), o = c(i.length), a = u(r, o); if (d && t != t) { for (; a < o;)if ((n = i[a++]) != n) return !0 } else for (; a < o; a++)if ((d || a in i) && i[a] === t) return d || a || 0; return !d && -1 } } var s = r(52), c = r(56), u = r(133); e.exports = { includes: n(!0), indexOf: n(!1) } }, function (e, t, r) { var n = r(134); r(157), r(159), r(161), r(163), r(165), r(166), r(167), r(168), r(169), r(170), r(171), r(172), r(173), r(174), r(175), r(176), r(177), r(178), e.exports = n }, function (e, t, r) { function n(e) { d(e, u, { value: { objectID: "O" + ++p, weakData: {} } }) } var i = r(59), o = r(33), a = r(29), d = r(37).f, s = r(69), c = r(137), u = s("meta"), p = 0, l = Object.isExtensible || function () { return !0 }, f = e.exports = { REQUIRED: !1, fastKey: function (e, t) { if (!o(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e; if (!a(e, u)) { if (!l(e)) return "F"; if (!t) return "E"; n(e) } return e[u].objectID }, getWeakData: function (e, t) { if (!a(e, u)) { if (!l(e)) return !0; if (!t) return !1; n(e) } return e[u].weakData }, onFreeze: function (e) { return c && f.REQUIRED && l(e) && !a(e, u) && n(e), e } }; i[u] = !0 }, function (e, t, r) { var n = r(24), i = r(44), o = n("iterator"), a = Array.prototype; e.exports = function (e) { return void 0 !== e && (i.Array === e || a[o] === e) } }, function (e, t, r) { var o = r(15); e.exports = function (t, e, r, n) { try { return n ? e(o(r)[0], r[1]) : e(r) } catch (e) { var i = t.return; throw void 0 !== i && o(i.call(t)), e } } }, function (e, t) { e.exports = function (e, t, r) { if (!(e instanceof t)) throw TypeError("Incorrect " + (r ? r + " " : "") + "invocation"); return e } }, function (e, t, r) { function n() { } function i(e) { return "<script>" + e + "</" + b + ">" } var o, a = r(15), d = r(142), s = r(100), c = r(59), u = r(145), p = r(89), l = r(75), f = "prototype", b = "script", g = l("IE_PROTO"), m = function () { try { o = document.domain && new ActiveXObject("htmlfile") } catch (e) { } var e, t; m = o ? function (e) { e.write(i("")), e.close(); var t = e.parentWindow.Object; return e = null, t }(o) : ((t = p("iframe")).style.display = "none", u.appendChild(t), t.src = String("javascript:"), (e = t.contentWindow.document).open(), e.write(i("document.F=Object")), e.close(), e.F); for (var r = s.length; r--;)delete m[f][s[r]]; return m() }; c[g] = !0, e.exports = Object.create || function (e, t) { var r; return null !== e ? (n[f] = a(e), r = new n, n[f] = null, r[g] = e) : r = m(), void 0 === t ? r : d(r, t) } }, function (e, t) { e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"] }, function (e, t, r) { var i = r(34); e.exports = function (e, t, r, n) { n && n.enumerable ? e[t] = r : i(e, t, r) } }, function (e, t, r) { "use strict"; var n, i, o, a = r(103), d = r(34), s = r(29), c = r(24), u = r(18), p = c("iterator"), l = !1;[].keys && ("next" in (o = [].keys()) ? (i = a(a(o))) !== Object.prototype && (n = i) : l = !0), null == n && (n = {}), u || s(n, p) || d(n, p, function () { return this }), e.exports = { IteratorPrototype: n, BUGGY_SAFARI_ITERATORS: l } }, function (e, t, r) { var n = r(29), i = r(67), o = r(75), a = r(148), d = o("IE_PROTO"), s = Object.prototype; e.exports = a ? Object.getPrototypeOf : function (e) { return e = i(e), n(e, d) ? e[d] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? s : null } }, function (e, t, r) { "use strict"; var i = r(153).charAt, n = r(60), o = r(76), a = "String Iterator", d = n.set, s = n.getterFor(a); o(String, "String", function (e) { d(this, { type: a, string: String(e), index: 0 }) }, function () { var e, t = s(this), r = t.string, n = t.index; return n >= r.length ? { value: void 0, done: !0 } : (e = i(r, n), t.index += e.length, { value: e, done: !1 }) }) }, function (e, t, r) { var n = r(15), i = r(71); e.exports = function (e) { var t = i(e); if ("function" != typeof t) throw TypeError(String(e) + " is not iterable"); return n(t.call(e)) } }, function (e, t, r) { var n = r(179); e.exports = n }, function (e, t, r) { "use strict"; t.b = function (e, t, r) { var n = { puts: e.map(d, r) }; Object(i.a)(o.b.getConfig("cache.url"), function (r) { return { success: function (e) { var t; try { t = JSON.parse(e).responses } catch (e) { return void r(e, []) } t ? r(null, t) : r(new Error("The cache server didn't respond with a responses property."), []) }, error: function (e, t) { r(new Error("Error storing video ad in the cache: ".concat(e, ": ").concat(JSON.stringify(t))), []) } } }(t), JSON.stringify(n), { contentType: "text/plain", withCredentials: !0 }) }, t.a = function (e) { return "".concat(o.b.getConfig("cache.url"), "?uuid=").concat(e) }; var i = r(4), o = r(3), a = r(0); function d(e) { var t, r, n, i = { type: "xml", value: e.vastXml ? e.vastXml : (t = e.vastUrl, r = e.vastImpUrl, n = r ? "<![CDATA[".concat(r, "]]>") : "", '<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t, "]]></VASTAdTagURI>\n        <Impression>").concat(n, "</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")), ttlseconds: Number(e.ttl) }; return o.b.getConfig("cache.vasttrack") && (i.bidder = e.bidder, i.bidid = e.requestId, i.aid = e.auctionId, a.isPlainObject(this) && this.hasOwnProperty("auctionStart") && (i.timestamp = this.auctionStart)), "string" == typeof e.customCacheKey && "" !== e.customCacheKey && (i.key = e.customCacheKey), i } }, function (e, t, r) { "use strict"; t.a = function (e, t) { if (e.labelAll) return { labelAll: !0, labels: e.labelAll, activeLabels: t }; return { labelAll: !1, labels: e.labelAny, activeLabels: t } }, t.c = function (e) { var t = m(1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : g); return !t.shouldFilter || !!t.sizesSupported[e] }, t.b = function () { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, t = e.labels, r = void 0 === t ? [] : t, n = e.labelAll, i = void 0 !== n && n, o = e.activeLabels, a = void 0 === o ? [] : o, d = 1 < arguments.length ? arguments[1] : void 0, s = 2 < arguments.length ? arguments[2] : void 0, c = m(3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : g); d = Object(f.isPlainObject)(d) ? Object(f.deepClone)(d) : s ? { banner: { sizes: s } } : {}; var u = Object(f.deepAccess)(d, "banner.sizes"); c.shouldFilter && u && (d.banner.sizes = u.filter(function (e) { return c.sizesSupported[e] })); var p = Object.keys(d), l = { active: p.every(function (e) { return "banner" !== e }) || p.some(function (e) { return "banner" === e }) && 0 < Object(f.deepAccess)(d, "banner.sizes.length") && (0 === r.length || !i && (r.some(function (e) { return c.labels[e] }) || r.some(function (e) { return b()(a, e) })) || i && r.reduce(function (e, t) { return e ? c.labels[t] || b()(a, t) : e }, !0)), mediaTypes: d }; u && u.length !== d.banner.sizes.length && (l.filterResults = { before: u, after: d.banner.sizes }); return l }; var n = r(3), f = r(0), i = r(12), b = r.n(i); function o(e) { return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var g = []; function m(e) { return e.reduce(function (r, n) { if ("object" === o(n) && "string" == typeof n.mediaQuery) { var t = !1; if ("" === n.mediaQuery) t = !0; else try { t = Object(f.getWindowTop)().matchMedia(n.mediaQuery).matches } catch (e) { Object(f.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"), t = matchMedia(n.mediaQuery).matches } t && (Array.isArray(n.sizesSupported) && (r.shouldFilter = !0), ["labels", "sizesSupported"].forEach(function (t) { return (n[t] || []).forEach(function (e) { return r[t][e] = !0 }) })) } else Object(f.logWarn)('sizeConfig rule missing required property "mediaQuery"'); return r }, { labels: {}, sizesSupported: {}, shouldFilter: !1 }) } n.b.getConfig("sizeConfig", function (e) { return t = e.sizeConfig, void (g = t); var t }) }, function (e, t, r) { "use strict"; t.a = function (e) { var t = e; return { callBids: function () { }, setBidderCode: function (e) { t = e }, getBidderCode: function () { return t } } } }, , , , , , , , , , , function (e, t, r) { r(121), e.exports = r(64) }, function (e, t) { var i = window.googletag || {}; i.cmd = i.cmd || [], window.googletag = i, window.pbjs = window.pbjs || {}, window.pbjs.cmd = window.pbjs.cmd || [], window.pbjs.que = window.pbjs.que || []; var r = r || [], o = o || [], n = window.adUnits; window.dfpAdunitsToRefresh = []; var a = 0, d = (window.testRefresh, window.TIMEOUT || 2e3), s = window.EXCHANGE_RATE || 3.42, c = [45138885], u = ["div-gpt-ad-GreetingsIsland_1x1"]; function p(e, t) { t = t || window.location.href, e = e.replace(/[\[\]]/g, "\\$&"); var r = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)").exec(t); return r ? r[2] ? decodeURIComponent(r[2].replace(/\+/g, " ")) : "" : null } window.pbjs.detectWidth = window.detectWidth || function () { return window.screen.width || window.innerWidth && document.documentElement.clientWidth ? Math.min(window.innerWidth, document.documentElement.clientWidth) : window.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName("body")[0].clientWidth }; p("indexTest"); var l = p("yieldmoTest"), f = (p("jpTest"), p("forceViewable")), b = "normal"; Math.random() < .5 && (b = "viewable"), "true" == f && (b = "viewable"), b = "viewable"; var g = Math.floor(100 * Math.random()), m = "no"; function v(e, t) { for (var r = e.length - 1; 0 <= r; r--)e[r + 1] = e[r]; e[0] = t } g < 20 && (m = 1), g < 15 && (m = 2), g < 10 && (m = 3), g < 5 && (m = 4); var y = "other"; "/announcements" == window.location.pathname.toLowerCase() && (y = "announcements"), "/invitations" == window.location.pathname.toLowerCase() && (y = "invitations"), "/cards" == window.location.pathname.toLowerCase() && (y = "cards"); var h = function () { i.pubads().setTargeting("refreshIteration", a.toString()) }; void 0 === i.cmd.unshift ? v(i.cmd, h) : i.cmd.unshift(h); h = function () { i.pubads().setTargeting("refreshTest", b.toString()) }; void 0 === i.cmd.unshift ? v(i.cmd, h) : i.cmd.unshift(h); h = function () { i.pubads().setTargeting("floorTest", m.toString()) }; void 0 === i.cmd.unshift ? v(i.cmd, h) : i.cmd.unshift(h); h = function () { i.pubads().setTargeting("urlRep", y.toString()) }; function I(e) { i.pubads().refresh([window.dfpAdunitsToRefresh[e]]) } void 0 === i.cmd.unshift ? v(i.cmd, h) : i.cmd.unshift(h), i.cmd.push(function () { i.pubads().addEventListener("slotRenderEnded", function (e) { if (!e.isEmpty && 0 <= c.indexOf(e.advertiserId)) { for (var t = [], r = 0, n = o.length; r < n; r++)o[r].code != e.slot.getSlotElementId() && t.push(o[r]); o = t } }) }), "viewable" == b ? i.cmd.push(function () { i.pubads().addEventListener("impressionViewable", function (e) { console.log("Adunit is now viewable", e.slot.getSlotElementId()), setTimeout(function () { var n; n = e.slot.getSlotElementId(), 0 <= u.indexOf(n) || pbjs.que.push(function () { for (var e = [], t = 0, r = o.length; t < r; t++)o[t].code == n && e.push(o[t].code); if (e.indexOf(n) < 0) return !1; pbjs.requestBids({ timeout: d, adUnitCodes: [n], bidsBackHandler: function () { pbjs.setTargetingForGPTAsync([n]), a++, i.cmd.push(function () { i.pubads().setTargeting("refreshIteration", a.toString()) }), window.dfpAdunitsToRefresh = i.pubads().getSlots(); for (var e = 0, t = window.dfpAdunitsToRefresh.length; e < t; e++)n == window.dfpAdunitsToRefresh[e].getSlotElementId() && (console.log("Refreshing: ", n), I(e)) } }) }) }, 8e4) }) }) : setInterval(function () { window.pbjs.que.push(function () { for (var n = [], e = 0, t = o.length; e < t; e++)0 <= u.indexOf(o[e].code) || n.push(o[e].code); window.pbjs.requestBids({ timeout: d, adUnitCodes: n, bidsBackHandler: function () { window.pbjs.setTargetingForGPTAsync(n), a++, i.cmd.push(function () { i.pubads().setTargeting("refreshIteration", a.toString()) }), window.dfpAdunitsToRefresh = i.pubads().getSlots(); for (var e = 0, t = window.dfpAdunitsToRefresh.length; e < t; e++)for (var r = n.length - 1; 0 <= r; r--)n[r] == window.dfpAdunitsToRefresh[e].getSlotElementId() && I(e) } }) }) }, 8e4); var _ = [[300, 250], [336, 280]], S = [[728, 90]], T = [[728, 90]]; if (970 <= pbjs.detectWidth() && (S = [[728, 90], [970, 90]], T = [[728, 90], [970, 90], [970, 250]]), pbjs.detectWidth() < 767 && (_ = [[300, 250]], T = [[320, 50], [300, 250]]), r.push({ adunit: "Cards_Left_Card_Responsive", code: "div-gpt-ad-Cards_Left_Card_Responsive", mediaTypes: { banner: { sizes: [[120, 600], [160, 600]] } }, bids: [{ bidder: "ix", params: { size: [120, 600], siteId: "205294" } }, { bidder: "ix", params: { size: [160, 600], siteId: "205294" } }, { bidder: "appnexus", params: { placementId: "11720958" } }, { bidder: "appnexus", params: { placementId: "11720960" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723824" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723826" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Cards_Left_Card_Responsive@120x600" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Cards_Left_Card_Responsive@160x600" } }, { bidder: "triplelift", params: { inventoryCode: "Cards_Left_Card_Responsive" } }, { bidder: "grid", params: { uid: 1819 } }, { bidder: "richaudience", params: { pid: "03ubpbJrls", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "7L9fBEse28", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Cards_Left_Card_Responsive" } } }] }), r.push({ adunit: "Categories_Below_Filter", code: "div-gpt-ad-Categories_Below_Filter", mediaTypes: { banner: { sizes: [[120, 600], [160, 600]] } }, bids: [{ bidder: "ix", params: { size: [120, 600], siteId: "205295" } }, { bidder: "ix", params: { size: [160, 600], siteId: "205295" } }, { bidder: "appnexus", params: { placementId: "11720961" } }, { bidder: "appnexus", params: { placementId: "11720962" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723828" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723830" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Filter@120x600" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Filter@160x600" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Below_Filter" } }, { bidder: "grid", params: { uid: 1820 } }, { bidder: "richaudience", params: { pid: "0fa1E7kccU", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1WfNUjZVbF", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Below_Filter" } } }] }), r.push({ adunit: "Categories_Below_Grid", code: "div-gpt-ad-Categories_Below_Grid", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205296" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205296" } }, { bidder: "appnexus", params: { placementId: "11720963" } }, { bidder: "appnexus", params: { placementId: "11720964" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723832" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723834" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Grid@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Grid@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Below_Grid" } }, { bidder: "grid", params: { uid: 1821 } }, { bidder: "richaudience", params: { pid: "wsFO0DcIZN", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "17dJjDKxxc", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Below_Grid" } } }, { bidder: "nativo", params: { placementId: 1126645 } }] }), r.push({ adunit: "Categories_Below_Header", code: "div-gpt-ad-Categories_Below_Header", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205298" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205298" } }, { bidder: "appnexus", params: { placementId: "11720980" } }, { bidder: "appnexus", params: { placementId: "11720981" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723836" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723838" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Header@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Header@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Below_Header" } }, { bidder: "grid", params: { uid: 1823 } }, { bidder: "richaudience", params: { pid: "09Ib9VABGR", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "EY5bQzKGb5", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Below_Header" } } }, { bidder: "nativo", params: { placementId: 1126646 } }] }), r.push({ adunit: "Categories_Below_Header_Mobile", code: "div-gpt-ad-Categories_Below_Header_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205299" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205299" } }, { bidder: "appnexus", params: { placementId: "11720988" } }, { bidder: "appnexus", params: { placementId: "11720987" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723892" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723894" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Header_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Below_Header_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Below_Header_Mobile" } }, { bidder: "grid", params: { uid: 1824 } }, { bidder: "richaudience", params: { pid: "oV5GaWswiL", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1C7mUAUGPC", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Below_Header_Mobile" } } }] }), r.push({ adunit: "Categories_Inside_Grid", code: "div-gpt-ad-Categories_Inside_Grid", mediaTypes: { banner: { sizes: _ } }, bids: [{ bidder: "ix", params: { size: [300, 250], siteId: "205300" } }, { bidder: "ix", params: { size: [336, 280], siteId: "205300" } }, { bidder: "appnexus", params: { placementId: "11720989" } }, { bidder: "appnexus", params: { placementId: "11720991" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723840" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723842" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Inside_Grid@300x250" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Inside_Grid@336x280" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Inside_Grid" } }, { bidder: "grid", params: { uid: 1825 } }, { bidder: "richaudience", params: { pid: "5anzLO06ko", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Inside_Grid" } } }, { bidder: "nativo", params: { placementId: 1126647 } }] }), r.push({ adunit: "Categories_Inside_Grid_Mobile", code: "div-gpt-ad-Categories_Inside_Grid_Mobile", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "ix", params: { size: [300, 250], siteId: "205301" } }, { bidder: "appnexus", params: { placementId: "11720993" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Inside_Grid_Mobile@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Inside_Grid_Mobile" } }, { bidder: "grid", params: { uid: 1826 } }, { bidder: "richaudience", params: { pid: "1bT4ltF0jI", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Inside_Grid_Mobile" } } }, { bidder: "nativo", params: { placementId: 1127439 } }] }), r.push({ adunit: "Categories_Inside_Grid_Mobile_2", code: "div-gpt-ad-Categories_Inside_Grid_Mobile_2", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "ix", params: { size: [300, 250], siteId: "361347" } }, { bidder: "appnexus", params: { placementId: "15666942" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "1259512" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Inside_Grid_Mobile_2@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Inside_Grid_Mobile_2" } }, { bidder: "grid", params: { uid: 1827 } }, { bidder: "richaudience", params: { pid: "1kLAfjeHp7", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Inside_Grid_Mobile_2" } } }, { bidder: "nativo", params: { placementId: 1127440 } }] }), r.push({ adunit: "Categories_Inside_Grid_Mobile_3", code: "div-gpt-ad-Categories_Inside_Grid_Mobile_3", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "ix", params: { size: [300, 250], siteId: "623767" } }, { bidder: "appnexus", params: { placementId: "20953045" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "1961212" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Inside_Grid_Mobile_3@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Inside_Grid_Mobile_3" } }, { bidder: "grid", params: { uid: 46115 } }, { bidder: "richaudience", params: { pid: "17cvFYNhYk", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Inside_Grid_Mobile_3" } } }] }), "true" == l ? r.push({ adunit: "Categories_Mobile_300x250", code: "div-gpt-ad-Categories_Mobile_300x250", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "yieldmo", params: { placementId: "1870311911615792341" } }] }) : r.push({ adunit: "Categories_Mobile_300x250", code: "div-gpt-ad-Categories_Mobile_300x250", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "appnexus", params: { placementId: "12916558" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "868976" } }, { bidder: "ix", params: { size: [300, 250], siteId: "257593" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Categories_Mobile_300x250@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "Categories_Mobile_300x250" } }, { bidder: "grid", params: { uid: 1828 } }, { bidder: "richaudience", params: { pid: "1GpvV5CtiC", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Categories_Mobile_300x250" } } }, { bidder: "nativo", params: { placementId: 1127441 } }] }), r.push({ adunit: "Designer_Top", code: "div-gpt-ad-Designer_Top", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205302" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205302" } }, { bidder: "appnexus", params: { placementId: "11720995" } }, { bidder: "appnexus", params: { placementId: "11720996" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723844" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723846" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Designer_Top@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Designer_Top@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Designer_Top" } }, { bidder: "grid", params: { uid: 1829 } }, { bidder: "richaudience", params: { pid: "MRSmozHRW9", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1TtvI6q5G0", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Designer_Top" } } }, { bidder: "nativo", params: { placementId: 1127442 } }] }), r.push({ adunit: "Designer_Vertical", code: "div-gpt-ad-Designer_Vertical", mediaTypes: { banner: { sizes: [[120, 600], [160, 600]] } }, bids: [{ bidder: "ix", params: { size: [120, 600], siteId: "205320" } }, { bidder: "ix", params: { size: [160, 600], siteId: "205320" } }, { bidder: "appnexus", params: { placementId: "11721042" } }, { bidder: "appnexus", params: { placementId: "11721044" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Designer_Vertical@120x600" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Designer_Vertical@160x600" } }, { bidder: "triplelift", params: { inventoryCode: "Designer_Vertical" } }, { bidder: "grid", params: { uid: 1830 } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Designer_Vertical" } } }] }), r.push({ adunit: "Envelope_Below_Heading_Desktop", code: "div-gpt-ad-Envelope_Below_Heading_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205308" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205308" } }, { bidder: "appnexus", params: { placementId: "11721008" } }, { bidder: "appnexus", params: { placementId: "11721009" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723860" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723862" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Below_Heading_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Below_Heading_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Below_Heading_Desktop" } }, { bidder: "grid", params: { uid: 1832 } }, { bidder: "richaudience", params: { pid: "0jOSdnYVAv", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1rfLb9nxAs", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Below_Heading_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127444 } }] }), r.push({ adunit: "Envelope_Below_Heading_Mobile", code: "div-gpt-ad-Envelope_Below_Heading_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205309" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205309" } }, { bidder: "appnexus", params: { placementId: "11721012" } }, { bidder: "appnexus", params: { placementId: "11721011" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723904" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723906" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Below_Heading_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Below_Heading_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Below_Heading_Mobile" } }, { bidder: "grid", params: { uid: 1833 } }, { bidder: "richaudience", params: { pid: "WpnTJLXBer", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1I94A8ICXl", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Below_Heading_Mobile" } } }] }), r.push({ adunit: "Envelope_Bottom", code: "div-gpt-ad-Envelope_Bottom", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205303" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205303" } }, { bidder: "appnexus", params: { placementId: "11720997" } }, { bidder: "appnexus", params: { placementId: "11720998" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723848" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723850" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Bottom_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Bottom_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Bottom_Desktop" } }, { bidder: "grid", params: { uid: 1834 } }, { bidder: "richaudience", params: { pid: "0tctKEkTLu", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "0AAF0GEZLR", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Bottom" } } }, { bidder: "nativo", params: { placementId: 1127443 } }] }), r.push({ adunit: "Envelope_Bottom_Mobile", code: "div-gpt-ad-Envelope_Bottom_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205304" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205304" } }, { bidder: "appnexus", params: { placementId: "11721000" } }, { bidder: "appnexus", params: { placementId: "11720999" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723896" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723898" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Bottom_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Bottom_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Bottom_Mobile" } }, { bidder: "grid", params: { uid: 1835 } }, { bidder: "richaudience", params: { pid: "mS3Dnr1r80", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "px1auv4Hjr", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Bottom_Mobile" } } }] }), r.push({ adunit: "Envelope_Middle_New_Horizontal", code: "div-gpt-ad-Envelope_Middle_New_Horizontal", mediaTypes: { banner: { sizes: [[970, 90], [728, 90]] } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205310" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205310" } }, { bidder: "appnexus", params: { placementId: "11721013" } }, { bidder: "appnexus", params: { placementId: "11721014" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723864" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723866" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Horizontal@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Horizontal@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Middle_New_Horizontal" } }, { bidder: "grid", params: { uid: 1836 } }, { bidder: "richaudience", params: { pid: "UUxC2CiqNW", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "GnZapbWGiE", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Middle_New_Horizontal" } } }, { bidder: "nativo", params: { placementId: 1127445 } }] }), r.push({ adunit: "Envelope_Middle_New_Horizontal_Mobile", code: "div-gpt-ad-Envelope_Middle_New_Horizontal_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205311" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205311" } }, { bidder: "appnexus", params: { placementId: "11721017" } }, { bidder: "appnexus", params: { placementId: "11721016" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723908" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723910" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Horizontal_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Horizontal_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Middle_New_Horizontal_Mobile" } }, { bidder: "grid", params: { uid: 1837 } }, { bidder: "richaudience", params: { pid: "13TKlQHMZF", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1Kzjeg7SwX", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Middle_New_Horizontal_Mobile" } } }] }), r.push({ adunit: "Envelope_Middle_New_Vertical", code: "div-gpt-ad-Envelope_Middle_New_Vertical", mediaTypes: { banner: { sizes: [[120, 600], [160, 600]] } }, bids: [{ bidder: "ix", params: { size: [120, 600], siteId: "205307" } }, { bidder: "ix", params: { size: [160, 600], siteId: "205307" } }, { bidder: "appnexus", params: { placementId: "11721005" } }, { bidder: "appnexus", params: { placementId: "11721007" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723856" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723858" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Vertical@120x600" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Middle_New_Vertical@160x600" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Middle_New_Vertical" } }, { bidder: "grid", params: { uid: 1838 } }, { bidder: "richaudience", params: { pid: "aTKWvyA31K", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "06TbPOObQy", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Middle_New_Vertical" } } }] }), r.push({ adunit: "Envelope_Page_Bottom_Desktop", code: "div-gpt-ad-Envelope_Page_Bottom_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205312" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205312" } }, { bidder: "appnexus", params: { placementId: "11721019" } }, { bidder: "appnexus", params: { placementId: "11721020" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723868" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723870" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Page_Bottom_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Page_Bottom_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Page_Bottom_Desktop" } }, { bidder: "grid", params: { uid: 1839 } }, { bidder: "richaudience", params: { pid: "nP1kZimyRu", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "TY4gjJdmSa", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Page_Bottom_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127446 } }] }), r.push({ adunit: "Envelope_Page_Bottom_Mobile", code: "div-gpt-ad-Envelope_Page_Bottom_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205313" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205313" } }, { bidder: "appnexus", params: { placementId: "11721022" } }, { bidder: "appnexus", params: { placementId: "11721021" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723912" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723914" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Page_Bottom_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Page_Bottom_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Page_Bottom_Mobile" } }, { bidder: "grid", params: { uid: 1840 } }, { bidder: "richaudience", params: { pid: "1yUETw3hRE", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "Io18d1rHCD", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Page_Bottom_Mobile" } } }] }), r.push({ adunit: "Envelope_Top_Desktop", code: "div-gpt-ad-Envelope_Top_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205305" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205305" } }, { bidder: "appnexus", params: { placementId: "11721001" } }, { bidder: "appnexus", params: { placementId: "11721002" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723852" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723854" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Top_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelope_Top_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Envelope_Top_Desktop" } }, { bidder: "grid", params: { uid: 1841 } }, { bidder: "richaudience", params: { pid: "1ksinfwN00", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "RkZKZPhveS", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelope_Top_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127447 } }] }), r.push({ adunit: "Envelop_Top_Mobile", code: "div-gpt-ad-Envelop_Top_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205306" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205306" } }, { bidder: "appnexus", params: { placementId: "11721004" } }, { bidder: "appnexus", params: { placementId: "11721003" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723900" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723902" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelop_Top_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Envelop_Top_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Envelop_Top_Mobile" } }, { bidder: "grid", params: { uid: 1831 } }, { bidder: "richaudience", params: { pid: "1kJ1aYiot0", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "rdcSwNED3H", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Envelop_Top_Mobile" } } }] }), r.push({ adunit: "Homepage_Desktop", code: "div-gpt-ad-Homepage_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205314" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205314" } }, { bidder: "appnexus", params: { placementId: "11721024" } }, { bidder: "appnexus", params: { placementId: "11721025" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723872" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723874" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Homepage_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Homepage_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Homepage_Desktop" } }, { bidder: "grid", params: { uid: 1844 } }, { bidder: "richaudience", params: { pid: "0t7qjHoyOy", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1T11nSyk3U", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Homepage_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127450 } }] }), r.push({ adunit: "Homepage_Bottom_Desktop", code: "div-gpt-ad-Homepage_Bottom_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "appnexus", params: { placementId: "11777379" } }, { bidder: "appnexus", params: { placementId: "11777380" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723876" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723878" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Homepage_Bottom_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Homepage_Bottom_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Homepage_Bottom_Desktop" } }, { bidder: "grid", params: { uid: 1842 } }, { bidder: "richaudience", params: { pid: "bdMavGfFiP", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "0VaHwUsTH3", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Homepage_Bottom_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127449 } }] }), r.push({ adunit: "Homepage_Mobile_300x250", code: "div-gpt-ad-Homepage_Mobile_300x250", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "appnexus", params: { placementId: "12916560" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "868972" } }, { bidder: "ix", params: { size: [300, 250], siteId: "257591" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "HomePage_Mobile_300x250@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "HomePage_Mobile_300x250" } }, { bidder: "grid", params: { uid: 1846 } }, { bidder: "richaudience", params: { pid: "1jsZmzEwV1", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Homepage_Mobile_300x250" } } }] }), r.push({ adunit: "Preview_Top", code: "div-gpt-ad-Preview_Top", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205316" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205316" } }, { bidder: "appnexus", params: { placementId: "11721028" } }, { bidder: "appnexus", params: { placementId: "11721029" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723880" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723882" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Preview_Top@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Preview_Top@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Preview_Top" } }, { bidder: "grid", params: { uid: 1848 } }, { bidder: "richaudience", params: { pid: "UQrE9Vuxhh", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "a6G3PCsHT2", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Preview_Top" } } }, { bidder: "nativo", params: { placementId: 1127453 } }] }), r.push({ adunit: "Preview_Mobile_300x250", code: "div-gpt-ad-Preview_Mobile_300x250", mediaTypes: { banner: { sizes: [[300, 250]] } }, bids: [{ bidder: "appnexus", params: { placementId: "12916559" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "868974" } }, { bidder: "ix", params: { size: [300, 250], siteId: "257592" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Preview_Mobile_300x250@300x250" } }, { bidder: "triplelift", params: { inventoryCode: "Preview_Mobile_300x250" } }, { bidder: "grid", params: { uid: 1847 } }, { bidder: "richaudience", params: { pid: "3F77S0jHDx", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Preview_Mobile_300x250" } } }, { bidder: "nativo", params: { placementId: 1127452 } }] }), r.push({ adunit: "Search_Results_Top_Desktop", code: "div-gpt-ad-Search_Results_Top_Desktop", mediaTypes: { banner: { sizes: S } }, bids: [{ bidder: "ix", params: { size: [970, 90], siteId: "205318" } }, { bidder: "ix", params: { size: [728, 90], siteId: "205318" } }, { bidder: "appnexus", params: { placementId: "11721036" } }, { bidder: "appnexus", params: { placementId: "11721037" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723884" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "723886" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Search_Results_Top_Desktop@970x90" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Search_Results_Top_Desktop@728x90" } }, { bidder: "triplelift", params: { inventoryCode: "Search_Results_Top_Desktop" } }, { bidder: "grid", params: { uid: 1850 } }, { bidder: "richaudience", params: { pid: "VmP8S1ywMF", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1mMNJgub5D", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Search_Results_Top_Desktop" } } }, { bidder: "nativo", params: { placementId: 1127451 } }] }), r.push({ adunit: "Search_Results_Top_Mobile", code: "div-gpt-ad-Search_Results_Top_Mobile", mediaTypes: { banner: { sizes: [[320, 100], [320, 50]] } }, bids: [{ bidder: "ix", params: { size: [320, 100], siteId: "205319" } }, { bidder: "ix", params: { size: [320, 50], siteId: "205319" } }, { bidder: "appnexus", params: { placementId: "11721041" } }, { bidder: "appnexus", params: { placementId: "11721040" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723924" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152540", zoneId: "723926" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Search_Results_Top_Mobile@320x100" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "Search_Results_Top_Mobile@320x50" } }, { bidder: "triplelift", params: { inventoryCode: "Search_Results_Top_Mobile" } }, { bidder: "grid", params: { uid: 1851 } }, { bidder: "richaudience", params: { pid: "txoT4GgZ2g", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1WPxaF3wkL", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "Search_Results_Top_Mobile" } } }] }), r.push({ adunit: "GreetingsIsland_1x1", code: "div-gpt-ad-GreetingsIsland_1x1", mediaTypes: { banner: { sizes: [[1, 1]] } }, bids: [] }), r.push({ adunit: "eCards_OnlineInvites_bottom", code: "div-gpt-ad-eCards_OnlineInvites_bottom", mediaTypes: { banner: { sizes: T } }, bids: 970 <= detectWidth() ? [{ bidder: "ix", params: { size: [728, 90], siteId: "578388" } }, { bidder: "ix", params: { size: [970, 90], siteId: "578388" } }, { bidder: "ix", params: { size: [970, 250], siteId: "578388" } }, { bidder: "appnexus", params: { placementId: "20227761" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "1844638" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "eCards_OnlineInvites_bottom" } }, { bidder: "richaudience", params: { pid: "K19YFY9T5B", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "1Nd0TmXUyo", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "0BViSc42PE", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "eCards_OnlineInvites_bottom" } } }, { bidder: "nativo", params: { placementId: 1127454 } }] : 767 < detectWidth() ? [{ bidder: "ix", params: { size: [728, 90], siteId: "578388" } }, { bidder: "appnexus", params: { placementId: "20227761" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "1844638" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "eCards_OnlineInvites_bottom" } }, { bidder: "richaudience", params: { pid: "K19YFY9T5B", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "eCards_OnlineInvites_bottom" } } }, { bidder: "nativo", params: { placementId: 1127454 } }] : [{ bidder: "ix", params: { size: [320, 50], siteId: "578388" } }, { bidder: "ix", params: { size: [300, 250], siteId: "578388" } }, { bidder: "appnexus", params: { placementId: "20227761" } }, { bidder: "rubicon", params: { accountId: "16942", siteId: "152538", zoneId: "1844638" } }, { bidder: "pubmatic", params: { publisherId: "158314", adSlot: "eCards_OnlineInvites_bottom" } }, { bidder: "richaudience", params: { pid: "l1stToUWQr", supplyType: "site" } }, { bidder: "richaudience", params: { pid: "0aAizVcv4H", supplyType: "site" } }, { bidder: "onetag", params: { pubId: "707e87471c4b096", ext: { unit: "eCards_OnlineInvites_bottom" } } }, { bidder: "nativo", params: { placementId: 1127454 } }] }), "true" == p("testbids")) for (var E = [{ bidder: "rubicon", params: { accountId: 1001, siteId: 113932, zoneId: 535510 } }], A = r.length - 1; 0 <= A; A--)for (var w = E.length - 1; 0 <= w; w--)r[A].bids.push(E[w]); if (0 < n.length) for (var A = 0, O = n.length; A < O; A++)for (var w = 0, C = r.length; w < C; w++)n[A].code != r[w].code && n[A].adunit != r[w].adunit || o.push(r[w]); else o = r; window.pbjs.que.push(function () { window.pbjs.addAdUnits(o); var e = window.hbUseCMP || !1; window.pbjs.setConfig({ userSync: { syncEnabled: !0, syncsPerBidder: 5, syncDelay: 3e3, filterSettings: { iframe: { bidders: "*", filter: "include" }, image: { bidders: "*", filter: "include" } } } }), window.pbjs.setConfig({ schain: { validation: "strict", config: { ver: "1.0", complete: 1, nodes: [{ asi: "ascendeum.com", sid: "asc91260", hp: 1 }] } } }), e ? window.pbjs.setConfig({ currency: { adServerCurrency: "ILS", granularityMultiplier: 1, rates: { USD: { ILS: s } } }, consentManagement: { cmpApi: "iab", timeout: 8e3, allowAuctionWithoutConsent: !1 } }) : window.pbjs.setConfig({ currency: { adServerCurrency: "ILS", granularityMultiplier: 1, rates: { USD: { ILS: s } } } }), window.pbjs.bidderSettings = { standard: { adserverTargeting: [{ key: "hb_bidder", val: function (e) { return e.bidderCode } }, { key: "hb_adid", val: function (e) { return e.adId } }, { key: "hb_pb", val: function (e) { return 80 <= e.cpm ? "80.00" : (Math.floor(20 * e.cpm) / 20).toFixed(2) } }, { key: "hb_size", val: function (e) { return e.size } }] }, brealtime: { bidCpmAdjustment: function (e) { return .85 * e } }, districtm: { bidCpmAdjustment: function (e) { return .85 * e } }, rubicon: { bidCpmAdjustment: function (e) { return .8 * e } }, grid: { bidCpmAdjustment: function (e) { return .9 * e } } }, window.pbjs.requestBids({ bidsBackHandler: function () { window.initAdServer() }, timeout: d }) }) }, function (e, t, r) { r(123); var n = r(58); e.exports = n("Array", "find") }, function (e, t, r) { "use strict"; var n = r(14), i = r(66).find, o = r(57), a = r(70), d = "find", s = !0, c = a(d); d in [] && Array(1)[d](function () { s = !1 }), n({ target: "Array", proto: !0, forced: s || !c }, { find: function (e, t) { return i(this, e, 1 < arguments.length ? t : void 0) } }), o(d) }, function (e, t, r) { var n = r(31), i = r(125), o = r(51), a = r(52), d = r(65), s = r(29), c = r(88), u = Object.getOwnPropertyDescriptor; t.f = n ? u : function (e, t) { if (e = a(e), t = d(t, !0), c) try { return u(e, t) } catch (e) { } if (s(e, t)) return o(!i.f.call(e, t), e[t]) } }, function (e, t, r) { "use strict"; var n = {}.propertyIsEnumerable, i = Object.getOwnPropertyDescriptor, o = i && !n.call({ 1: 2 }, 1); t.f = o ? function (e) { var t = i(this, e); return !!t && t.enumerable } : n }, function (e, t, r) { function n(e, t) { var r = d[a(e)]; return r == c || r != s && ("function" == typeof t ? i(t) : !!t) } var i = r(32), o = /#|\.prototype\./, a = n.normalize = function (e) { return String(e).replace(o, ".").toLowerCase() }, d = n.data = {}, s = n.NATIVE = "N", c = n.POLYFILL = "P"; e.exports = n }, function (e, t, r) { var n = r(33), i = r(128), o = r(24)("species"); e.exports = function (e, t) { var r; return i(e) && ("function" == typeof (r = e.constructor) && (r === Array || i(r.prototype)) || n(r) && null === (r = r[o])) && (r = void 0), new (void 0 === r ? Array : r)(0 === t ? 0 : t) } }, function (e, t, r) { var n = r(53); e.exports = Array.isArray || function (e) { return "Array" == n(e) } }, function (e, t, r) { var n = r(28), i = r(34); e.exports = function (t, r) { try { i(n, t, r) } catch (e) { n[t] = r } return r } }, function (e, t, r) { var n = r(92); e.exports = n && !Symbol.sham && "symbol" == typeof Symbol.iterator }, function (e, t, r) { r(132); var n = r(58); e.exports = n("Array", "includes") }, function (e, t, r) { "use strict"; var n = r(14), i = r(93).includes, o = r(57); n({ target: "Array", proto: !0, forced: !r(70)("indexOf", { ACCESSORS: !0, 1: 0 }) }, { includes: function (e, t) { return i(this, e, 1 < arguments.length ? t : void 0) } }), o("includes") }, function (e, t, r) { var n = r(68), i = Math.max, o = Math.min; e.exports = function (e, t) { var r = n(e); return r < 0 ? i(r + t, 0) : o(r, t) } }, function (e, t, r) { r(135), r(152), r(104), r(154); var n = r(55); e.exports = n.Set }, function (e, t, r) { "use strict"; var n = r(136), i = r(141); e.exports = n("Set", function (t) { return function (e) { return t(this, arguments.length ? e : void 0) } }, i) }, function (e, t, r) { "use strict"; var p = r(14), l = r(28), f = r(95), b = r(32), g = r(34), m = r(19), v = r(98), y = r(33), h = r(74), I = r(37).f, _ = r(66).forEach, S = r(31), n = r(60), T = n.set, E = n.getterFor; e.exports = function (r, e, t) { var n, a, i = -1 !== r.indexOf("Map"), d = -1 !== r.indexOf("Weak"), o = i ? "set" : "add", s = l[r], c = s && s.prototype, u = {}; return S && "function" == typeof s && (d || c.forEach && !b(function () { (new s).entries().next() })) ? (n = e(function (e, t) { T(v(e, n, r), { type: r, collection: new s }), null != t && m(t, e[o], e, i) }), a = E(r), _(["add", "clear", "delete", "forEach", "get", "has", "set", "keys", "values", "entries"], function (i) { var o = "add" == i || "set" == i; i in c && (!d || "clear" != i) && g(n.prototype, i, function (e, t) { var r = a(this).collection; if (!o && d && !y(e)) return "get" == i && void 0; var n = r[i](0 === e ? 0 : e, t); return o ? this : n }) }), d || I(n.prototype, "size", { configurable: !0, get: function () { return a(this).collection.size } })) : (n = t.getConstructor(e, r, i, o), f.REQUIRED = !0), h(n, r, !1, !0), u[r] = n, p({ global: !0, forced: !0 }, u), d || t.setStrong(n, r, i), n } }, function (e, t, r) { var n = r(32); e.exports = !n(function () { return Object.isExtensible(Object.preventExtensions({})) }) }, function (e, t, r) { "use strict"; var n = r(73), i = r(72); e.exports = n ? {}.toString : function () { return "[object " + i(this) + "]" } }, function (e, t, r) { var n = r(28), i = r(140), o = n.WeakMap; e.exports = "function" == typeof o && /native code/.test(i(o)) }, function (e, t, r) { var n = r(91), i = Function.toString; "function" != typeof n.inspectSource && (n.inspectSource = function (e) { return i.call(e) }), e.exports = n.inspectSource }, function (e, t, r) { "use strict"; var c = r(37).f, u = r(99), p = r(146), l = r(27), f = r(98), b = r(19), a = r(76), d = r(151), g = r(31), m = r(95).fastKey, n = r(60), v = n.set, y = n.getterFor; e.exports = { getConstructor: function (e, r, n, i) { function o(e, t, r) { var n, i, o = d(e), a = s(e, t); return a ? a.value = r : (o.last = a = { index: i = m(t, !0), key: t, value: r, previous: n = o.last, next: void 0, removed: !1 }, o.first || (o.first = a), n && (n.next = a), g ? o.size++ : e.size++, "F" !== i && (o.index[i] = a)), e } var a = e(function (e, t) { f(e, a, r), v(e, { type: r, index: u(null), first: void 0, last: void 0, size: 0 }), g || (e.size = 0), null != t && b(t, e[i], e, n) }), d = y(r), s = function (e, t) { var r, n = d(e), i = m(t); if ("F" !== i) return n.index[i]; for (r = n.first; r; r = r.next)if (r.key == t) return r }; return p(a.prototype, { clear: function () { for (var e = d(this), t = e.index, r = e.first; r;)r.removed = !0, r.previous && (r.previous = r.previous.next = void 0), delete t[r.index], r = r.next; e.first = e.last = void 0, g ? e.size = 0 : this.size = 0 }, delete: function (e) { var t, r, n = d(this), i = s(this, e); return i && (t = i.next, r = i.previous, delete n.index[i.index], i.removed = !0, r && (r.next = t), t && (t.previous = r), n.first == i && (n.first = t), n.last == i && (n.last = r), g ? n.size-- : this.size--), !!i }, forEach: function (e, t) { for (var r, n = d(this), i = l(e, 1 < arguments.length ? t : void 0, 3); r = r ? r.next : n.first;)for (i(r.value, r.key, this); r && r.removed;)r = r.previous }, has: function (e) { return !!s(this, e) } }), p(a.prototype, n ? { get: function (e) { var t = s(this, e); return t && t.value }, set: function (e, t) { return o(this, 0 === e ? 0 : e, t) } } : { add: function (e) { return o(this, e = 0 === e ? 0 : e, e) } }), g && c(a.prototype, "size", { get: function () { return d(this).size } }), a }, setStrong: function (e, t, r) { var n = t + " Iterator", i = y(t), o = y(n); a(e, t, function (e, t) { v(this, { type: n, target: e, state: i(e), kind: t, last: void 0 }) }, function () { for (var e = o(this), t = e.kind, r = e.last; r && r.removed;)r = r.previous; return e.target && (e.last = r = r ? r.next : e.state.first) ? "keys" == t ? { value: r.key, done: !1 } : "values" == t ? { value: r.value, done: !1 } : { value: [r.key, r.value], done: !1 } : { value: e.target = void 0, done: !0 } }, r ? "entries" : "values", !r, !0), d(t) } } }, function (e, t, r) { var n = r(31), a = r(37), d = r(15), s = r(143); e.exports = n ? Object.defineProperties : function (e, t) { d(e); for (var r, n = s(t), i = n.length, o = 0; o < i;)a.f(e, r = n[o++], t[r]); return e } }, function (e, t, r) { var n = r(144), i = r(100); e.exports = Object.keys || function (e) { return n(e, i) } }, function (e, t, r) { var a = r(29), d = r(52), s = r(93).indexOf, c = r(59); e.exports = function (e, t) { var r, n = d(e), i = 0, o = []; for (r in n) !a(c, r) && a(n, r) && o.push(r); for (; t.length > i;)a(n, r = t[i++]) && (~s(o, r) || o.push(r)); return o } }, function (e, t, r) { var n = r(30); e.exports = n("document", "documentElement") }, function (e, t, r) { var i = r(101); e.exports = function (e, t, r) { for (var n in t) r && r.unsafe && e[n] ? e[n] = t[n] : i(e, n, t[n], r); return e } }, function (e, t, r) { "use strict"; function i() { return this } var o = r(102).IteratorPrototype, a = r(99), d = r(51), s = r(74), c = r(44); e.exports = function (e, t, r) { var n = t + " Iterator"; return e.prototype = a(o, { next: d(1, r) }), s(e, n, !1, !0), c[n] = i, e } }, function (e, t, r) { var n = r(32); e.exports = !n(function () { function e() { } return e.prototype.constructor = null, Object.getPrototypeOf(new e) !== e.prototype }) }, function (e, t, r) { var i = r(15), o = r(150); e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () { var r, n = !1, e = {}; try { (r = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(e, []), n = e instanceof Array } catch (e) { } return function (e, t) { return i(e), o(t), n ? r.call(e, t) : e.__proto__ = t, e } }() : void 0) }, function (e, t, r) { var n = r(33); e.exports = function (e) { if (!n(e) && null !== e) throw TypeError("Can't set " + String(e) + " as a prototype"); return e } }, function (e, t, r) { "use strict"; var n = r(30), i = r(37), o = r(24), a = r(31), d = o("species"); e.exports = function (e) { var t = n(e), r = i.f; a && t && !t[d] && r(t, d, { configurable: !0, get: function () { return this } }) } }, function (e, t) { }, function (e, t, r) { function n(d) { return function (e, t) { var r, n, i = String(c(e)), o = s(t), a = i.length; return o < 0 || a <= o ? d ? "" : void 0 : (r = i.charCodeAt(o)) < 55296 || 56319 < r || o + 1 === a || (n = i.charCodeAt(o + 1)) < 56320 || 57343 < n ? d ? i.charAt(o) : r : d ? i.slice(o, o + 2) : n - 56320 + (r - 55296 << 10) + 65536 } } var s = r(68), c = r(54); e.exports = { codeAt: n(!1), charAt: n(!0) } }, function (e, t, r) { r(155); var n = r(156), i = r(28), o = r(72), a = r(34), d = r(44), s = r(24)("toStringTag"); for (var c in n) { var u = i[c], p = u && u.prototype; p && o(p) !== s && a(p, s, c), d[c] = d.Array } }, function (e, t, r) { "use strict"; var n = r(52), i = r(57), o = r(44), a = r(60), d = r(76), s = "Array Iterator", c = a.set, u = a.getterFor(s); e.exports = d(Array, "Array", function (e, t) { c(this, { type: s, target: n(e), index: 0, kind: t }) }, function () { var e = u(this), t = e.target, r = e.kind, n = e.index++; return !t || n >= t.length ? { value: e.target = void 0, done: !0 } : "keys" == r ? { value: n, done: !1 } : "values" == r ? { value: t[n], done: !1 } : { value: [n, t[n]], done: !1 } }, "values"), o.Arguments = o.Array, i("keys"), i("values"), i("entries") }, function (e, t) { e.exports = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 } }, function (e, t, r) { r(14)({ target: "Set", stat: !0 }, { from: r(158) }) }, function (e, t, r) { "use strict"; var c = r(22), u = r(27), p = r(19); e.exports = function (e, t, r) { var n, i, o, a, d = arguments.length, s = 1 < d ? t : void 0; return c(this), (n = void 0 !== s) && c(s), null == e ? new this : (i = [], n ? (o = 0, a = u(s, 2 < d ? r : void 0, 2), p(e, function (e) { i.push(a(e, o++)) })) : p(e, i.push, i), new this(i)) } }, function (e, t, r) { r(14)({ target: "Set", stat: !0 }, { of: r(160) }) }, function (e, t, r) { "use strict"; e.exports = function () { for (var e = arguments.length, t = new Array(e); e--;)t[e] = arguments[e]; return new this(t) } }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(162); n({ target: "Set", proto: !0, real: !0, forced: i }, { addAll: function () { return o.apply(this, arguments) } }) }, function (e, t, r) { "use strict"; var i = r(15), o = r(22); e.exports = function () { for (var e = i(this), t = o(e.add), r = 0, n = arguments.length; r < n; r++)t.call(e, arguments[r]); return e } }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(164); n({ target: "Set", proto: !0, real: !0, forced: i }, { deleteAll: function () { return o.apply(this, arguments) } }) }, function (e, t, r) { "use strict"; var a = r(15), d = r(22); e.exports = function () { for (var e, t = a(this), r = d(t.delete), n = !0, i = 0, o = arguments.length; i < o; i++)e = r.call(t, arguments[i]), n = n && e; return !!n } }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(27), d = r(38), s = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { every: function (e, t) { var r = o(this), n = d(r), i = a(e, 1 < arguments.length ? t : void 0, 3); return !s(n, function (e) { if (!i(e, e, r)) return s.stop() }, void 0, !1, !0).stopped } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(30), a = r(15), d = r(22), s = r(45), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { difference: function (e) { var t = a(this), r = new (s(t, o("Set")))(t), n = d(r.delete); return c(e, function (e) { n.call(r, e) }), r } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), d = r(30), s = r(15), c = r(22), u = r(27), p = r(45), l = r(38), f = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { filter: function (e, t) { var r = s(this), n = l(r), i = u(e, 1 < arguments.length ? t : void 0, 3), o = new (p(r, d("Set"))), a = c(o.add); return f(n, function (e) { i(e, e, r) && a.call(o, e) }, void 0, !1, !0), o } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(27), d = r(38), s = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { find: function (e, t) { var r = o(this), n = d(r), i = a(e, 1 < arguments.length ? t : void 0, 3); return s(n, function (e) { if (i(e, e, r)) return s.stop(e) }, void 0, !1, !0).result } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(30), a = r(15), d = r(22), s = r(45), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { intersection: function (e) { var t = a(this), r = new (s(t, o("Set"))), n = d(t.has), i = d(r.add); return c(e, function (e) { n.call(t, e) && i.call(r, e) }), r } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(22), d = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { isDisjointFrom: function (e) { var t = o(this), r = a(t.has); return !d(e, function (e) { if (!0 === r.call(t, e)) return d.stop() }).stopped } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(30), a = r(15), d = r(22), s = r(105), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { isSubsetOf: function (e) { var t = s(this), r = a(e), n = r.has; return "function" != typeof n && (r = new (o("Set"))(e), n = d(r.has)), !c(t, function (e) { if (!1 === n.call(r, e)) return c.stop() }, void 0, !1, !0).stopped } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(22), d = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { isSupersetOf: function (e) { var t = o(this), r = a(t.has); return !d(e, function (e) { if (!1 === r.call(t, e)) return d.stop() }).stopped } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(38), d = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { join: function (e) { var t = o(this), r = a(t), n = void 0 === e ? "," : String(e), i = []; return d(r, i.push, i, !1, !0), i.join(n) } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), d = r(30), s = r(15), c = r(22), u = r(27), p = r(45), l = r(38), f = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { map: function (e, t) { var r = s(this), n = l(r), i = u(e, 1 < arguments.length ? t : void 0, 3), o = new (p(r, d("Set"))), a = c(o.add); return f(n, function (e) { a.call(o, i(e, e, r)) }, void 0, !1, !0), o } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), a = r(15), d = r(22), s = r(38), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { reduce: function (t, e) { var r = a(this), n = s(r), i = arguments.length < 2, o = i ? void 0 : e; if (d(t), c(n, function (e) { o = i ? (i = !1, e) : t(o, e, e, r) }, void 0, !1, !0), i) throw TypeError("Reduce of empty set with no initial value"); return o } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(15), a = r(27), d = r(38), s = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { some: function (e, t) { var r = o(this), n = d(r), i = a(e, 1 < arguments.length ? t : void 0, 3); return s(n, function (e) { if (i(e, e, r)) return s.stop() }, void 0, !1, !0).stopped } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(30), a = r(15), d = r(22), s = r(45), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { symmetricDifference: function (e) { var t = a(this), r = new (s(t, o("Set")))(t), n = d(r.delete), i = d(r.add); return c(e, function (e) { n.call(r, e) || i.call(r, e) }), r } }) }, function (e, t, r) { "use strict"; var n = r(14), i = r(18), o = r(30), a = r(15), d = r(22), s = r(45), c = r(19); n({ target: "Set", proto: !0, real: !0, forced: i }, { union: function (e) { var t = a(this), r = new (s(t, o("Set")))(t); return c(e, d(r.add), r), r } }) }, function (e, t, r) { r(104), r(180); var n = r(55); e.exports = n.Array.from }, function (e, t, r) { var n = r(14), i = r(181); n({ target: "Array", stat: !0, forced: !r(183)(function (e) { Array.from(e) }) }, { from: i }) }, function (e, t, r) { "use strict"; var m = r(27), v = r(67), y = r(97), h = r(96), I = r(56), _ = r(182), S = r(71); e.exports = function (e, t, r) { var n, i, o, a, d, s, c = v(e), u = "function" == typeof this ? this : Array, p = arguments.length, l = 1 < p ? t : void 0, f = void 0 !== l, b = S(c), g = 0; if (f && (l = m(l, 2 < p ? r : void 0, 2)), null == b || u == Array && h(b)) for (i = new u(n = I(c.length)); g < n; g++)s = f ? l(c[g], g) : c[g], _(i, g, s); else for (d = (a = b.call(c)).next, i = new u; !(o = d.call(a)).done; g++)s = f ? y(a, l, [o.value, g], !0) : o.value, _(i, g, s); return i.length = g, i } }, function (e, t, r) { "use strict"; var i = r(65), o = r(37), a = r(51); e.exports = function (e, t, r) { var n = i(t); n in e ? o.f(e, n, a(0, r)) : e[n] = r } }, function (e, t, r) { var i = r(24)("iterator"), o = !1; try { var n = 0, a = { next: function () { return { done: !!n++ } }, return: function () { o = !0 } }; a[i] = function () { return this }, Array.from(a, function () { throw 2 }) } catch (e) { } e.exports = function (e, t) { if (!t && !o) return !1; var r = !1; try { var n = {}; n[i] = function () { return { next: function () { return { done: r = !0 } } } }, e(n) } catch (e) { } return r } }, function (e, t) { e.exports = function e(t) { var r = Array.isArray(t) ? [] : {}; for (var n in t) { var i = t[n]; r[n] = i && "object" == typeof i ? e(i) : i } return r } }, function (e, t, r) { "use strict"; t.a = function (e, t, r, n, i) { for (t = t.split ? t.split(".") : t, n = 0; n < t.length; n++)e = e ? e[t[n]] : i; return e === i ? r : e } }, function (e, t, r) { "use strict"; t.a = function (e, t, r) { t.split && (t = t.split(".")); for (var n, i = 0, o = t.length, a = e; i < o; ++i)n = a[t[i]], a = a[t[i]] = i === o - 1 ? r : null != n ? n : !~t[i + 1].indexOf(".") && -1 < +t[i + 1] ? [] : {} } }, function (e, t, r) { "use strict"; t.a = function () { window.addEventListener("message", d, !1) }; var n = r(9), g = r.n(n), m = r(39), i = r(5), v = r.n(i), y = r(0), h = r(25), o = r(10), I = r.n(o), _ = r(13), a = r(12), u = r.n(a), S = r(3), T = v.a.EVENTS.BID_WON, E = v.a.EVENTS.STALE_RENDER; function d(e) { var t, r, n, i, o, a, d, s, c, u = e.message ? "message" : "data", p = {}; try { p = JSON.parse(e[u]) } catch (e) { return } if (p && p.adId) { var l, f = I()(h.a.getBidsReceived(), function (e) { return e.adId === p.adId }); if (f && "Prebid Request" === p.message) { if (f.status === v.a.BID_STATUS.RENDERED && (Object(y.logWarn)("Ad id ".concat(f.adId, " has been rendered before")), g.a.emit(E, f), Object(y.deepAccess)(S.b.getConfig("auctionOptions"), "suppressStaleRender"))) return; r = e, n = (t = f).adId, i = t.ad, o = t.adUrl, a = t.width, d = t.height, s = t.renderer, c = t.cpm, Object(_.c)(s) ? Object(_.b)(s, t) : n && (A(t), r.source.postMessage(JSON.stringify({ message: "Prebid Response", ad: Object(y.replaceAuctionPrice)(i, c), adUrl: Object(y.replaceAuctionPrice)(o, c), adId: n, width: a, height: d }), r.origin)), h.a.addWinningBid(f), g.a.emit(T, f) } if (f && "Prebid Native" === p.message) { if ("assetRequest" === p.action) { var b = Object(m.d)(p, f); return void e.source.postMessage(JSON.stringify(b), e.origin) } if ("allAssetRequest" === p.action ? (l = Object(m.c)(p, f), e.source.postMessage(JSON.stringify(l), e.origin)) : "resizeNativeHeight" === p.action && (f.height = p.height, f.width = p.width, A(f)), "click" === Object(m.b)(p, f)) return; h.a.addWinningBid(f), g.a.emit(T, f) } } } function A(e) { var a = e.adId, d = e.adUnitCode, s = e.width, c = e.height;["div", "iframe"].forEach(function (e) { var t, r, n, i, o = (t = e + ':not([style*="display: none"])', r = function (e, t) { return window.googletag ? function (r) { return I()(window.googletag.pubads().getSlots(), function (t) { return I()(t.getTargetingKeys(), function (e) { return u()(t.getTargeting(e), r) }) }).getSlotElementId() }(e) : window.apntag ? function (e) { var t = window.apntag.getTag(e); return t && t.targetId }(t) : t }(a, d), (n = document.getElementById(r)) && n.querySelector(t)); o ? ((i = o.style).width = s + "px", i.height = c + "px") : Object(y.logWarn)("Unable to locate matching page element for adUnitCode ".concat(d, ".  Can't resize it to ad's dimensions.  Please review setup.")) }) } }, function (e, t) { y.SYNC = 1, y.ASYNC = 2, y.QUEUE = 4; var b = "fun-hooks"; var r = Object.freeze({ useProxy: !0, ready: 0 }), g = new WeakMap, n = "2,1,0" === [1].reduce(function (e, t, r) { return [e, t, r] }, 2).toString() ? Array.prototype.reduce : function (e, t) { var r, n = Object(this), i = n.length >>> 0, o = 0; if (t) r = t; else { for (; o < i && !(o in n);)o++; r = n[o++] } for (; o < i;)o in n && (r = e(r, n[o], o, n)), o++; return r }; function m(e, t) { return Array.prototype.slice.call(e, t) } var v = Object.assign || function (e) { return n.call(m(arguments, 1), function (t, r) { return r && Object.keys(r).forEach(function (e) { t[e] = r[e] }), t }, e) }; function y(s) { var c, e = {}, u = []; function t(e, t) { return "function" == typeof e ? p.call(null, "sync", e, t) : "string" == typeof e && "function" == typeof t ? p.apply(null, arguments) : "object" == typeof e ? function (o, e, a) { var t = !0; void 0 === e && (e = Object.getOwnPropertyNames(o), t = !1); var d = {}, r = ["constructor"]; for (; (e = e.filter(function (e) { return !("function" != typeof o[e] || -1 !== r.indexOf(e) || e.match(/^_/)) })).forEach(function (e) { var t, r = e.split(":"), n = r[0], i = r[1] || "sync"; d[n] || (t = o[n], d[n] = o[n] = p(i, t, a ? [a, n] : void 0)) }), o = Object.getPrototypeOf(o), t && o;); return d }.apply(null, arguments) : void 0 } function l(o) { var a = Array.isArray(o) ? o : o.split("."); return n.call(a, function (t, r, e) { var n = t[r], i = !1; return n || (e === a.length - 1 ? (c || u.push(function () { i || console.warn(b + ": referenced '" + o + "' but it was never created") }), t[r] = f(function (e) { t[r] = e, i = !0 })) : t[r] = {}) }, e) } function f(n) { var o = [], a = [], d = function () { }, e = { before: function (e, t) { return r.call(this, o, "before", e, t) }, after: function (e, t) { return r.call(this, a, "after", e, t) }, getHooks: function (r) { var e = o.concat(a); "object" == typeof r && (e = e.filter(function (t) { return Object.keys(r).every(function (e) { return t[e] === r[e] }) })); try { v(e, { remove: function () { return e.forEach(function (e) { e.remove() }), this } }) } catch (e) { console.error("error adding `remove` to array, did you modify Array.prototype?") } return e }, removeAll: function () { return this.getHooks().remove() } }, t = { install: function (e, t, r) { this.type = e, (d = r)(o, a), n && n(t) } }; return g.set(e.after, t), e; function r(t, e, r, n) { var i = { hook: r, type: e, priority: n || 10, remove: function () { var e = t.indexOf(i); -1 !== e && (t.splice(e, 1), d(o, a)) } }; return t.push(i), t.sort(function (e, t) { return t.priority - e.priority }), d(o, a), this } } function p(p, e, t) { var r = e.after && g.get(e.after); if (r) { if (r.type !== p) throw b + ": recreated hookable with different type"; return e } var n, i, o = t ? l(t) : f(), a = { get: function (e, t) { return o[t] || Reflect.get.apply(Reflect, arguments) } }; return c || u.push(d), s.useProxy && "function" == typeof Proxy && Proxy.revocable ? i = new Proxy(e, a) : v(i = function () { return a.apply ? a.apply(e, this, m(arguments)) : e.apply(this, arguments) }, o), g.get(i.after).install(p, i, function (e, t) { var c, u = []; n = e.length || t.length ? (e.forEach(r), c = u.push(void 0) - 1, t.forEach(r), function (r, n, e) { var i, o = 0, a = "async" === p && "function" == typeof e[e.length - 1] && e.pop(); function d(e) { "sync" === p ? i = e : a && a.apply(null, arguments) } function s(e) { if (u[o]) { var t = m(arguments); return s.bail = d, t.unshift(s), u[o++].apply(n, t) } "sync" === p ? i = e : a && a.apply(null, arguments) } return u[c] = function () { var e = m(arguments, 1); "async" === p && a && (delete s.bail, e.push(s)); var t = r.apply(n, e); "sync" === p && s(t) }, s.apply(null, e), i }) : void 0; function r(e) { u.push(e.hook) } d() }), i; function d() { !c && ("sync" !== p || s.ready & y.SYNC) && ("async" !== p || s.ready & y.ASYNC) ? "sync" !== p && s.ready & y.QUEUE ? a.apply = function () { var e = arguments; u.push(function () { i.apply(e[1], e[2]) }) } : a.apply = function () { throw b + ": hooked function not ready" } : a.apply = n } } return (s = v({}, r, s)).ready ? t.ready = function () { c = !0, function (e) { for (var t; t = e.shift();)t() }(u) } : c = !0, t.get = l, t } e.exports = y }, function (e, t, r) { "use strict"; t.a = function (e) { var t; try { e = e || window.sessionStorage, t = JSON.parse(e.getItem(s)) } catch (e) { } t && f(t, !0) }; var n, i, o = r(3), a = r(0), d = r(35), s = "pbjs:debugging"; function c(e) { Object(a.logMessage)("DEBUG: " + e) } function u(e) { Object(a.logWarn)("DEBUG: " + e) } function p(e) { n = function (e, t, r) { if (g(this.bidders, r.bidderCode)) return void u("bidder '".concat(r.bidderCode, "' excluded from auction by bidder overrides")); Array.isArray(this.bids) && this.bids.forEach(function (e) { b(e, r.bidderCode, t) || m(e, r, "bidder") }); e(t, r) }.bind(e), d.c.before(n, 5), i = function (e, t) { var n = this, r = t.filter(function (e) { return !g(n.bidders, e.bidderCode) || (u("bidRequest '".concat(e.bidderCode, "' excluded from auction by bidder overrides")), !1) }); Array.isArray(n.bidRequests) && r.forEach(function (r) { n.bidRequests.forEach(function (t) { r.bids.forEach(function (e) { b(t, r.bidderCode, e.adUnitCode) || m(t, e, "bidRequest") }) }) }); e(r) }.bind(e), d.e.before(i, 5) } function l() { d.c.getHooks({ hook: n }).remove(), d.e.getHooks({ hook: i }).remove() } function f(e, t) { var r = 1 < arguments.length && void 0 !== t && t; o.b.setConfig({ debug: !0 }), l(), p(e), c("bidder overrides enabled".concat(r ? " from session" : "")) } function b(e, t, r) { return e.bidder && e.bidder !== t || !(!e.adUnitCode || e.adUnitCode === r) } function g(e, t) { return Array.isArray(e) && -1 === e.indexOf(t) } function m(r, e, n) { return Object.keys(r).filter(function (e) { return -1 === ["adUnitCode", "bidder"].indexOf(e) }).reduce(function (e, t) { return c("bidder overrides changed '".concat(e.adUnitCode, "/").concat(e.bidderCode, "' ").concat(n, ".").concat(t, " from '").concat(e[t], ".js' to '").concat(r[t], "'")), e[t] = r[t], e }, e) } function v(e) { if (e.enabled) { try { window.sessionStorage.setItem(s, JSON.stringify(e)) } catch (e) { } f(e) } else { l(), c("bidder overrides disabled"); try { window.sessionStorage.removeItem(s) } catch (e) { } } } o.b.getConfig("debugging", function (e) { return v(e.debugging) }) }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { r(253); var n = r(58); e.exports = n("Array", "findIndex") }, function (e, t, r) { "use strict"; var n = r(14), i = r(66).findIndex, o = r(57), a = r(70), d = "findIndex", s = !0, c = a(d); d in [] && Array(1)[d](function () { s = !1 }), n({ target: "Array", proto: !0, forced: s || !c }, { findIndex: function (e, t) { return i(this, e, 1 < arguments.length ? t : void 0) } }), o(d) }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { r(397); var n = r(58); e.exports = n("String", "includes") }, function (e, t, r) { "use strict"; var n = r(14), i = r(398), o = r(54); n({ target: "String", proto: !0, forced: !r(400)("includes") }, { includes: function (e, t) { return !!~String(o(this)).indexOf(i(e), 1 < arguments.length ? t : void 0) } }) }, function (e, t, r) { var n = r(399); e.exports = function (e) { if (n(e)) throw TypeError("The method doesn't accept regular expressions"); return e } }, function (e, t, r) { var n = r(33), i = r(53), o = r(24)("match"); e.exports = function (e) { var t; return n(e) && (void 0 !== (t = e[o]) ? !!t : "RegExp" == i(e)) } }, function (e, t, r) { var n = r(24)("match"); e.exports = function (t) { var r = /./; try { "/./"[t](r) } catch (e) { try { return r[n] = !1, "/./"[t](r) } catch (e) { } } return !1 } }]);
pbjsChunk([364], { 312: function (e, r, a) { e.exports = a(313) }, 313: function (e, r, a) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), a.d(r, "spec", function () { return O }); var f = a(13), _ = a(0), k = a(3), v = a(1), y = a(2), u = a(25), t = a(10), I = a.n(t), n = a(12), A = a.n(n), g = a(26), i = a(7); function s(e) { return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function b() { return (b = Object.assign || function (e) { for (var r = 1; r < arguments.length; r++) { var a = arguments[r]; for (var t in a) Object.prototype.hasOwnProperty.call(a, t) && (e[t] = a[t]) } return e }).apply(this, arguments) } function w(e) { return function (e) { if (Array.isArray(e)) return o(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, r) { if (!e) return; if ("string" == typeof e) return o(e, r); var a = Object.prototype.toString.call(e).slice(8, -1); "Object" === a && e.constructor && (a = e.constructor.name); if ("Map" === a || "Set" === a) return Array.from(e); if ("Arguments" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)) return o(e, r) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function o(e, r) { (null == r || r > e.length) && (r = e.length); for (var a = 0, t = new Array(r); a < r; a++)t[a] = e[a]; return t } var d = "appnexus", l = ["id", "minduration", "maxduration", "skippable", "playback_method", "frameworks", "context", "skipoffset"], x = ["age", "externalUid", "segments", "gender", "dnt", "language"], C = ["geo", "device_id"], S = ["enabled", "dongle", "member_id", "debug_timeout"], m = { playback_method: { unknown: 0, auto_play_sound_on: 1, auto_play_sound_off: 2, click_to_play: 3, mouse_over: 4, auto_play_sound_unknown: 5 }, context: { unknown: 0, pre_roll: 1, mid_roll: 2, post_roll: 3, outstream: 4, "in-banner": 5 } }, h = { body: "description", body2: "desc2", cta: "ctatext", image: { serverName: "main_image", requiredParams: { required: !0 } }, icon: { serverName: "icon", requiredParams: { required: !0 } }, sponsoredBy: "sponsored_by", privacyLink: "privacy_link", salePrice: "saleprice", displayUrl: "displayurl" }, p = "<script", c = /\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/, T = "trk.js", E = Object(i.b)(32, d), O = { code: d, gvlid: 32, aliases: [{ code: "appnexusAst", gvlid: 32 }, { code: "brealtime" }, { code: "emxdigital", gvlid: 183 }, { code: "pagescience" }, { code: "defymedia" }, { code: "gourmetads" }, { code: "matomy" }, { code: "featureforward" }, { code: "oftmedia" }, { code: "districtm", gvlid: 144 }, { code: "adasta" }, { code: "beintoo", gvlid: 618 }], supportedMediaTypes: [y.b, y.d, y.c], isBidRequestValid: function (e) { return !!(e.params.placementId || e.params.member && e.params.invCode) }, buildRequests: function (e, r) { var t = e.map(N), n = I()(e, z), i = {}; !0 === k.b.getConfig("coppa") && (i = { coppa: !0 }), n && Object.keys(n.params.user).filter(function (e) { return A()(x, e) }).forEach(function (e) { var r, a = _.convertCamelToUnderscore(e); "segments" === e && _.isArray(n.params.user[e]) ? (r = [], n.params.user[e].forEach(function (e) { _.isNumber(e) ? r.push({ id: e }) : _.isPlainObject(e) && r.push(e) }), i[a] = r) : "segments" !== e && (i[a] = n.params.user[e]) }); var a, s = I()(e, D); s && s.params && s.params.app && (a = {}, Object.keys(s.params.app).filter(function (e) { return A()(C, e) }).forEach(function (e) { return a[e] = s.params.app[e] })); var o, d = I()(e, B); d && d.params && s.params.app && s.params.app.id && (o = { appid: d.params.app.id }); var p = {}, c = {}, u = E.getCookie("apn_prebid_debug") || null; if (u) try { p = JSON.parse(u) } catch (e) { _.logError("AppNexus Debug Auction Cookie Error:\n\n" + e) } else { var l = I()(e, F); l && l.debug && (p = l.debug) } p && p.enabled && Object.keys(p).filter(function (e) { return A()(S, e) }).forEach(function (e) { c[e] = p[e] }); var m, f, v = I()(e, M), y = v ? parseInt(v.params.member, 10) : 0, g = e[0].schain, b = I()(e, J), h = { tags: w(t), user: i, sdk: { source: "pbjs", version: "4.42.1" }, schain: g }; return b && (h.iab_support = { omidpn: "Appnexus", omidpv: "4.42.1" }), 0 < y && (h.member_id = y), s && (h.device = a), d && (h.app = o), k.b.getConfig("adpod.brandCategoryExclusion") && (h.brand_category_uniqueness = !0), c.enabled && (h.debug = c, _.logInfo("AppNexus Debug Auction Settings:\n\n" + JSON.stringify(c, null, 4))), r && r.gdprConsent && (h.gdpr_consent = { consent_string: r.gdprConsent.consentString, consent_required: r.gdprConsent.gdprApplies }), r && r.uspConsent && (h.us_privacy = r.uspConsent), r && r.refererInfo && (m = { rd_ref: encodeURIComponent(r.refererInfo.referer), rd_top: r.refererInfo.reachedTop, rd_ifs: r.refererInfo.numIframes, rd_stk: r.refererInfo.stack.map(function (e) { return encodeURIComponent(e) }).join(",") }, h.referrer_detection = m), I()(e, V) && e.filter(V).forEach(function (r) { var e = function (e, r) { var a = r.mediaTypes.video, t = a.durationRangeSec, n = a.requireExactDuration, i = function (e) { var r = e.adPodDurationSec, a = e.durationRangeSec, t = e.requireExactDuration, n = _.getMinValueFromArray(a), i = Math.floor(r / n); return t ? Math.max(i, a.length) : i }(r.mediaTypes.video), s = _.getMaxValueFromArray(t), o = e.filter(function (e) { return e.uuid === r.bidId }), d = _.fill.apply(_, w(o).concat([i])); { var p, c; n ? (p = Math.ceil(i / t.length), c = _.chunk(d, p), t.forEach(function (r, e) { c[e].map(function (e) { W(e, "minduration", r), W(e, "maxduration", r) }) })) : d.map(function (e) { return W(e, "maxduration", s) }) } return d }(t, r), a = h.tags.filter(function (e) { return e.uuid !== r.bidId }); h.tags = [].concat(w(a), w(e)) }), e[0].userId && (L(f = [], _.deepAccess(e[0], "userId.flocId.id"), "chrome.com", null), L(f, _.deepAccess(e[0], "userId.criteoId"), "criteo.com", null), L(f, _.deepAccess(e[0], "userId.netId"), "netid.de", null), L(f, _.deepAccess(e[0], "userId.idl_env"), "liveramp.com", null), L(f, _.deepAccess(e[0], "userId.tdid"), "adserver.org", "TDID"), L(f, _.deepAccess(e[0], "userId.uid2.id"), "uidapi.com", "UID2"), f.length && (h.eids = f)), t[0].publisher_id && (h.publisher_id = t[0].publisher_id), function (e, a) { var t = [], n = { withCredentials: !0 }, i = "https://ib.adnxs.com/ut/v3/prebid"; U(a) || (i = "https://ib.adnxs-simple.com/ut/v3/prebid"); "TRUE" !== _.getParameterByName("apn_test").toUpperCase() && !0 !== k.b.getConfig("apn_test") || (n.customHeaders = { "X-Is-Test": 1 }); { var s, r; 15 < e.tags.length ? (s = _.deepClone(e), _.chunk(e.tags, 15).forEach(function (e) { s.tags = e; var r = JSON.stringify(s); t.push({ method: "POST", url: i, data: r, bidderRequest: a, options: n }) })) : (r = JSON.stringify(e), t = { method: "POST", url: i, data: r, bidderRequest: a, options: n }) } return t }(h, r) }, interpretResponse: function (e, r) { var i = this, s = r.bidderRequest; e = e.body; var a, o = []; if (e && !e.error) return e.tags && e.tags.forEach(function (e) { var r, a, t, n = (r = e) && r.ads && r.ads.length && I()(r.ads, function (e) { return e.rtb }); n && 0 !== n.cpm && A()(i.supportedMediaTypes, n.ad_type) && ((a = function (r, e, a) { var t = _.getBidRequest(r.uuid, [a]), n = { requestId: r.uuid, cpm: e.cpm, creativeId: e.creative_id, dealId: e.deal_id, currency: "USD", netRevenue: !0, ttl: 300, adUnitCode: t.adUnitCode, appnexus: { buyerMemberId: e.buyer_member_id, dealPriority: e.deal_priority, dealCode: e.deal_code } }; e.adomain && (n.meta = b({}, n.meta, { advertiserDomains: [] })); e.advertiser_id && (n.meta = b({}, n.meta, { advertiserId: e.advertiser_id })); if (e.rtb.video) { var i, s; switch (b(n, { width: e.rtb.video.player_width, height: e.rtb.video.player_height, vastImpUrl: e.notify_url, ttl: 3600 }), _.deepAccess(t, "mediaTypes.video.context")) { case y.a: var o = Object(v.getIabSubCategory)(t.bidder, e.brand_category_id); n.meta = b({}, n.meta, { primaryCatId: o }); var d = e.deal_priority; n.video = { context: y.a, durationSeconds: Math.floor(e.rtb.video.duration_ms / 1e3), dealTier: d }, n.vastUrl = e.rtb.video.asset_url; break; case g.b: n.adResponse = r, n.adResponse.ad = n.adResponse.ads[0], n.adResponse.ad.video = n.adResponse.ad.rtb.video, n.vastXml = e.rtb.video.content, e.renderer_url && (i = I()(a.bids, function (e) { return e.bidId === r.uuid }), s = _.deepAccess(i, "renderer.options"), n.renderer = function (e, r) { var a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, t = f.a.install({ id: r.renderer_id, url: r.renderer_url, config: a, loaded: !1, adUnitCode: e }); try { t.setRender(H) } catch (e) { _.logWarn("Prebid Error calling setRender on renderer", e) } return t.setEventHandlers({ impression: function () { return _.logMessage("AppNexus outstream video impression event") }, loaded: function () { return _.logMessage("AppNexus outstream video loaded event") }, ended: function () { _.logMessage("AppNexus outstream renderer video event"), document.querySelector("#".concat(e)).style.display = "none" } }), t }(n.adUnitCode, e, s)); break; case g.a: n.vastUrl = e.notify_url + "&redir=" + encodeURIComponent(e.rtb.video.asset_url) } } else if (e.rtb[y.c]) { var p = e.rtb[y.c], c = e.viewability.config.replace("src=", "data-src="), u = p.javascript_trackers; null == u ? u = c : _.isStr(u) ? u = [u, c] : u.push(c), n[y.c] = { title: p.title, body: p.desc, body2: p.desc2, cta: p.ctatext, rating: p.rating, sponsoredBy: p.sponsored, privacyLink: p.privacy_link, address: p.address, downloads: p.downloads, likes: p.likes, phone: p.phone, price: p.price, salePrice: p.saleprice, clickUrl: p.link.url, displayUrl: p.displayurl, clickTrackers: p.link.click_trackers, impressionTrackers: p.impression_trackers, javascriptTrackers: u }, p.main_img && (n.native.image = { url: p.main_img.url, height: p.main_img.height, width: p.main_img.width }), p.icon && (n.native.icon = { url: p.icon.url, height: p.icon.height, width: p.icon.width }) } else { b(n, { width: e.rtb.banner.width, height: e.rtb.banner.height, ad: e.rtb.banner.content }); try { var l, m; e.rtb.trackers && (l = e.rtb.trackers[0].impression_urls[0], m = _.createTrackPixelHtml(l), n.ad += m) } catch (e) { _.logError("Error appending tracking pixel", e) } } return n }(e, n, s)).mediaType = (t = n.ad_type) === y.d ? y.d : t === y.c ? y.c : y.b, o.push(a)) }), e.debug && e.debug.debug_info && (a = (a = "AppNexus Debug Auction for Prebid\n\n" + e.debug.debug_info).replace(/(<td>|<th>)/gm, "\t").replace(/(<\/td>|<\/th>)/gm, "\n").replace(/^<br>/gm, "").replace(/(<br>\n|<br>)/gm, "\n").replace(/<h1>(.*)<\/h1>/gm, "\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm, "\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim, ""), _.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"), _.logMessage(a)), o; var t = "in response for ".concat(s.bidderCode, " adapter"); return e && e.error && (t += ": ".concat(e.error)), _.logError(t), o }, getMappingFileInfo: function () { return { url: "https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json", refreshInDays: 2 } }, getUserSyncs: function (e, r, a) { if (e.iframeEnabled && U({ gdprConsent: a })) return [{ type: "iframe", url: "https://acdn.adnxs.com/dmp/async_usersync.html" }] }, transformBidParams: function (a, e) { return a = _.convertTypes({ member: "string", invCode: "string", placementId: "number", keywords: _.transformBidderParamKeywords, publisherId: "number" }, a), e && (a.use_pmt_rule = "boolean" == typeof a.usePaymentRule && a.usePaymentRule, a.usePaymentRule && delete a.usePaymentRule, R(a.keywords) && a.keywords.forEach(j), Object.keys(a).forEach(function (e) { var r = _.convertCamelToUnderscore(e); r !== e && (a[r] = a[e], delete a[e]) })), a }, onBidWon: function (e) { e.native && function (e) { var r = function (e) { var r; if (_.isStr(e) && P(e)) r = e; else if (_.isArray(e)) for (var a = 0; a < e.length; a++) { var t = e[a]; P(t) && (r = t) } return r }(e.native.javascriptTrackers); if (r) for (var a = "pbjs_adid=" + e.adId + ";pbjs_auc=" + e.adUnitCode, t = function (e) { var r = e.indexOf('src="') + 5, a = e.indexOf('"', r); return e.substring(r, a) }(r), n = t.replace("dom_id=%native_dom_id%", a), i = document.getElementsByTagName("iframe"), s = !1, o = 0; o < i.length && !s; o++) { var d = i[o]; try { var p = d.contentDocument || d.contentWindow.document; if (p) for (var c = p.getElementsByTagName("script"), u = 0; u < c.length && !s; u++) { var l = c[u]; l.getAttribute("data-src") == t && (l.setAttribute("src", n), l.setAttribute("data-src", ""), l.removeAttribute && l.removeAttribute("data-src"), s = !0) } } catch (e) { if (!(e instanceof DOMException && "SecurityError" === e.name)) throw e } } }(e) } }; function R(e) { return _.isArray(e) && 0 < e.length } function j(e) { R(e.value) && "" === e.value[0] && delete e.value } function P(e) { var r = e.match(c), a = null != r && 1 <= r.length, t = e.match(T), n = null != t && 1 <= t.length; return e.startsWith(p) && n && a } function U(e) { var r = !0; return e && e.gdprConsent && e.gdprConsent.gdprApplies && 2 === e.gdprConsent.apiVersion && (r = !(!0 !== _.deepAccess(e.gdprConsent, "vendorData.purpose.consents.1"))), r } function N(a) { var t = {}; t.sizes = q(a.sizes), t.primary_size = t.sizes[0], t.ad_types = [], t.uuid = a.bidId, a.params.placementId ? t.id = parseInt(a.params.placementId, 10) : t.code = a.params.invCode, t.allow_smaller_sizes = a.params.allowSmallerSizes || !1, t.use_pmt_rule = a.params.usePaymentRule || !1, t.prebid = !0, t.disable_psa = !0; var e, r = function (e) { if (!_.isFn(e.getFloor)) return e.params.reserve ? e.params.reserve : null; var r = e.getFloor({ currency: "USD", mediaType: "*", size: "*" }); return !_.isPlainObject(r) || isNaN(r.floor) || "USD" !== r.currency ? null : r.floor }(a); r && (t.reserve = r), a.params.position && (t.position = { above: 1, below: 2 }[a.params.position] || 0), a.params.trafficSourceCode && (t.traffic_source_code = a.params.trafficSourceCode), a.params.privateSizes && (t.private_sizes = q(a.params.privateSizes)), a.params.supplyType && (t.supply_type = a.params.supplyType), a.params.pubClick && (t.pubclick = a.params.pubClick), a.params.extInvCode && (t.ext_inv_code = a.params.extInvCode), a.params.publisherId && (t.publisher_id = parseInt(a.params.publisherId, 10)), a.params.externalImpId && (t.external_imp_id = a.params.externalImpId), _.isEmpty(a.params.keywords) || (0 < (e = _.transformBidderParamKeywords(a.params.keywords)).length && e.forEach(j), t.keywords = e); var n, i, s, o = _.deepAccess(a, "ortb2Imp.ext.data.pbadslot"); o && (t.gpid = o), a.mediaType !== y.c && !_.deepAccess(a, "mediaTypes.".concat(y.c)) || (t.ad_types.push(y.c), 0 === t.sizes.length && (t.sizes = q([1, 1])), a.nativeParams && (i = a.nativeParams, s = {}, Object.keys(i).forEach(function (e) { var r, a = h[e] && h[e].serverName || h[e] || e, t = h[e] && h[e].requiredParams; s[a] = b({}, t, i[e]), a !== h.image.serverName && a !== h.icon.serverName || !s[a].sizes || (r = s[a].sizes, (_.isArrayOfNums(r) || _.isArray(r) && 0 < r.length && r.every(function (e) { return _.isArrayOfNums(e) })) && (s[a].sizes = q(s[a].sizes))), a === h.privacyLink && (s.privacy_supported = !0) }), n = s, t[y.c] = { layouts: [n] })); var d = _.deepAccess(a, "mediaTypes.".concat(y.d)), p = _.deepAccess(a, "mediaTypes.video.context"); t.hb_source = d && "adpod" === p ? 7 : 1, a.mediaType !== y.d && !d || t.ad_types.push(y.d), (a.mediaType === y.d || d && "outstream" !== p) && (t.require_asset_url = !0), a.params.video && (t.video = {}, Object.keys(a.params.video).filter(function (e) { return A()(l, e) }).forEach(function (e) { switch (e) { case "context": case "playback_method": var r = a.params.video[e], r = _.isArray(r) ? r[0] : r; t.video[e] = m[e][r]; break; case "frameworks": break; default: t.video[e] = a.params.video[e] } }), a.params.video.frameworks && _.isArray(a.params.video.frameworks) && (t.video_frameworks = a.params.video.frameworks)), a.renderer && (t.video = b({}, t.video, { custom_renderer_present: !0 })), a.params.frameworks && _.isArray(a.params.frameworks) && (t.banner_frameworks = a.params.frameworks); var c = I()(u.a.getAdUnits(), function (e) { return a.transactionId === e.transactionId }); return c && c.mediaTypes && c.mediaTypes.banner && t.ad_types.push(y.b), 0 === t.ad_types.length && delete t.ad_types, t } function q(e) { var r = [], a = {}; if (_.isArray(e) && 2 === e.length && !_.isArray(e[0])) a.width = parseInt(e[0], 10), a.height = parseInt(e[1], 10), r.push(a); else if ("object" === s(e)) for (var t = 0; t < e.length; t++) { var n = e[t]; (a = {}).width = parseInt(n[0], 10), a.height = parseInt(n[1], 10), r.push(a) } return r } function z(e) { return !!e.params.user } function M(e) { return !!parseInt(e.params.member, 10) } function D(e) { if (e.params) return !!e.params.app } function B(e) { return e.params && e.params.app ? !!e.params.app.id : !!e.params.app } function F(e) { return !!e.debug } function V(e) { return e.mediaTypes && e.mediaTypes.video && e.mediaTypes.video.context === y.a } function J(e) { var r = !1, a = e.params, t = e.params.video; return a.frameworks && _.isArray(a.frameworks) && (r = A()(e.params.frameworks, 6)), !r && t && t.frameworks && _.isArray(t.frameworks) && (r = A()(e.params.video.frameworks, 6)), r } function W(e, r, a) { _.isEmpty(e.video) && (e.video = {}), e.video[r] = a } function H(e) { var r, a; r = e.adUnitCode, (a = document.getElementById(r).querySelectorAll("div[id^='google_ads']"))[0] && a[0].style.setProperty("display", "none"), function (e) { try { var r = document.getElementById(e).querySelectorAll("script[id^='sas_script']"); r[0].nextSibling && "iframe" === r[0].nextSibling.localName && r[0].nextSibling.style.setProperty("display", "none") } catch (e) { } }(e.adUnitCode), e.renderer.push(function () { window.ANOutstreamVideo.renderAd({ tagId: e.adResponse.tag_id, sizes: [e.getSize().split("x")], targetId: e.adUnitCode, uuid: e.adResponse.uuid, adResponse: e.adResponse, rendererOptions: e.renderer.getConfig() }, function (e, r, a) { e.renderer.handleVideoEvent({ id: r, eventName: a }) }.bind(null, e)) }) } function L(e, r, a, t) { return r && (t ? e.push({ source: a, id: r, rti_partner: t }) : e.push({ source: a, id: r })), e } Object(v.registerBidder)(O) } }, [312]);
pbjsChunk([327], { 394: function (n, t, e) { n.exports = e(395) }, 395: function (n, t, e) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), e.d(t, "allowAuction", function () { return w }), e.d(t, "userCMP", function () { return d }), e.d(t, "consentTimeout", function () { return l }), e.d(t, "gdprScope", function () { return g }), e.d(t, "staticConsentData", function () { return m }), t.requestBidsHook = h, t.resetConsentData = function () { C = void 0, d = void 0, D = 0, a.gdprDataHandler.setConsentData(null) }, t.setConsentConfig = _; var u = e(0), o = e(3), a = e(8), i = e(12), r = e.n(i), s = e(82), f = e.n(s); function c(n) { return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) { return typeof n } : function (n) { return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n })(n) } function p(n, t, e) { return t in n ? Object.defineProperty(n, t, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : n[t] = e, n } var d, l, g, m, C, v = "iab", b = 1e4, y = !0, w = { value: y, definedInConfig: !1 }, D = 0, k = !1, M = { iab: function (o, e, r) { function n(n, t) { u.logInfo("Received a response from CMP", n), t ? !1 !== n.gdprApplies && "tcloaded" !== n.eventStatus && "useractioncomplete" !== n.eventStatus || o(n, r) : e("CMP unable to register callback function.  Please check CMP setup.", r) } var t = function () { var t = {}; function e() { t.getConsentData && t.getVendorConsents && (u.logInfo("Received all requested responses from CMP", t), o(t, r)) } return { consentDataCallback: function (n) { t.getConsentData = n, e() }, vendorConsentsCallback: function (n) { t.getVendorConsents = n, e() } } }(), c = {}, a = function () { for (var n, t, e = window; !n;) { try { if ("function" == typeof e.__tcfapi || "function" == typeof e.__cmp) { t = "function" == typeof e.__tcfapi ? (D = 2, e.__tcfapi) : (D = 1, e.__cmp), n = e; break } } catch (n) { } try { if (e.frames.__tcfapiLocator) { D = 2, n = e; break } } catch (n) { } try { if (e.frames.__cmpLocator) { D = 1, n = e; break } } catch (n) { } if (e === window.top) break; e = e.parent } return { cmpFrame: n, cmpFunction: t } }(), i = a.cmpFrame, s = a.cmpFunction; if (!i) return e("CMP not found.", r); u.isFn(s) ? (u.logInfo("Detected CMP API is directly accessible, calling it now..."), 1 === D ? (s("getConsentData", null, t.consentDataCallback), s("getVendorConsents", null, t.vendorConsentsCallback)) : 2 === D && s("addEventListener", D, n)) : 1 === D && window.$sf && window.$sf.ext && "function" == typeof window.$sf.ext.cmp ? (u.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."), d("getConsentData", t.consentDataCallback), d("getVendorConsents", t.vendorConsentsCallback)) : (u.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."), 1 === D ? (l("getConsentData", i, t.consentDataCallback), l("getVendorConsents", i, t.vendorConsentsCallback)) : 2 === D && l("addEventListener", i, n)); function d(o, a) { var n, t = r.adUnits, e = 1, i = 1; Array.isArray(t) && 0 < t.length && (e = (n = u.getAdUnitSizes(t[0]))[0][0], i = n[0][1]), window.$sf.ext.register(e, i, function (n, t) { var e; "cmpReturn" === n && (e = "getConsentData" === o ? t.vendorConsentData : t.vendorConsents, a(e)) }), window.$sf.ext.cmp(o) } function l(n, r, t) { var a = 2 === D ? "__tcfapi" : "__cmp", s = "".concat(a, "Call"); function e(n) { var t, e = "".concat(a, "Return"), o = "string" == typeof n.data && f()(n.data, e) ? JSON.parse(n.data) : n.data; o[e] && o[e].callId && (t = o[e], void 0 !== c[t.callId] && c[t.callId](t.returnValue, t.success)) } 2 === D ? (window[a] = function (n, t, e, o) { var a = Math.random() + "", i = p({}, s, { command: n, version: t, parameter: o, callId: a }); c[a] = e, r.postMessage(i, "*") }, window.addEventListener("message", e, !1), window[a](n, D, t)) : (window[a] = function (n, t, e) { var o = Math.random() + "", a = p({}, s, { command: n, parameter: t, callId: o }); c[o] = e, r.postMessage(a, "*") }, window.addEventListener("message", e, !1), window[a](n, void 0, t)) } }, static: function (n, t, e) { n(m, e) } }; function h(n, t) { var e = { context: this, args: [t], nextFn: n, adUnits: t.adUnits || pbjs.adUnits, bidsBackHandler: t.bidsBackHandler, haveExited: !1, timer: null }; return C ? (u.logInfo("User consent information already known.  Pulling internally stored information..."), S(null, e)) : r()(Object.keys(M), d) ? (M[d].call(this, A, P, e), void (e.haveExited || (0 === l ? A(void 0, e) : e.timer = setTimeout(function (n) { P("CMP workflow exceeded timeout threshold.", n) }.bind(null, e), l)))) : (u.logWarn("CMP framework (".concat(d, ") is not a supported framework.  Aborting consentManagement module and resuming auction.")), e.nextFn.apply(e.context, e.args)) } function A(e, n) { "static" === d && 2 === (D = e.getConsentData ? 1 : e.getTCData ? 2 : 0) && (e = e.getTCData); var t = 1 === D ? function (n) { var t = n && n.getConsentData && n.getConsentData.gdprApplies; return !("boolean" == typeof t && (!0 !== t || u.isStr(n.getConsentData.consentData) && u.isPlainObject(n.getVendorConsents) && 1 < Object.keys(n.getVendorConsents).length)) } : 2 === D ? function () { var n = e && "boolean" == typeof e.gdprApplies ? e.gdprApplies : g, t = e && e.tcString; return !("boolean" == typeof n && (!0 !== n || u.isStr(t))) } : null; w.definedInConfig && 2 === D ? u.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2") : w.definedInConfig || 1 !== D || u.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(y, ").")), u.isFn(t) ? t(e) ? P("CMP returned unexpected value during lookup process.", n, e) : (clearTimeout(n.timer), I(e), S(null, n)) : P("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.", n, e) } function P(n, t, e) { clearTimeout(t.timer), w.value && 1 === D && I(void 0), S(n, t, e) } function I(n) { 1 === D ? C = { consentString: n ? n.getConsentData.consentData : void 0, vendorData: n ? n.getVendorConsents : void 0, gdprApplies: n ? n.getConsentData.gdprApplies : g } : (C = { consentString: n ? n.tcString : void 0, vendorData: n || void 0, gdprApplies: n && "boolean" == typeof n.gdprApplies ? n.gdprApplies : g }, n && n.addtlConsent && u.isStr(n.addtlConsent) && (C.addtlConsent = n.addtlConsent)), C.apiVersion = D, a.gdprDataHandler.setConsentData(C) } function S(n, t, e) { var o, a, i; !1 === t.haveExited && (t.haveExited = !0, o = t.context, a = t.args, i = t.nextFn, n ? w.value && 1 === D ? (u.logWarn(n + " 'allowAuctionWithoutConsent' activated.", e), i.apply(o, a)) : (u.logError(n + " Canceling auction as per consentManagement config.", e), "function" == typeof t.bidsBackHandler ? t.bidsBackHandler() : u.logError("Error executing bidsBackHandler")) : i.apply(o, a)) } function _(n) { (n = n && (n.gdpr || n.usp ? n.gdpr : n)) && "object" === c(n) ? (u.isStr(n.cmpApi) ? d = n.cmpApi : (d = v, u.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat(v, ")."))), u.isNumber(n.timeout) ? l = n.timeout : (l = b, u.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(b, ")."))), "boolean" == typeof n.allowAuctionWithoutConsent && (w.value = n.allowAuctionWithoutConsent, w.definedInConfig = !0), g = !0 === n.defaultGdprScope, u.logInfo("consentManagement module has been activated..."), "static" === d && (u.isPlainObject(n.consentData) ? (m = n.consentData, l = 0) : u.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")), k || pbjs.requestBids.before(h, 50), k = !0) : u.logWarn("consentManagement config not defined, exiting consent manager") } o.b.getConfig("consentManagement", function (n) { return _(n.consentManagement) }) } }, [394]);
pbjsChunk([319], { 417: function (e, n, r) { e.exports = r(418) }, 418: function (e, n, r) { "use strict"; Object.defineProperty(n, "__esModule", { value: !0 }), r.d(n, "currencySupportEnabled", function () { return R }), r.d(n, "currencyRates", function () { return D }), n.setConfig = c, n.addBidResponseHook = j; var s = r(17), u = r(36), a = r(5), f = (r.n(a), r(4)), d = r(0), o = r(3), l = r(11); function y(e) { return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var g, v = "https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$", p = 4, b = [], h = {}, C = !1, S = !0, m = "USD", R = !1, D = {}, I = {}; function c(e) { var n, r, o, c, t, i = v; "object" === y(e.rates) && (D.conversions = e.rates, S = !(C = !0)), "object" === y(e.defaultRates) && (g = e.defaultRates, D.conversions = g, C = !0), "string" == typeof e.adServerCurrency ? (d.logInfo("enabling currency support", arguments), m = e.adServerCurrency, e.conversionRateFile && (d.logInfo("currency using override conversionRateFile:", e.conversionRateFile), i = e.conversionRateFile), -1 !== (n = i.indexOf("$$TODAY$$")) && (r = new Date, o = "".concat(r.getMonth() + 1), c = "".concat(r.getDate()), o.length < 2 && (o = "0".concat(o)), c.length < 2 && (c = "0".concat(c)), t = "".concat(r.getFullYear()).concat(o).concat(c), i = "".concat(i.substring(0, n)).concat(t).concat(i.substring(n + 9, i.length))), function (e) { h = {}, R = !0, d.logInfo("Installing addBidResponse decorator for currency module", arguments), Object(s.a)().convertCurrency = function (e, n, r) { return parseFloat(e) * F(n, r) }, Object(l.a)("addBidResponse").before(j, 100), S && (S = !1, Object(f.a)(e, { success: function (n) { try { D = JSON.parse(n), d.logInfo("currencyRates set to " + JSON.stringify(D)), C = !0, w() } catch (e) { O("Failed to parse currencyRates response: " + n) } }, error: O })) }(i)) : (d.logInfo("disabling currency support"), function () { d.logInfo("Uninstalling addBidResponse decorator for currency module", arguments), Object(l.a)("addBidResponse").getHooks({ hook: j }).remove(), delete Object(s.a)().convertCurrency, m = "USD", h = {}, C = R = !1, S = !0, D = {}, I = {} }()), "object" === y(e.bidderCurrencyDefault) && (I = e.bidderCurrencyDefault) } function O(e) { g ? (d.logWarn(e), d.logWarn("Currency failed loading rates, falling back to currency.defaultRates")) : d.logError(e) } function j(e, n, r) { if (!r) return e.call(this, n); var o, c, t, i, s = r.bidderCode || r.bidder; if (I[s] && (o = I[s], r.currency && o !== r.currency ? d.logWarn("Currency default '".concat(s, ": ").concat(o, "' ignored. adapter specified '").concat(r.currency, "'")) : r.currency = o), r.currency || (d.logWarn('Currency not specified on bid.  Defaulted to "USD"'), r.currency = "USD"), r.getCpmInNewCurrency = function (e) { return (parseFloat(this.cpm) * F(this.currency, e)).toFixed(3) }, r.currency === m) return e.call(this, n, r); b.push((c = e, t = this, i = [n, r], function () { var n = i[1]; if (void 0 !== n && "currency" in n && "cpm" in n) { var e = n.currency; try { var r = F(e); 1 !== r && (n.cpm = (parseFloat(n.cpm) * r).toFixed(4), n.currency = m) } catch (e) { d.logWarn("Returning NO_BID, getCurrencyConversion threw error: ", e), i[1] = Object(u.createBid)(a.STATUS.NO_BID, { bidder: n.bidderCode || n.bidder, bidId: n.requestId }) } } return c.apply(t, i) })), R && !C || w() } function w() { for (; 0 < b.length;)b.shift()() } function F(e, n) { var r, o = 1 < arguments.length && void 0 !== n ? n : m, c = null, t = "".concat(e, "->").concat(o); if (t in h) c = h[t], d.logMessage("Using conversionCache value " + c + " for " + t); else if (!1 === R) { if ("USD" !== e) throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD"); c = 1 } else if (e === o) c = 1; else if (e in D.conversions) { if (!(o in (r = D.conversions[e]))) throw new Error("Specified adServerCurrency in config '" + o + "' not found in the currency rates file"); c = r[o], d.logInfo("getCurrencyConversion using direct " + e + " to " + o + " conversionRate " + c) } else if (o in D.conversions) { if (!(e in (r = D.conversions[o]))) throw new Error("Specified fromCurrency '" + e + "' not found in the currency rates file"); c = U(1 / r[e], p), d.logInfo("getCurrencyConversion using reciprocal " + e + " to " + o + " conversionRate " + c) } else { var i = Object.keys(D.conversions)[0]; if (!(e in D.conversions[i])) throw new Error("Specified fromCurrency '" + e + "' not found in the currency rates file"); var s = 1 / D.conversions[i][e]; if (!(o in D.conversions[i])) throw new Error("Specified adServerCurrency in config '" + o + "' not found in the currency rates file"); c = U(s * D.conversions[i][o], p); d.logInfo("getCurrencyConversion using intermediate " + e + " thru " + i + " to " + o + " conversionRate " + c) } return t in h || (d.logMessage("Adding conversionCache value " + c + " for " + t), h[t] = c), c } function U(e, n) { for (var r = 1, o = 0; o < n; o++)r += "0"; return Math.round(e * r) / r } o.b.getConfig("currency", function (e) { return c(e.currency) }) } }, [417]);
pbjsChunk([274], { 513: function (e, r, t) { e.exports = t(514) }, 514: function (e, r, t) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), t.d(r, "spec", function () { return b }), r.resetUserSync = function () { d = !1 }, r.getSyncUrl = function () { return s }; var j = t(0), n = t(1), a = t(13), R = t(2), T = t(3); function E(e) { return (E = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function O(e, r) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, r) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var t = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (t.push(a.value), !r || t.length !== r); n = !0); } catch (e) { o = !0, i = e } finally { try { n || null == s.return || s.return() } finally { if (o) throw i } } return t }(e, r) || o(e, r) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function z(e) { return function (e) { if (Array.isArray(e)) return i(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || o(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function o(e, r) { if (e) { if ("string" == typeof e) return i(e, r); var t = Object.prototype.toString.call(e).slice(8, -1); return "Object" === t && e.constructor && (t = e.constructor.name), "Map" === t || "Set" === t ? Array.from(e) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? i(e, r) : void 0 } } function i(e, r) { (null == r || r > e.length) && (r = e.length); for (var t = 0, n = new Array(r); t < r; t++)n[t] = e[t]; return n } var s = "https://x.bidswitch.net/sync?ssp=themediagrid", d = !1, u = "Bid from response has no auid parameter - ", c = "Bid from response has no adm parameter - ", l = "Array of bid objects is empty", p = "Seatbid array from response has empty item", f = "Response is empty", m = "Response has empty seatbid array", y = "Seatbid from response has no array of bid objects - ", b = { code: "grid", supportedMediaTypes: [R.b, R.d], isBidRequestValid: function (e) { return !!e.params.uid }, buildRequests: function (e, r) { if (!e.length) return null; var m = null, y = null, b = null, g = null, v = null, h = null, t = null, n = null, o = r || {}, S = o.bidderRequestId, w = o.auctionId, i = o.gdprConsent, a = o.uspConsent, s = o.timeout, d = o.refererInfo, u = d ? encodeURIComponent(d.referer) : "", x = [], A = {}; e.forEach(function (e) { S = S || e.bidderRequestId, w = w || e.auctionId, g = g || e.schain, v = v || e.userId, h = h || e.userIdAsEids; var r = e.params, t = r.uid, n = r.keywords, o = e.mediaTypes, i = e.bidId, a = e.adUnitCode, s = e.rtd, d = e.ortb2Imp; A[i] = e, m || j.isEmpty(n) || (m = j.transformBidderParamKeywords(n)); var u = function (e, r) { var t = e.video ? "video" : "banner", n = r.params.bidFloor || 0; { var o; "function" == typeof r.getFloor && ("object" !== E(o = r.getFloor({ currency: "USD", mediaType: t, size: r.sizes.map(function (e) { var r = O(e, 2); return { w: r[0], h: r[1] } }) })) || "USD" !== o.currency || isNaN(parseFloat(o.floor)) || (n = Math.max(n, parseFloat(o.floor)))) } return n }(o || {}, e), c = s && s.jwplayer && s.jwplayer.targeting; c && (!y && c.segments && (y = c.segments), !b && c.content && (b = c.content)); var l, p, f = { id: i, tagid: t.toString(), ext: { divid: a } }; d && d.ext && d.ext.data && (f.ext.data = d.ext.data, f.ext.data.adserver && f.ext.data.adserver.adslot && (f.ext.gpid = f.ext.data.adserver.adslot)), u && (f.bidfloor = u), o && !o[R.b] || (l = function (e, r) { var t = r.sizes || e.sizes; if (!t || !t.length) return; var n = t.map(function (e) { return j.parseGPTSingleSizeArrayToRtbSize(e) }), o = j.parseGPTSingleSizeArrayToRtbSize(t[0]); n.length && (o.format = n); return o }(e, o ? o[R.b] : {})) && (f.banner = l), o && o[R.d] && ((p = function (e, r) { var t = r.playerSize, n = r.mimes, o = r.durationRangeSec, i = r.protocols, a = (t || e.sizes || [])[0]; if (!a) return; var s = j.parseGPTSingleSizeArrayToRtbSize(a); n && (s.mimes = n); o && 2 === o.length && (s.minduration = o[0], s.maxduration = o[1]); i && i.length && (s.protocols = i); return s }(e, o[R.d])) && (f.video = p)), (f.banner || f.video) && x.push(f) }); var c = { tid: w, ext: { wrapper: "Prebid_js", wrapper_version: "4.42.1" } }; g && (c.ext.schain = g); var l = T.b.getConfig("bidderTimeout") || s, p = s ? Math.min(l, s) : l, f = { id: S, site: { page: u }, tmax: p, source: c, imp: x }; b && (f.site.content = b), y && y.length && (t = { data: [{ name: "iow_labs_pub_data", segment: y.map(function (e) { return { name: "jwpseg", value: e } }) }] }), i && i.consentString && (n = { consent: i.consentString }), h && h.length && ((n = n || {}).eids = z(h)), n && Object.keys(n).length && ((t = t || {}).ext = n), t && (f.user = t); var I = j.transformBidderParamKeywords({ user: j.deepAccess(T.b.getConfig("ortb2.user"), "keywords") || null, context: j.deepAccess(T.b.getConfig("ortb2.site"), "keywords") || null }); return I.length && (m = (m || []).concat(I)), m && 0 < m.length && m.forEach(_), m && (f.ext = { keywords: m }), i && i.gdprApplies && (f.regs = { ext: { gdpr: i.gdprApplies ? 1 : 0 } }), a && (f.regs || (f.regs = { ext: {} }), f.regs.ext.us_privacy = a), !0 === T.b.getConfig("coppa") && (f.regs || (f.regs = {}), f.regs.coppa = 1), { method: "POST", url: "https://grid.bidswitch.net/hbjson", data: JSON.stringify(f), newFormat: !0, bidsMap: A } }, interpretResponse: function (e, r) { e = e && e.body; var t, n = []; return e ? e.seatbid && !e.seatbid.length && (t = m) : t = f, !t && e.seatbid && e.seatbid.forEach(function (e) { !function (e, r, t) { if (!e) return; var n; e.auid || (n = u + JSON.stringify(e)); { var o, i; e.adm ? (o = r.bidsMap[e.impid]) && (i = { requestId: o.bidId, cpm: e.price, width: e.w, height: e.h, creativeId: e.auid, currency: "USD", netRevenue: !0, ttl: 360, meta: { advertiserDomains: e.adomain ? e.adomain : [] }, dealId: e.dealid }, "video" === e.content_type ? (i.vastXml = e.adm, i.mediaType = R.d, i.adResponse = { content: i.vastXml }, o.renderer || o.mediaTypes && o.mediaTypes.video && "outstream" !== o.mediaTypes.video.context || (i.renderer = function (e) { var r = a.a.install({ id: e.id, url: e.url, loaded: !1 }); try { r.setRender(g) } catch (e) { j.logWarn("Prebid Error calling setRender on renderer", e) } return r }({ id: o.bidId, url: "https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js" }))) : (i.ad = e.adm, i.mediaType = R.b), t.push(i)) : n = c + JSON.stringify(e) } n && j.logError(n) }(function (e) { e ? e.bid ? e.bid[0] || j.logError(l) : j.logError(y + JSON.stringify(e)) : j.logError(p); return e && e.bid && e.bid[0] }(e), r, n) }), t && j.logError(t), n }, getUserSyncs: function (e, r, t, n) { if (!d && e.pixelEnabled) { var o = ""; return t && "string" == typeof t.consentString && ("boolean" == typeof t.gdprApplies ? o += "&gdpr=".concat(Number(t.gdprApplies), "&gdpr_consent=").concat(t.consentString) : o += "&gdpr_consent=".concat(t.consentString)), n && (o += "&us_privacy=".concat(n)), d = !0, { type: "image", url: s + o } } } }; function _(e) { var r; r = e.value, j.isArray(r) && 0 < r.length && "" === e.value[0] && delete e.value } function g(e) { e.renderer.push(function () { window.ANOutstreamVideo.renderAd({ targetId: e.adUnitCode, adResponse: e.adResponse }) }) } Object(n.registerBidder)(b) } }, [513]);
pbjsChunk([250], { 569: function (e, r, t) { e.exports = t(570) }, 570: function (e, r, t) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), t.d(r, "spec", function () { return a }); var B = t(0), T = t(2), J = t(3), n = t(10), b = t.n(n), i = t(1); function N(e) { return function (e) { if (Array.isArray(e)) return s(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || d(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function o(r, e) { var t, n = Object.keys(r); return Object.getOwnPropertySymbols && (t = Object.getOwnPropertySymbols(r), e && (t = t.filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })), n.push.apply(n, t)), n } function R(i) { for (var e = 1; e < arguments.length; e++) { var s = null != arguments[e] ? arguments[e] : {}; e % 2 ? o(Object(s), !0).forEach(function (e) { var r, t, n; r = i, n = s[t = e], t in r ? Object.defineProperty(r, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : r[t] = n }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(s)) : o(Object(s)).forEach(function (e) { Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(s, e)) }) } return i } function U(e) { return (U = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function d(e, r) { if (e) { if ("string" == typeof e) return s(e, r); var t = Object.prototype.toString.call(e).slice(8, -1); return "Object" === t && e.constructor && (t = e.constructor.name), "Map" === t || "Set" === t ? Array.from(e) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? s(e, r) : void 0 } } function s(e, r) { (null == r || r > e.length) && (r = e.length); for (var t = 0, n = new Array(r); t < r; t++)n[t] = e[t]; return n } var _ = "roundel", f = [T.b, T.d], g = 100, h = 300, v = 3600, x = !0, I = { JPY: 1 }, p = { PBJS: "p", IX: "x" }, c = { "liveramp.com": "idl", "netid.de": "NETID", "neustar.biz": "fabrickId", "zeotap.com": "zeotapIdPlus", "uidapi.com": "UID2", "adserver.org": "TDID" }, q = ["britepoolid", "id5id", "lipbid", "haloId", "criteoId", "lotamePanoramaId", "merkleId", "parrableId", "connectid", "sharedid", "tapadId", "quantcastId", "pubcid", "TDID", "flocId"]; function C(e) { var r = {}; r.id = e.bidId, r.ext = {}, r.ext.siteID = e.params.siteId, !e.params.hasOwnProperty("id") || "string" != typeof e.params.id && "number" != typeof e.params.id ? r.ext.sid = "".concat(e.params.size[0], "x").concat(e.params.size[1]) : r.ext.sid = String(e.params.id); var t = B.deepAccess(e, "ortb2Imp.ext.data.adserver.adslot"); return t && (r.ext.dfp_ad_unit_code = t), r } function j(e, r, t) { var n = null, i = null; if (e.params.bidFloor && e.params.bidFloorCur && (n = { floor: e.params.bidFloor, currency: e.params.bidFloorCur }), B.isFn(e.getFloor)) { var s, o = "*", a = "*"; t && B.contains(f, t) && (a = [(s = r[o = t]).w, s.h]); try { i = e.getFloor({ mediaType: o, size: a }) } catch (e) { B.logWarn("priceFloors module call getFloor failed, error : ", e) } } if (n && i) return n.currency !== i.currency ? void B.logWarn("The bid floor currency mismatch between IX params and priceFloors module config") : void (n.floor > i.floor ? (r.bidfloor = n.floor, r.bidfloorcur = n.currency, r.ext.fl = p.IX) : (r.bidfloor = i.floor, r.bidfloorcur = i.currency, r.ext.fl = p.PBJS)); i ? (r.bidfloor = i.floor, r.bidfloorcur = i.currency, r.ext.fl = p.PBJS) : n ? (r.bidfloor = n.floor, r.bidfloorcur = n.currency, r.ext.fl = p.IX) : B.logInfo("IX Bid Adapter: No floors available, no floors applied") } function y(e) { return Array.isArray(e) && 2 === e.length && B.isInteger(e[0]) && B.isInteger(e[1]) } function k(e, r) { if (y(e)) return e[0] === r[0] && e[1] === r[1]; for (var t = 0; t < e.length; t++)if (e[t][0] === r[0] && e[t][1] === r[1]) return 1 } function M(e, r) { var t, n = [], i = {}; if (B.isArray(e)) { var s, o = function (e, r) { var t; if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) { if (Array.isArray(e) || (t = d(e)) || r && e && "number" == typeof e.length) { t && (e = t); var n = 0, i = function () { }; return { s: i, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: i } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var s, o = !0, a = !1; return { s: function () { t = e[Symbol.iterator]() }, n: function () { var e = t.next(); return o = e.done, e }, e: function (e) { a = !0, s = e }, f: function () { try { o || null == t.return || t.return() } finally { if (a) throw s } } } }(e); try { for (o.s(); !(s = o.n()).done;) { var a = s.value; c[a.source] && B.deepAccess(a, "uids.0") && (i[a.source] = !0, a.uids[0].ext = { rtiPartner: c[a.source] }, delete a.uids[0].atype, n.push(a)) } } catch (e) { o.e(e) } finally { o.f() } } return r && r.id && r.version && (t = { source: "chrome.com", uids: [{ id: r.id, ext: { rtiPartner: "flocId", ver: r.version } }] }, n.push(t), i["chrome.com"] = !0), { toSend: n, seenSources: i } } function E(e, r, t, n) { var i = "https://htlb.casalemedia.com/cygnus", s = M(B.deepAccess(e, "0.userIdAsEids"), B.deepAccess(e, "0.userId.flocId")), o = s.toSend; if (window.headertag && "function" == typeof window.headertag.getIdentityInfo) { var a, d = window.headertag.getIdentityInfo(); if (d && "object" === U(d)) for (var p in d) { !d.hasOwnProperty(p) || !(a = d[p]).responsePending && a.data && "object" === U(a.data) && Object.keys(a.data).length && !s.seenSources[a.data.source] && o.push(a.data) } } if (r && r.bidderCode === _ && !s.seenSources["liveramp.com"]) return []; var c = {}; c.id = e[0].bidderRequestId.toString(), c.site = {}, c.ext = {}, c.ext.source = "prebid", c.ext.ixdiag = {}; var u, m = function (t) { for (var n, i = t.map(function (e) { return e.transactionId }).filter(function (e, r, t) { return t.indexOf(e) === r }), s = { mfu: 0, bu: 0, iu: 0, nu: 0, ou: 0, allu: 0, ren: !1, version: "4.42.1", userIds: function (e) { var r = e.userId || {}; return q.filter(function (e) { return r[e] }) }(t[0]) }, e = 0; e < i.length; e++)!function (r) { var e; n = t.filter(function (e) { return e.transactionId === i[r] })[0], B.deepAccess(n, "mediaTypes") && (1 < Object.keys(n.mediaTypes).length && s.mfu++, B.deepAccess(n, "mediaTypes.native") && s.nu++, B.deepAccess(n, "mediaTypes.banner") && s.bu++, "outstream" === B.deepAccess(n, "mediaTypes.video.context") && (s.ou++, e = "object" === U(B.deepAccess(n, "renderer") || B.deepAccess(n, "mediaTypes.video.renderer")), s.ren = s.ren && e ? B.deepAccess(s, "ren") : e), "instream" === B.deepAccess(n, "mediaTypes.video.context") && s.iu++, s.allu++) }(e); return s }(e); for (var l in m) c.ext.ixdiag[l] = m[l]; e[0].schain && (c.source = { ext: { schain: e[0].schain } }), 0 < o.length && (c.user = {}, c.user.eids = o), document.referrer && "" !== document.referrer && (c.site.ref = document.referrer), r && (r.gdprConsent && ((u = r.gdprConsent).hasOwnProperty("gdprApplies") && (c.regs = { ext: { gdpr: u.gdprApplies ? 1 : 0 } }), u.hasOwnProperty("consentString") && (c.user = c.user || {}, c.user.ext = { consent: u.consentString || "" }, u.hasOwnProperty("addtlConsent") && u.addtlConsent && (c.user.ext.consented_providers_settings = { consented_providers: u.addtlConsent }))), r.uspConsent && B.deepSetValue(c, "regs.ext.us_privacy", r.uspConsent), r.refererInfo && (c.site.page = r.refererInfo.referer)), J.b.getConfig("coppa") && B.deepSetValue(c, "regs.coppa", 1); var f = {}, y = r && r.bidderCode || "ix", b = J.b.getConfig(y); if (b) { if ("object" === U(b.firstPartyData)) { var g = b.firstPartyData, h = "?"; for (var v in g) g.hasOwnProperty(v) && (h += "".concat(encodeURIComponent(v), "=").concat(encodeURIComponent(g[v]), "&")); h = h.slice(0, -1), c.site.page += h } "number" == typeof b.timeout && (f.t = b.timeout), "boolean" == typeof b.detectMissingSizes ? c.ext.ixdiag.dms = b.detectMissingSizes : c.ext.ixdiag.dms = !0 } f.s = e[0].params.siteId, f.v = n, f.ac = "j", f.sd = 1, 8.1 === n && (f.nf = 1); var x = [], I = { method: "GET", url: i, data: f }, w = new Blob(["".concat(I.url).concat(B.parseQueryStringParameters(R(R({}, I.data), {}, { r: JSON.stringify(c) })))]).size, O = w, P = 0, S = 0, A = 0; c.ext.ixdiag.msd = 0, c.ext.ixdiag.msi = 0, c.imp = []; for (var z, T, C, j, k, E = 0, F = Object.keys(t), D = []; E < F.length && x.length < 4;) { t[F[E]].hasOwnProperty("missingCount") && (A = t[F[E]].missingCount), w < 8e3 ? function (e, r) { var t = new Blob([encodeURIComponent(JSON.stringify(e))]).size; if (t < r) return; for (; r < t;)e.hasOwnProperty("missingImps") && 0 < e.missingImps.length ? e.missingImps.pop() : e.hasOwnProperty("ixImps") && 0 < e.ixImps.length && e.ixImps.pop(), t = new Blob([encodeURIComponent(JSON.stringify(e))]).size }(t[F[E]], 8e3 - w) : B.logError("ix bidder: Base request size has exceeded maximum request size."), t[F[E]].hasOwnProperty("missingImps") && (S = t[F[E]].missingImps.length), (O += new Blob([encodeURIComponent(JSON.stringify(t[F[E]]))]).size) < 8e3 ? ((z = c.imp).push.apply(z, N(t[F[E]].ixImps)), c.ext.ixdiag.msd += A, c.ext.ixdiag.msi += S, t[F[E]].hasOwnProperty("missingImps") && D.push.apply(D, N(t[F[E]].missingImps)), E++) : (C = B.deepClone(f), (T = c.imp).push.apply(T, N(D)), c.ext.ixdiag.sn = P, C.sn = P, P++, C.r = JSON.stringify(c), x.push({ method: "GET", url: i, data: C }), D = [], O = w, c.imp = [], S = A = 0, c.ext.ixdiag.msd = 0, c.ext.ixdiag.msi = 0) } return w < O && O < 8e3 && x.length < 4 && (k = B.deepClone(f), (j = c.imp).push.apply(j, N(D)), 0 < x.length && (c.ext.ixdiag.sn = P, k.sn = P), k.r = JSON.stringify(c), x.push({ method: "GET", url: i, data: k })), x } function F(e, r) { for (var t = 0; t < e.length; t++)if (r[0] == e[t][0] && r[1] == e[t][1]) return e.splice(t, 1), 1 } var a = { code: "ix", gvlid: 10, aliases: [{ code: _, gvlid: 10, skipPbsAliasing: !1 }], supportedMediaTypes: f, isBidRequestValid: function (e) { var r, t, n = B.deepAccess(e, "params.video"), i = B.deepAccess(e, "params.size"), s = B.deepAccess(e, "mediaTypes.banner.sizes"), o = B.deepAccess(e, "mediaTypes.video"), a = B.deepAccess(e, "mediaTypes.video.playerSize"), d = e.params.hasOwnProperty("bidFloor"), p = e.params.hasOwnProperty("bidFloorCur"); if (!y(e.params.size)) return B.logError("ix bidder params: bid size has invalid format."), !1; if (e.hasOwnProperty("mediaType") && !B.contains(f, e.mediaType)) return !1; if (e.hasOwnProperty("mediaTypes") && !s && !a) return !1; if (!k(e.sizes, i) && !(a && k(a, i) || s && k(s, i))) return B.logError("ix bidder params: bid size is not included in ad unit sizes or player size."), !1; if (o && n) { for (var c = !0, u = 0, m = ["mimes", "minduration", "maxduration", "protocols"]; u < m.length; u++) { var l = m[u]; if (!o.hasOwnProperty(l) && !n.hasOwnProperty(l)) { if ("protocols" === l && (o.hasOwnProperty("protocol") || n.hasOwnProperty("protocol"))) continue; B.logError("ix bidder params: " + l + " is not included in either the adunit or params level"), c = !1 } } if (!c) return !1 } return "string" != typeof e.params.siteId && "number" != typeof e.params.siteId ? (B.logError("ix bidder params: siteId must be string or number value."), !1) : !!(!d && !p || d && p && (r = e.params.bidFloor, t = e.params.bidFloorCur, Boolean("number" == typeof r && "string" == typeof t && t.match(/^[A-Z]{3}$/)))) || (B.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."), !1) }, buildRequests: function (e, r) { for (var t, n, i, s, o, a, d, p, c, u, m, l, f, y, b = [], g = {}, h = {}, v = null, x = {}, I = R(R({}, { detectMissingSizes: !0 }), J.b.getConfig("ix")), w = 0; w < e.length; w++) { (v = e[w]).mediaType !== T.d && !B.deepAccess(v, "mediaTypes.video") || v.mediaType !== T.d && !k(v.mediaTypes.video.playerSize, v.params.size) || (h.hasOwnProperty(v.transactionId) || (h[v.transactionId] = {}), h[v.transactionId].hasOwnProperty("ixImps") || (h[v.transactionId].ixImps = []), h[v.transactionId].ixImps.push(function (e) { var r = C(e), t = B.deepAccess(e, "mediaTypes.video"), n = B.deepAccess(e, "mediaTypes.video.context"), i = ["mimes", "minduration", "maxduration", "protocols", "protocol", "startdelay", "placement", "linearity", "skip", "skipmin", "skipafter", "sequence", "battr", "maxextended", "minbitrate", "maxbitrate", "boxingallowed", "playbackmethod", "playbackend", "delivery", "pos", "companionad", "api", "companiontype", "ext"]; for (var s in r.video = B.deepClone(e.params.video), r.video.w = e.params.size[0], r.video.h = e.params.size[1], n && ("instream" === n ? r.video.placement = 1 : "outstream" === n ? r.video.placement = 4 : B.logWarn("ix bidder params: video context '".concat(n, "' is not supported"))), t) -1 === i.indexOf(s) || r.video.hasOwnProperty(s) || (r.video[s] = t[s]); return j(e, r, T.d), r }(v))), (v.mediaType === T.b || B.deepAccess(v, "mediaTypes.banner") && k(B.deepAccess(v, "mediaTypes.banner.sizes"), v.params.size) || !v.mediaType && !v.mediaTypes) && (u = void 0, (u = C(c = v)).banner = {}, u.banner.w = c.params.size[0], u.banner.h = c.params.size[1], u.banner.topframe = B.inIframe() ? 0 : 1, j(c, u, T.b), t = u, g.hasOwnProperty(v.transactionId) || (g[v.transactionId] = {}), g[v.transactionId].hasOwnProperty("ixImps") || (g[v.transactionId].ixImps = []), g[v.transactionId].ixImps.push(t), I.hasOwnProperty("detectMissingSizes") && I.detectMissingSizes && (i = x, s = t, p = d = a = o = void 0, p = (n = v).transactionId, i.hasOwnProperty(p) ? (o = [], i[p].hasOwnProperty("missingSizes") && (o = i[p].missingSizes), F(o, n.params.size), i[p].missingSizes = o) : B.deepAccess(n, "mediaTypes.banner.sizes") && (F(a = B.deepClone(n.mediaTypes.banner.sizes), n.params.size), d = { missingSizes: a, impression: s }, i[p] = d))) } for (var O in x) if (x.hasOwnProperty(O)) { var P = x[O].missingSizes; g.hasOwnProperty(O) || (g[O] = {}), g[O].hasOwnProperty("missingImps") || (g[O].missingImps = [], g[O].missingCount = 0); for (var S = x[O].impression, A = 0; A < P.length; A++) { var z = (m = v, l = S, f = P[A], y = void 0, (y = B.deepClone(l)).ext.sid = "".concat(f[0], "x").concat(f[1]), y.banner.w = f[0], y.banner.h = f[1], j(m, y, T.b), y); g[O].missingImps.push(z), g[O].missingCount++ } } return 0 < Object.keys(g).length && b.push.apply(b, N(E(e, r, g, 7.2))), 0 < Object.keys(h).length && b.push.apply(b, N(E(e, r, h, 8.1))), b }, interpretResponse: function (e, r) { var t = []; if (!e.hasOwnProperty("body") || !e.body.hasOwnProperty("seatbid")) return t; for (var n, i, s, o, a, d, p = e.body, c = p.seatbid, u = 0; u < c.length; u++)if (c[u].hasOwnProperty("bid")) for (var m = c[u].bid, l = JSON.parse(r.data.r), f = 0; f < m.length; f++) { var y = function (r, e) { if (r) return b()(e, function (e) { return e.id === r }) }(m[f].impid, l.imp); n = m[f], i = p.cur, s = y, d = a = o = void 0, o = {}, a = !(!B.deepAccess(n, "exp") || !B.isInteger(n.exp)), d = B.deepAccess(n, "dealid") || B.deepAccess(n, "ext.dealid"), I.hasOwnProperty(i) ? o.cpm = n.price / I[i] : o.cpm = n.price / g, o.requestId = n.impid, d && (o.dealId = d), o.netRevenue = x, o.currency = i, o.creativeId = n.hasOwnProperty("crid") ? n.crid : "-", B.deepAccess(n, "ext.vasturl") ? (o.vastUrl = n.ext.vasturl, o.width = s.video.w, o.height = s.video.h, o.mediaType = T.d, o.ttl = a ? n.exp : v) : (o.ad = n.adm, o.width = n.w, o.height = n.h, o.mediaType = T.b, o.ttl = a ? n.exp : h), o.meta = {}, o.meta.networkId = B.deepAccess(n, "ext.dspid"), o.meta.brandId = B.deepAccess(n, "ext.advbrandid"), o.meta.brandName = B.deepAccess(n, "ext.advbrand"), n.adomain && 0 < n.adomain.length && (o.meta.advertiserDomains = n.adomain), t.push(o) } return t }, transformBidParams: function (e) { return B.convertTypes({ siteID: "number" }, e) }, getUserSyncs: function (e) { return e.iframeEnabled ? [{ type: "iframe", url: "https://js-sec.indexww.com/um/ixmatch.html" }] : [] } }; Object(i.registerBidder)(a) } }, [569]);
pbjsChunk([203], { 679: function (e, n, t) { e.exports = t(680) }, 680: function (e, n, t) { "use strict"; Object.defineProperty(n, "__esModule", { value: !0 }), t.d(n, "spec", function () { return d }); var a = t(0), r = t(1), i = t(2), o = [i.b], s = {}, d = { code: "nativo", aliases: ["ntv"], supportedMediaTypes: o, isBidRequestValid: function (e) { return e.params && !!e.params.placementId }, buildRequests: function (e, n) { var t, r, i = [], o = {}; e.forEach(function (e) { r = r || e.params.url, t = e.params.placementId, i.push(t), o[t] = { bidId: e.bidId, size: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : p; return e && 0 !== e.length ? 1 === e.length ? e[0] : e.reduce(function (e, n) { return t(n) > t(e) ? n : e }) : [] }(e.sizes) } }), s[n.bidderRequestId] = o, r = r || n.refererInfo.referer; var d = { adUnits: e.map(function (e) { return { adUnitCode: e.adUnitCode, mediaTypes: e.mediaTypes } }) }, u = [{ key: "ntv_ptd", value: i.toString() }, { key: "ntv_pb_rid", value: n.bidderRequestId }, { key: "ntv_ppc", value: btoa(JSON.stringify(d)) }, { key: "ntv_url", value: encodeURIComponent(r) }]; return n.gdprConsent && u.unshift({ key: "ntv_gdpr_consent", value: n.gdprConsent.consentString }), n.uspConsent && u.unshift({ key: "us_privacy", value: n.uspConsent }), { method: "GET", url: "https://exchange.postrelease.com/prebid" + ("?" + u.reduce(function (e, n) { return c(e, n.key, n.value) }, "")) } }, interpretResponse: function (e) { var n = this; if (!e || !e.body || a.isEmpty(e.body)) return []; try { var t, r, i = "string" == typeof e.body ? JSON.parse(e.body) : e.body, o = []; return i.seatbid.forEach(function (e) { e.bid.forEach(function (e) { r = n.getRequestId(i.id, e.impid), t = { requestId: r.bidId, cpm: e.price, currency: i.cur, width: e.w || r.size[0], height: e.h || r.size[1], creativeId: e.crid, dealId: e.id, netRevenue: !0, ttl: e.ttl || 360, ad: e.adm, meta: { advertiserDomains: e.adomain } }, o.push(t) }) }), delete s[i.id], o } catch (e) { return [] } }, getUserSyncs: function (e, n, t, r) { var i = ""; t && (i = c(i, "gdpr", t.gdprApplies ? 1 : 0), i = c(i, "gdpr_consent", encodeURIComponent(t.consentString || ""))), r && (i = c(i, "us_privacy", encodeURIComponent(r.uspConsent))); var o, d = { iframe: e.iframeEnabled, image: e.pixelEnabled }, u = []; return n.forEach(function (e) { return e && e.body && !a.isEmpty(e.body) ? void ((o = "string" == typeof e.body ? JSON.parse(e.body) : e.body) && o.seatbid && 0 !== o.seatbid.length && o.seatbid.forEach(function (e) { e.syncUrls.forEach(function (e) { d[e.type] && "" !== e.url.trim() && u.push({ type: e.type, url: e.url.replace("{GDPR_params}", i) }) }) })) : u }), u }, onTimeout: function () { }, onBidWon: function () { }, onSetTargeting: function () { }, getRequestId: function (e, n) { return s[e] && s[e][n] } }; function c(e, n, t) { return e + "".concat(e.length ? "&" : "").concat(n, "=").concat(t) } Object(r.registerBidder)(d); var p = function (e) { return e[0] * e[1] } } }, [679]);
pbjsChunk([37], { 21: function (e, t, r) { "use strict"; t.b = function (e) { var t = []; for (var r in e) { var n; e.hasOwnProperty(r) && ("pubProvidedId" === r ? t = t.concat(e.pubProvidedId) : (n = function (e, t) { var r = c[t]; if (r && e) { var n = {}; n.source = r.source; var i = s.isFn(r.getValue) ? r.getValue(e) : e; if (i) { var d, o, a = { id: i, atype: r.atype }; return !s.isFn(r.getUidExt) || (d = r.getUidExt(e)) && (a.ext = d), n.uids = [a], !s.isFn(r.getEidExt) || (o = r.getEidExt(e)) && (n.ext = o), n } } return null }(e[r], r)) && t.push(n)) } return t }, t.a = function (e) { var r = []; return e.filter(function (e) { return s.isPlainObject(e.idObj) && Object.keys(e.idObj).length }).forEach(function (t) { Object.keys(t.idObj).forEach(function (e) { s.deepAccess(t, "config.bidders") && Array.isArray(t.config.bidders) && s.deepAccess(c, e + ".source") && r.push({ source: c[e].source, bidders: t.config.bidders }) }) }), r }; var s = r(0), c = { intentIqId: { source: "intentiq.com", atype: 1 }, pubcid: { source: "pubcid.org", atype: 1 }, tdid: { source: "adserver.org", atype: 1, getUidExt: function () { return { rtiPartner: "TDID" } } }, id5id: { getValue: function (e) { return e.uid }, source: "id5-sync.com", atype: 1, getUidExt: function (e) { if (e.ext) return e.ext } }, parrableId: { source: "parrable.com", atype: 1, getValue: function (e) { return e.eid ? e.eid : e.ccpaOptout ? "" : null }, getUidExt: function (e) { var t = s.pick(e, ["ibaOptout", "ccpaOptout"]); if (Object.keys(t).length) return t } }, idl_env: { source: "liveramp.com", atype: 3 }, lipb: { getValue: function (e) { return e.lipbid }, source: "liveintent.com", atype: 3, getEidExt: function (e) { if (Array.isArray(e.segments) && e.segments.length) return { segments: e.segments } } }, britepoolid: { source: "britepool.com", atype: 3 }, dmdId: { source: "hcn.health", atype: 3 }, lotamePanoramaId: { source: "crwdcntrl.net", atype: 1 }, criteoId: { source: "criteo.com", atype: 1 }, merkleId: { source: "merkleinc.com", atype: 3, getValue: function (e) { return e.id }, getUidExt: function (e) { return e && e.keyID ? { keyID: e.keyID } : void 0 } }, netId: { source: "netid.de", atype: 1 }, sharedid: { source: "sharedid.org", atype: 1, getValue: function (e) { return e.id }, getUidExt: function (e) { return e && e.third ? { third: e.third } : void 0 } }, IDP: { source: "zeotap.com", atype: 1 }, haloId: { source: "audigent.com", atype: 1 }, quantcastId: { source: "quantcast.com", atype: 1 }, nextrollId: { source: "nextroll.com", atype: 1 }, idx: { source: "idx.lat", atype: 1 }, connectid: { source: "verizonmedia.com", atype: 3 }, fabrickId: { source: "neustar.biz", atype: 1 }, mwOpenLinkId: { source: "mediawallahscript.com", atype: 1 }, tapadId: { source: "tapad.com", atype: 1 }, novatiq: { getValue: function (e) { return e.snowflake }, source: "novatiq.com", atype: 1 }, uid2: { source: "uidapi.com", atype: 3, getValue: function (e) { return e.id } }, deepintentId: { source: "deepintent.com", atype: 3 }, admixerId: { source: "admixer.net", atype: 3 } } }, 697: function (e, t, r) { e.exports = r(698) }, 698: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.hasTypeVideo = g, t.isValid = y, r.d(t, "spec", function () { return O }); var c = r(2), a = r(26), s = r(13), n = r(10), u = r.n(n), i = r(7), d = r(1), p = r(21); function o(t, e) { var r, n = Object.keys(t); return Object.getOwnPropertySymbols && (r = Object.getOwnPropertySymbols(t), e && (r = r.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, r)), n } function l(i) { for (var e = 1; e < arguments.length; e++) { var d = null != arguments[e] ? arguments[e] : {}; e % 2 ? o(Object(d), !0).forEach(function (e) { var t, r, n; t = i, n = d[r = e], r in t ? Object.defineProperty(t, r, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[r] = n }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(d)) : o(Object(d)).forEach(function (e) { Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(d, e)) }) } return i } var f = "https://onetag-sys.com/usync/", m = Object(i.b)(241); function g(e) { return void 0 !== e.mediaTypes && void 0 !== e.mediaTypes.video } function y(e, t) { if (e === c.b) return 0 < v(t).length; if (e === c.d && g(t)) { var r = t.mediaTypes.video.context; if ("outstream" === r || "instream" === r) return 0 < b(t).length } return !1 } function h(e) { var t = e.params; this.adUnitCode = e.adUnitCode, this.bidId = e.bidId, this.bidderRequestId = e.bidderRequestId, this.auctionId = e.auctionId, this.transactionId = e.transactionId, this.pubId = t.pubId, this.ext = t.ext, t.pubClick && (this.click = t.pubClick), t.dealId && (this.dealId = t.dealId); var r = function (e) { var t = document.getElementById(e); try { for (var r = t.getBoundingClientRect(), n = r.top, i = r.left, d = r.width, o = r.height, a = t.ownerDocument.defaultView, s = { top: n + a.pageYOffset, left: i + a.pageXOffset, width: d, height: o }, c = a.frameElement; null != c;) { var u = c.getBoundingClientRect(), p = u.top, l = u.left; s.top += p + a.pageYOffset, s.left += l + a.pageXOffset, a = a.parent, c = a.frameElement } return s } catch (e) { return null } }(e.adUnitCode); r && (this.coords = r) } function b(e) { var t = e.mediaTypes.video.playerSize; return void 0 !== t && Array.isArray(t) && 0 < t.length ? I(t) : [] } function v(e) { return void 0 !== e.mediaTypes && void 0 !== e.mediaTypes.banner && void 0 !== e.mediaTypes.banner.sizes && Array.isArray(e.mediaTypes.banner.sizes) && 0 < e.mediaTypes.banner.sizes.length ? I(e.mediaTypes.banner.sizes) : !g(e) && e.sizes && Array.isArray(e.sizes) ? I(e.sizes) : [] } function I(e) { for (var t = [], r = 0; r < e.length; r++) { var n = e[r]; t.push({ width: n[0], height: n[1] }) } return t } var O = { code: "onetag", gvlid: 241, supportedMediaTypes: [c.b, c.d], isBidRequestValid: function (e) { return void 0 !== e && void 0 !== e.params && "string" == typeof e.params.pubId && (y(c.b, e) || y(c.d, e)) }, buildRequests: function (e, t) { var r, n, i, d, o, a, s = l({ bids: (o = (d = e).filter(g).map(function (e) { var t = {}; return h.call(t, e), t.context = e.mediaTypes.video.context, t.mimes = e.mediaTypes.video.mimes, t.playerSize = b(e), t.protocols = e.mediaTypes.video.protocols, t.maxDuration = e.mediaTypes.video.maxduration, t.api = e.mediaTypes.video.api, t.type = c.d, t }), a = d.filter(function (e) { return y(c.b, e) }).map(function (e) { var t = {}; return h.call(t, e), t.sizes = v(e), t.type = c.b, t }), o.concat(a)) }, (r = function () { var t = window, r = window.parent, n = 0; try { for (; t !== t.parent;)(r = t.parent).location.href, t = t.parent } catch (e) { n = r === t.top ? 1 : 2 } return { topmostFrame: t, currentFrameNesting: n } }(), n = r.topmostFrame, i = r.currentFrameNesting, { location: n.location.href, referrer: "" !== n.document.referrer ? n.document.referrer : null, masked: i, wWidth: n.innerWidth, wHeight: n.innerHeight, oWidth: n.outerWidth, oHeight: n.outerHeight, sWidth: n.screen.width, sHeight: n.screen.height, aWidth: n.screen.availWidth, aHeight: n.screen.availHeight, sLeft: "screenLeft" in n ? n.screenLeft : n.screenX, sTop: "screenTop" in n ? n.screenTop : n.screenY, xOffset: n.pageXOffset, yOffset: n.pageYOffset, docHidden: function (e) { try { return void 0 !== e.document.hidden ? e.document.hidden : void 0 !== e.document.msHidden ? e.document.msHidden : void 0 !== e.document.webkitHidden ? e.document.webkitHidden : null } catch (e) { return null } }(n), docHeight: n.document.body ? n.document.body.scrollHeight : null, hLength: history.length, timing: function () { try { if (null != window.performance && null != window.performance.timing) { var e = {}, t = window.performance.timing; return e.pageLoadTime = t.loadEventEnd - t.navigationStart, e.connectTime = t.responseEnd - t.requestStart, e.renderTime = t.domComplete - t.domLoading, e } } catch (e) { return null } return null }(), version: { prebid: "4.42.1", adapter: "1.1.0" } })); t && t.gdprConsent && (s.gdprConsent = { consentString: t.gdprConsent.consentString, consentRequired: t.gdprConsent.gdprApplies }), t && t.uspConsent && (s.usPrivacy = t.uspConsent), e && 0 !== e.length && e[0].userId && (s.userId = Object(p.b)(e[0].userId)); try { m.hasLocalStorage() && (s.onetagSid = m.getDataFromLocalStorage("onetag_sid")) } catch (e) { } return { method: "POST", url: "https://onetag-sys.com/prebid-request", data: JSON.stringify(s) } }, interpretResponse: function (e, t) { var r = e.body, d = [], o = JSON.parse(t.data); return !r || r.nobid && !0 === r.nobid || r.bids && Array.isArray(r.bids) && 0 !== r.bids.length && r.bids.forEach(function (t) { var e, r, n, i = { requestId: t.requestId, cpm: t.cpm, width: t.width, height: t.height, creativeId: t.creativeId, dealId: null == t.dealId ? t.dealId : "", currency: t.currency, netRevenue: t.netRevenue || !1, mediaType: t.mediaType, meta: { mediaType: t.mediaType, advertiserDomains: t.adomain }, ttl: t.ttl || 300 }; t.mediaType === c.b ? i.ad = t.ad : t.mediaType === c.d && (r = (e = u()(o.bids, function (e) { return e.bidId === t.requestId })).context, n = e.adUnitCode, r === a.a ? (i.vastUrl = t.vastUrl, i.videoCacheKey = t.videoCacheKey) : r === a.b && (i.vastXml = t.ad, i.vastUrl = t.vastUrl, t.rendererUrl && (i.renderer = function (o) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, t = s.a.install({ id: o.requestId, url: o.rendererUrl, config: e, adUnitCode: o.adUnitCode, loaded: !1 }); try { t.setRender(function (e) { var t = e.renderer, r = e.width, n = e.height, i = e.vastXml, d = e.adUnitCode; t.push(function () { window.onetag.Player.init(l(l({}, o), {}, { width: r, height: n, vastXml: i, nodeId: d, config: t.getConfig() })) }) }) } catch (e) { } return t }(l(l({}, t), {}, { adUnitCode: n }))))), d.push(i) }), d }, getUserSyncs: function (e, t, r, n) { var i = [], d = ""; return r && "string" == typeof r.consentString && (d += "&gdpr_consent=" + r.consentString, "boolean" == typeof r.gdprApplies && (d += "&gdpr=" + (r.gdprApplies ? 1 : 0))), n && "string" == typeof n && (d += "&us_privacy=" + n), e.iframeEnabled && i.push({ type: "iframe", url: f + "?cb=" + (new Date).getTime() + d }), e.pixelEnabled && i.push({ type: "image", url: f + "?tag=img" + d }), i } }; Object(d.registerBidder)(O) } }, [697]);
pbjsChunk([170], { 786: function (e, r, a) { e.exports = a(787) }, 787: function (e, r, a) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), a.d(r, "spec", function () { return h }); var w = a(0), t = a(1), O = a(2), T = a(3), i = a(13); function S() { return (S = Object.assign || function (e) { for (var r = 1; r < arguments.length; r++) { var a = arguments[r]; for (var t in a) Object.prototype.hasOwnProperty.call(a, t) && (e[t] = a[t]) } return e }).apply(this, arguments) } function n(r, e) { var a, t = Object.keys(r); return Object.getOwnPropertySymbols && (a = Object.getOwnPropertySymbols(r), e && (a = a.filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })), t.push.apply(t, a)), t } function y(i) { for (var e = 1; e < arguments.length; e++) { var s = null != arguments[e] ? arguments[e] : {}; e % 2 ? n(Object(s), !0).forEach(function (e) { var r, a, t; r = i, t = s[a = e], a in r ? Object.defineProperty(r, a, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : r[a] = t }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(s)) : n(Object(s)).forEach(function (e) { Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(s, e)) }) } return i } function D(e) { return (D = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var o = "pubmatic", P = "PubMatic: ", R = "USD", Y = void 0, s = "https://pubmatic.bbvms.com/r/".concat("$RENDERER", ".js"), x = { kadpageurl: "", gender: "", yob: "", lat: "", lon: "", wiid: "", profId: "", verId: "" }, d = { NUMBER: "number", STRING: "string", BOOLEAN: "boolean", ARRAY: "array", OBJECT: "object" }, p = { mimes: d.ARRAY, minduration: d.NUMBER, maxduration: d.NUMBER, startdelay: d.NUMBER, playbackmethod: d.ARRAY, api: d.ARRAY, protocols: d.ARRAY, w: d.NUMBER, h: d.NUMBER, battr: d.ARRAY, linearity: d.NUMBER, placement: d.NUMBER, minbitrate: d.NUMBER, maxbitrate: d.NUMBER, skip: d.NUMBER }, E = { TITLE: { ID: 1, KEY: "title", TYPE: 0 }, IMAGE: { ID: 2, KEY: "image", TYPE: 0 }, ICON: { ID: 3, KEY: "icon", TYPE: 0 }, SPONSOREDBY: { ID: 4, KEY: "sponsoredBy", TYPE: 1 }, BODY: { ID: 5, KEY: "body", TYPE: 2 }, CLICKURL: { ID: 6, KEY: "clickUrl", TYPE: 0 }, VIDEO: { ID: 7, KEY: "video", TYPE: 0 }, EXT: { ID: 8, KEY: "ext", TYPE: 0 }, DATA: { ID: 9, KEY: "data", TYPE: 0 }, LOGO: { ID: 10, KEY: "logo", TYPE: 0 }, SPONSORED: { ID: 11, KEY: "sponsored", TYPE: 1 }, DESC: { ID: 12, KEY: "data", TYPE: 2 }, RATING: { ID: 13, KEY: "rating", TYPE: 3 }, LIKES: { ID: 14, KEY: "likes", TYPE: 4 }, DOWNLOADS: { ID: 15, KEY: "downloads", TYPE: 5 }, PRICE: { ID: 16, KEY: "price", TYPE: 6 }, SALEPRICE: { ID: 17, KEY: "saleprice", TYPE: 7 }, PHONE: { ID: 18, KEY: "phone", TYPE: 8 }, ADDRESS: { ID: 19, KEY: "address", TYPE: 9 }, DESC2: { ID: 20, KEY: "desc2", TYPE: 10 }, DISPLAYURL: { ID: 21, KEY: "displayurl", TYPE: 11 }, CTA: { ID: 22, KEY: "cta", TYPE: 12 } }, v = { ICON: 1, LOGO: 2, IMAGE: 3 }, I = [{ id: E.SPONSOREDBY.ID, required: !0, data: { type: 1 } }, { id: E.TITLE.ID, required: !0 }, { id: E.IMAGE.ID, required: !0 }], c = { 1: "PMP", 5: "PREF", 6: "PMPG" }, A = { EID: 1, SEGMENT: 2 }, l = { bootstrapPlayer: function (e) { var r = { code: e.adUnitCode }; if (e.vastXml ? r.vastXml = e.vastXml : e.vastUrl && (r.vastUrl = e.vastUrl), e.vastXml || e.vastUrl) { for (var a, t = l.getRendererId("pubmatic", e.rendererCode), i = document.getElementById(e.adUnitCode), s = 0; s < window.bluebillywig.renderers.length; s++)if (window.bluebillywig.renderers[s]._id === t) { a = window.bluebillywig.renderers[s]; break } a ? a.bootstrap(r, i) : w.logWarn("".concat(P, ": Couldn't find a renderer with ").concat(t)) } else w.logWarn("".concat(P, ": No vastXml or vastUrl on bid, bailing...")) }, newRenderer: function (e, r) { var a = s.replace("$RENDERER", e), t = i.a.install({ url: a, loaded: !1, adUnitCode: r }); try { t.setRender(l.outstreamRender) } catch (e) { w.logWarn("".concat(P, ": Error tying to setRender on renderer"), e) } return t }, outstreamRender: function (e) { e.renderer.push(function () { l.bootstrapPlayer(e) }) }, getRendererId: function (e, r) { return "".concat(e, "-").concat(r) } }, u = [O.b, O.d, O.c], N = 0, C = !1, m = {}, k = {}; function U(e, r) { if (!w.isStr(r)) return r && w.logWarn(P + "Ignoring param key: " + e + ", expects string-value, found " + D(r)), Y; switch (e) { case "pmzoneid": return r.split(",").slice(0, 50).map(function (e) { return e.trim() }).join(); case "kadfloor": case "lat": case "lon": return parseFloat(r) || Y; case "yob": return parseInt(r) || Y; default: return r } } function z(e) { var r; e.params.adUnit = "", e.params.adUnitIndex = "0", e.params.width = 0, e.params.height = 0, e.params.adSlot = (r = e.params.adSlot, w.isStr(r) ? r.replace(/^\s+/g, "").replace(/\s+$/g, "") : (r && w.logWarn(o + ": adSlot must be a string. Ignoring adSlot"), "")); var a = (t = e.params.adSlot).split(":"), t = a[0]; if (2 == a.length && (e.params.adUnitIndex = a[1]), a = t.split("@"), e.params.adUnit = a[0], 1 < a.length) { if (2 != (a = a[1].split("x")).length) return void w.logWarn(P + "AdSlot Error: adSlot not in required format"); e.params.width = parseInt(a[0], 10), e.params.height = parseInt(a[1], 10) } else if (e.hasOwnProperty("mediaTypes") && e.mediaTypes.hasOwnProperty(O.b) && e.mediaTypes.banner.hasOwnProperty("sizes")) { for (var i = 0, s = []; i < e.mediaTypes.banner.sizes.length; i++)2 === e.mediaTypes.banner.sizes[i].length && s.push(e.mediaTypes.banner.sizes[i]); e.mediaTypes.banner.sizes = s, 1 <= e.mediaTypes.banner.sizes.length && (e.params.width = e.mediaTypes.banner.sizes[0][0], e.params.height = e.mediaTypes.banner.sizes[0][1], e.mediaTypes.banner.sizes = e.mediaTypes.banner.sizes.splice(1, e.mediaTypes.banner.sizes.length - 1)) } } function K(e) { var r, a = w.mergeDeep(w.deepAccess(e.mediaTypes, "video"), e.params.video); if (a !== Y) { for (var t in r = {}, p) a.hasOwnProperty(t) && (r[t] = function (e, r, a) { var t, i = "Ignoring param key: " + e + ", expects " + a + ", found " + D(r); switch (a) { case d.BOOLEAN: t = w.isBoolean; break; case d.NUMBER: t = w.isNumber; break; case d.STRING: t = w.isStr; break; case d.ARRAY: t = w.isArray }return t(r) ? r : (w.logWarn(P + i), Y) }(t, a[t], p[t])); w.isArray(e.mediaTypes.video.playerSize[0]) ? (r.w = parseInt(e.mediaTypes.video.playerSize[0][0], 10), r.h = parseInt(e.mediaTypes.video.playerSize[0][1], 10)) : w.isNumber(e.mediaTypes.video.playerSize[0]) && (r.w = parseInt(e.mediaTypes.video.playerSize[0], 10), r.h = parseInt(e.mediaTypes.video.playerSize[1], 10)) } else r = Y, w.logWarn(P + "Error: Video config params missing for adunit: " + e.params.adUnit + " with mediaType set as video. Ignoring video impression in the adunit."); return r } function L(e) { var r, a, t, i, s, n, o, d, p, c, l, u, m = {}, g = {}, h = e.hasOwnProperty("sizes") ? e.sizes : [], b = "", f = [], m = { id: e.bidId, tagid: e.params.adUnit || void 0, bidfloor: U("kadfloor", e.params.kadfloor), secure: 1, ext: { pmZoneId: U("pmzoneid", e.params.pmzoneid) }, bidfloorcur: e.params.currency ? U("currency", e.params.currency) : R }; if (t = m, (i = e).params.deals && (w.isArray(i.params.deals) ? i.params.deals.forEach(function (e) { w.isStr(e) && 3 < e.length ? (t.pmp || (t.pmp = { private_auction: 0, deals: [] }), t.pmp.deals.push({ id: e })) : w.logWarn(P + "Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: " + e) }) : w.logWarn(P + "Error: bid.params.deals should be an array of strings.")), s = m, p = "", (n = e).params.dctr && (p = n.params.dctr, w.isStr(p) && 0 < p.length ? (d = p.split("|"), p = "", d.forEach(function (e) { p += 0 < e.length ? e.trim() + "|" : "" }), o = p.length, "|" === p.substring(o, o - 1) && (p = p.substring(0, o - 1)), s.ext.key_val = p.trim()) : w.logWarn(P + "Ignoring param : dctr with value : " + p + ", expects string-value, found empty or non-string value")), e.hasOwnProperty("mediaTypes")) for (b in e.mediaTypes) switch (b) { case O.b: (r = function (e) { var r, a = e.mediaTypes.banner.sizes, t = []; if (a !== Y && w.isArray(a)) { if (r = {}, e.params.width || e.params.height) r.w = e.params.width, r.h = e.params.height; else { if (0 === a.length) return r = Y, w.logWarn(P + "Error: mediaTypes.banner.size missing for adunit: " + e.params.adUnit + ". Ignoring the banner impression in the adunit."), r; r.w = parseInt(a[0][0], 10), r.h = parseInt(a[0][1], 10), a = a.splice(1, a.length - 1) } 0 < a.length && (t = [], a.forEach(function (e) { 1 < e.length && t.push({ w: e[0], h: e[1] }) }), 0 < t.length && (r.format = t)), r.pos = 0, r.topframe = w.inIframe() ? 0 : 1 } else w.logWarn(P + "Error: mediaTypes.banner.size missing for adunit: " + e.params.adUnit + ". Ignoring the banner impression in the adunit."), r = Y; return r }(e)) !== Y && (m.banner = r); break; case O.c: g.request = JSON.stringify(function (e) { var r, a, t, i = { assets: [] }; for (var s in e) { if (e.hasOwnProperty(s)) { var n = {}; if (!(i.assets && 0 < i.assets.length && i.assets.hasOwnProperty(s))) switch (s) { case E.TITLE.KEY: e[s].len || e[s].length ? n = { id: E.TITLE.ID, required: e[s].required ? 1 : 0, title: { len: e[s].len || e[s].length, ext: e[s].ext } } : w.logWarn(P + "Error: Title Length is required for native ad: " + JSON.stringify(e)); break; case E.IMAGE.KEY: e[s].sizes && 0 < e[s].sizes.length ? n = { id: E.IMAGE.ID, required: e[s].required ? 1 : 0, img: { type: v.IMAGE, w: e[s].w || e[s].width || (e[s].sizes ? e[s].sizes[0] : Y), h: e[s].h || e[s].height || (e[s].sizes ? e[s].sizes[1] : Y), wmin: e[s].wmin || e[s].minimumWidth || (e[s].minsizes ? e[s].minsizes[0] : Y), hmin: e[s].hmin || e[s].minimumHeight || (e[s].minsizes ? e[s].minsizes[1] : Y), mimes: e[s].mimes, ext: e[s].ext } } : w.logWarn(P + "Error: Image sizes is required for native ad: " + JSON.stringify(e)); break; case E.ICON.KEY: e[s].sizes && 0 < e[s].sizes.length ? n = { id: E.ICON.ID, required: e[s].required ? 1 : 0, img: { type: v.ICON, w: e[s].w || e[s].width || (e[s].sizes ? e[s].sizes[0] : Y), h: e[s].h || e[s].height || (e[s].sizes ? e[s].sizes[1] : Y) } } : w.logWarn(P + "Error: Icon sizes is required for native ad: " + JSON.stringify(e)); break; case E.VIDEO.KEY: n = { id: E.VIDEO.ID, required: e[s].required ? 1 : 0, video: { minduration: e[s].minduration, maxduration: e[s].maxduration, protocols: e[s].protocols, mimes: e[s].mimes, ext: e[s].ext } }; break; case E.EXT.KEY: n = { id: E.EXT.ID, required: e[s].required ? 1 : 0 }; break; case E.LOGO.KEY: n = { id: E.LOGO.ID, required: e[s].required ? 1 : 0, img: { type: v.LOGO, w: e[s].w || e[s].width || (e[s].sizes ? e[s].sizes[0] : Y), h: e[s].h || e[s].height || (e[s].sizes ? e[s].sizes[1] : Y) } }; break; case E.SPONSOREDBY.KEY: case E.BODY.KEY: case E.RATING.KEY: case E.LIKES.KEY: case E.DOWNLOADS.KEY: case E.PRICE.KEY: case E.SALEPRICE.KEY: case E.PHONE.KEY: case E.ADDRESS.KEY: case E.DESC2.KEY: case E.DISPLAYURL.KEY: case E.CTA.KEY: r = k[s], a = e, t = void 0, t = r.KEY, n = { id: r.ID, required: a[t].required ? 1 : 0, data: { type: r.TYPE, len: a[t].len, ext: a[t].ext } } } } n && n.id && (i.assets[i.assets.length] = n) } var o = I.length, d = 0; return I.forEach(function (e) { for (var r = i.assets.length, a = 0; a < r; a++)if (e.id == i.assets[a].id) { d++; break } }), C = o != d, i }(e.nativeParams)), C ? w.logWarn(P + "Error: Error in Native adunit " + e.params.adUnit + ". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details.") : m.native = g; break; case O.d: (a = K(e)) !== Y && (m.video = a) } else r = { pos: 0, w: e.params.width, h: e.params.height, topframe: w.inIframe() ? 0 : 1 }, w.isArray(h) && 1 < h.length && ((h = h.splice(1, h.length - 1)).forEach(function (e) { f.push({ w: e[0], h: e[1] }) }), r.format = f), m.banner = r; return c = m, l = e, u = y({}, w.deepAccess(l, "ortb2Imp.ext.data")), Object.keys(u).forEach(function (e) { "pbadslot" === e ? "string" == typeof u[e] && u[e] && w.deepSetValue(c, "ext.data.pbadslot", u[e]) : "adserver" === e ? ["name", "adslot"].forEach(function (e) { var r = w.deepAccess(u, "adserver.".concat(e)); "string" == typeof r && r && (w.deepSetValue(c, "ext.data.adserver.".concat(e.toLowerCase()), r), "adslot" === e && w.deepSetValue(c, "ext.dfp_ad_unit_code", r)) }) : w.deepSetValue(c, "ext.data.".concat(e), u[e]) }), function (t, i) { var s = -1; "function" != typeof i.getFloor || T.b.getConfig("pubmatic.disableFloors") || [O.b, O.d, O.c].forEach(function (e) { var r, a; t.hasOwnProperty(e) && ("object" !== D(r = i.getFloor({ currency: t.bidfloorcur, mediaType: e, size: "*" })) || r.currency !== t.bidfloorcur || isNaN(parseInt(r.floor)) || (a = parseFloat(r.floor), s = -1 == s ? a : Math.min(a, s))) }); t.bidfloor && (s = Math.max(s, t.bidfloor)); t.bidfloor = !isNaN(s) && 0 < s ? s : Y }(m, e), m.hasOwnProperty(O.b) || m.hasOwnProperty(O.c) || m.hasOwnProperty(O.d) ? m : Y } function q(e, r) { var a = null, t = w.deepAccess(e, "0.userId.flocId"); if (t && t.id) switch (r) { case A.SEGMENT: a = { id: "FLOC", name: "FLOC", ext: { ver: t.version }, segment: [{ id: t.id, name: "chrome.com", value: t.id.toString() }] }; break; case A.EID: default: a = { source: "chrome.com", uids: [{ atype: 1, id: t.id, ext: { ver: t.version } }] } }return a } function g(e) { return !0 === w.isArray(e) && 0 < e.length } w._each(E, function (e) { m[e.ID] = e.KEY }), w._each(E, function (e) { k[e.KEY] = e }); var h = { code: o, gvlid: 76, supportedMediaTypes: [O.b, O.d, O.c], isBidRequestValid: function (e) { if (e && e.params) { if (!w.isStr(e.params.publisherId)) return w.logWarn(P + "Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: " + JSON.stringify(e)), !1; if (e.hasOwnProperty("mediaTypes") && e.mediaTypes.hasOwnProperty(O.d)) { var r = w.deepAccess(e.mediaTypes, "video.mimes"), a = w.deepAccess(e, "params.video.mimes"); if (!1 === g(r) && !1 === g(a)) return w.logWarn(P + "Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:" + JSON.stringify(e)), !1; if (!e.mediaTypes[O.d].hasOwnProperty("context")) return w.logError("".concat(P, ": no context specified in bid. Rejecting bid: "), e), !1; if ("outstream" === e.mediaTypes[O.d].context && !w.isStr(e.params.outstreamAU) && !e.hasOwnProperty("renderer") && !e.mediaTypes[O.d].hasOwnProperty("renderer")) return w.logError("".concat(P, ': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '), e), !1 } return !0 } return !1 }, buildRequests: function (e, r) { var a; r && r.refererInfo && (a = r.refererInfo); var t, i, s, n, o, d, p, c, l, u, m, g, h, b = { pageURL: (t = a) && t.referer ? t.referer : window.location.href, refURL: window.document.referrer }, f = (i = b, { id: "" + (new Date).getTime(), at: 1, cur: [R], imp: [], site: { page: i.pageURL, ref: i.refURL, publisher: {} }, device: { ua: navigator.userAgent, js: 1, dnt: "yes" == navigator.doNotTrack || "1" == navigator.doNotTrack || "1" == navigator.msDoNotTrack ? 1 : 0, h: screen.height, w: screen.width, language: navigator.language }, user: {}, ext: {} }), y = "", E = [], v = []; if (e.forEach(function (e) { var r; (s = w.deepClone(e)).params.adSlot = s.params.adSlot || "", z(s), s.params.hasOwnProperty("video") || s.hasOwnProperty("mediaTypes") && s.mediaTypes.hasOwnProperty(O.c) || 0 !== s.params.width || 0 !== s.params.height ? (b.pubId = b.pubId || s.params.publisherId, (b = function (e, r) { var a, t, i; for (a in r.kadpageurl || (r.kadpageurl = r.pageURL), x) x.hasOwnProperty(a) && (t = e[a]) && ("object" === D(i = x[a]) && (t = i.f(t, r)), w.isStr(t) ? r[a] = t : w.logWarn(P + "Ignoring param : " + a + " with value : " + x[a] + ", expects string-value, found " + D(t))); return r }(s.params, b)).transactionId = s.transactionId, "" === y ? y = s.params.currency || Y : s.params.hasOwnProperty("currency") && y !== s.params.currency && w.logWarn(P + "Currency specifier ignored. Only one currency permitted."), s.params.currency = y, s.params.hasOwnProperty("dctr") && w.isStr(s.params.dctr) && E.push(s.params.dctr), s.params.hasOwnProperty("bcat") && w.isArray(s.params.bcat) && (v = v.concat(s.params.bcat)), (r = L(s)) && f.imp.push(r)) : w.logWarn(P + "Skipping the non-standard adslot: ", s.params.adSlot, JSON.stringify(s)) }), 0 != f.imp.length) { f.site.publisher.id = b.pubId.trim(), N = b.pubId.trim(), f.ext.wrapper = {}, f.ext.wrapper.profile = parseInt(b.profId) || Y, f.ext.wrapper.version = parseInt(b.verId) || Y, f.ext.wrapper.wiid = b.wiid || r.auctionId, f.ext.wrapper.wv = "prebid_prebid_4.42.1", f.ext.wrapper.transactionId = b.transactionId, f.ext.wrapper.wp = "pbjs", f.user.gender = b.gender ? b.gender.trim() : Y, f.user.geo = {}, f.user.geo.lat = U("lat", b.lat), f.user.geo.lon = U("lon", b.lon), f.user.yob = U("yob", b.yob), f.device.geo = f.user.geo, f.site.page = b.kadpageurl.trim() || f.site.page.trim(), f.site.domain = (n = f.site.page, (o = document.createElement("a")).href = n, o.hostname), "object" === D(T.b.getConfig("content")) && (f.site.content = T.b.getConfig("content")), "object" === D(T.b.getConfig("device")) && (f.device = S(f.device, T.b.getConfig("device"))), w.deepSetValue(f, "source.tid", b.transactionId), -1 !== window.location.href.indexOf("pubmaticTest=true") && (f.test = 1), e[0].schain && w.deepSetValue(f, "source.ext.schain", e[0].schain), r && r.gdprConsent && (w.deepSetValue(f, "user.ext.consent", r.gdprConsent.consentString), w.deepSetValue(f, "regs.ext.gdpr", r.gdprConsent.gdprApplies ? 1 : 0)), r && r.uspConsent && w.deepSetValue(f, "regs.ext.us_privacy", r.uspConsent), !0 === T.b.getConfig("coppa") && w.deepSetValue(f, "regs.coppa", 1), d = f, p = e, c = w.deepAccess(p, "0.userIdAsEids"), (l = q(p, A.EID)) && (c = c || []).push(l), w.isArray(c) && 0 < c.length && w.deepSetValue(d, "user.eids", c), u = f, 0 < (m = (m = v).filter(function (e) { return "string" == typeof e || (w.logWarn(P + "bcat: Each category should be a string, ignoring category: " + e), !1) }).map(function (e) { return e.trim() }).filter(function (e, r, a) { return 3 < e.length ? a.indexOf(e) === r : void w.logWarn(P + "bcat: Each category should have a value of a length of more than 3 characters, ignoring category: " + e) })).length && (w.logWarn(P + "bcat: Selected: ", m), u.bcat = m), g = f, (h = q(e, A.SEGMENT)) && (g.user || (g.user = {}), g.user.data || (g.user.data = []), g.user.data.push(h)); var I = T.b.getConfig("ortb2") || {}; return I.site && w.mergeDeep(f, { site: I.site }), I.user && w.mergeDeep(f, { user: I.user }), "object" === D(T.b.getConfig("app")) && (f.app = T.b.getConfig("app"), f.app.publisher = f.site.publisher, f.app.ext = f.site.ext || Y, "object" !== D(f.app.content) && (f.app.content = f.site.content || Y), delete f.site), { method: "POST", url: "https://hbopenbid.pubmatic.com/translator?source=prebid-client", data: JSON.stringify(f), bidderRequest: r } } }, interpretResponse: function (e, t) { var i = [], s = R, n = JSON.parse(t.data), o = n.site && n.site.ref ? n.site.ref : ""; try { e.body && e.body.seatbid && w.isArray(e.body.seatbid) && (s = e.body.cur || s, e.body.seatbid.forEach(function (e) { e.bid && w.isArray(e.bid) && e.bid.forEach(function (r) { var a = { requestId: r.impid, cpm: (parseFloat(r.price) || 0).toFixed(2), width: r.w, height: r.h, creativeId: r.crid || r.id, dealId: r.dealid, currency: s, netRevenue: !0, ttl: 300, referrer: o, ad: r.adm, pm_seat: e.seat || null, pm_dspid: r.ext && r.ext.dspid ? r.ext.dspid : null, partnerImpId: r.id || "" }; n.imp && 0 < n.imp.length && n.imp.forEach(function (e) { if (r.impid === e.id) switch (!function (e, r) { if (e.ext && null != e.ext.BidType) r.mediaType = u[e.ext.BidType]; else { w.logInfo(P + "bid.ext.BidType does not exist, checking alternatively for mediaType"); var a, t = e.adm, i = new RegExp(/VAST\s+version/); if (0 <= t.indexOf('span class="PubAPIAd"')) r.mediaType = O.b; else if (i.test(t)) r.mediaType = O.d; else try { (a = JSON.parse(t.replace(/\\/g, ""))) && a.native && (r.mediaType = O.c) } catch (e) { w.logWarn(P + "Error: Cannot parse native reponse for ad response: " + t) } } }(r, a), a.mediaType) { case O.b: break; case O.d: a.width = r.hasOwnProperty("w") ? r.w : e.video.w, a.height = r.hasOwnProperty("h") ? r.h : e.video.h, a.vastXml = r.adm, function (e, r) { var a, t, i; if (r.bidderRequest && r.bidderRequest.bids) { for (var s = 0; s < r.bidderRequest.bids.length; s++)r.bidderRequest.bids[s].bidId === e.requestId && (a = r.bidderRequest.bids[s].params, t = r.bidderRequest.bids[s].mediaTypes[O.d].context, i = r.bidderRequest.bids[s].adUnitCode); t && "outstream" === t && a && a.outstreamAU && i && (e.rendererCode = a.outstreamAU, e.renderer = l.newRenderer(e.rendererCode, i)) } }(a, t); break; case O.c: !function (e, r) { if (r.native = {}, e.hasOwnProperty("adm")) { var a = ""; try { a = JSON.parse(e.adm.replace(/\\/g, "")) } catch (e) { return w.logWarn(P + "Error: Cannot parse native reponse for ad response: " + r.adm) } if (a && a.native && a.native.assets && 0 < a.native.assets.length) { r.mediaType = O.c; for (var t = 0, i = a.native.assets.length; t < i; t++)switch (a.native.assets[t].id) { case E.TITLE.ID: r.native.title = a.native.assets[t].title && a.native.assets[t].title.text; break; case E.IMAGE.ID: r.native.image = { url: a.native.assets[t].img && a.native.assets[t].img.url, height: a.native.assets[t].img && a.native.assets[t].img.h, width: a.native.assets[t].img && a.native.assets[t].img.w }; break; case E.ICON.ID: r.native.icon = { url: a.native.assets[t].img && a.native.assets[t].img.url, height: a.native.assets[t].img && a.native.assets[t].img.h, width: a.native.assets[t].img && a.native.assets[t].img.w }; break; case E.SPONSOREDBY.ID: case E.BODY.ID: case E.LIKES.ID: case E.DOWNLOADS.ID: case E.PRICE: case E.SALEPRICE.ID: case E.PHONE.ID: case E.ADDRESS.ID: case E.DESC2.ID: case E.CTA.ID: case E.RATING.ID: case E.DISPLAYURL.ID: r.native[m[a.native.assets[t].id]] = a.native.assets[t].data && a.native.assets[t].data.value }r.native.clickUrl = a.native.link && a.native.link.url, r.native.clickTrackers = a.native.link && a.native.link.clicktrackers || [], r.native.impressionTrackers = a.native.imptrackers || [], r.native.jstracker = a.native.jstracker || [], r.width || (r.width = 0), r.height || (r.height = 0) } } }(r, a) } }), r.ext && r.ext.deal_channel && (a.dealChannel = c[r.ext.deal_channel] || null), a.meta = {}, r.ext && r.ext.dspid && (a.meta.networkId = r.ext.dspid), r.ext && r.ext.advid && (a.meta.buyerId = r.ext.advid), r.adomain && 0 < r.adomain.length && (a.meta.advertiserDomains = r.adomain, a.meta.clickUrl = r.adomain[0]), e.ext && e.ext.buyid && (a.adserverTargeting = { hb_buyid_pubmatic: e.ext.buyid }), i.push(a) }) })) } catch (e) { w.logError(e) } return i }, getUserSyncs: function (e, r, a, t) { var i = "" + N; return a && (i += "&gdpr=" + (a.gdprApplies ? 1 : 0), i += "&gdpr_consent=" + encodeURIComponent(a.consentString || "")), t && (i += "&us_privacy=" + encodeURIComponent(t)), !0 === T.b.getConfig("coppa") && (i += "&coppa=1"), e.iframeEnabled ? [{ type: "iframe", url: "https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p=" + i }] : [{ type: "image", url: "https://image8.pubmatic.com/AdServer/ImgSync?p=" + i }] }, transformBidParams: function (e) { return w.convertTypes({ publisherId: "string", adSlot: "string" }, e) } }; Object(t.registerBidder)(h) } }, [786]);
pbjsChunk([152], { 838: function (e, r, n) { e.exports = n(839) }, 839: function (e, r, n) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), n.d(r, "spec", function () { return s }); var i = n(1), o = n(3), a = n(2), d = n(0), t = n(13), c = "", s = { code: "richaudience", gvlid: 108, aliases: ["ra"], supportedMediaTypes: [a.b, a.d], isBidRequestValid: function (e) { return !!(e.params && e.params.pid && e.params.supplyType) }, buildRequests: function (e, n) { return e.map(function (e) { var r = { bidfloor: function (e, r) { try { var n, i; return null != e.params.bidfloor ? n = e.params.bidfloor : "function" == typeof e.getFloor && (i = e.getFloor({ currency: r.getConfig("currency.adServerCurrency"), mediaType: e.mediaType.banner ? "banner" : "video", size: "*" }), n = i.floor), n } catch (e) { return 0 } }(e, o.b), ifa: e.params.ifa, pid: e.params.pid, supplyType: e.params.supplyType, currencyCode: o.b.getConfig("currency.adServerCurrency"), auctionId: e.auctionId, bidId: e.bidId, BidRequestsCount: e.bidRequestsCount, bidder: e.bidder, bidderRequestId: e.bidderRequestId, tagId: e.adUnitCode, sizes: function (e) { var r; e.mediaTypes && e.mediaTypes.banner && e.mediaTypes.banner.sizes && (r = e.mediaTypes.banner.sizes); if (null != r) return r.map(function (e) { return { w: e[0], h: e[1] } }) }(e), referer: void 0 !== n.refererInfo.referer ? encodeURIComponent(n.refererInfo.referer) : null, numIframes: void 0 !== n.refererInfo.numIframes ? n.refererInfo.numIframes : null, transactionId: e.transactionId, timeout: o.b.getConfig("bidderTimeout"), user: function (e) { var r = []; e && e.userId && (p(0, r, "id5-sync.com", d.deepAccess(e, "userId.id5id.uid")), p(0, r, "pubcommon", d.deepAccess(e, "userId.pubcid")), p(0, r, "criteo.com", d.deepAccess(e, "userId.criteoId")), p(0, r, "liveramp.com", d.deepAccess(e, "userId.idl_env")), p(0, r, "liveintent.com", d.deepAccess(e, "userId.lipb.lipbid")), p(0, r, "adserver.org", d.deepAccess(e, "userId.tdid"))); return r }(e), demand: u(e), videoData: function (e) { var r; r = "video" == u(e) ? { format: e.mediaTypes.video.context, playerSize: e.mediaTypes.video.playerSize, mimes: e.mediaTypes.video.mimes } : { format: "banner" }; return r }(e), scr_rsl: function () { var e = ""; void 0 !== window.screen && (e = window.screen.width + "x" + window.screen.height); return e }(), cpuc: void 0 !== window.navigator ? window.navigator.hardwareConcurrency : null, kws: d.isEmpty(e.params.keywords) ? null : e.params.keywords }; c = void 0 !== n.refererInfo.referer ? encodeURIComponent(n.refererInfo.referer) : null, r.gdpr_consent = "", r.gdpr = null, n && n.gdprConsent && (r.gdpr_consent = n.gdprConsent.consentString, r.gdpr = n.gdprConsent.gdprApplies); return { method: "POST", url: "https://shb.richaudience.com/hb/", data: JSON.stringify(r) } }) }, interpretResponse: function (e, r) { var n = [], i = e.body; if (i) { var a = { requestId: JSON.parse(r.data).bidId, cpm: i.cpm, width: i.width, height: i.height, creativeId: i.creative_id, mediaType: i.media_type, netRevenue: i.netRevenue, currency: i.currency, ttl: i.ttl, meta: i.adomain, dealId: i.dealId }; if ("video" === i.media_type) { a.vastXml = i.vastXML; try { null != a.vastXml && ("outstream" != JSON.parse(r.data).videoData.format && "banner" != JSON.parse(r.data).videoData.format || (a.renderer = t.a.install({ id: r.bidId, adunitcode: r.tagId, loaded: !1, config: i.media_type, url: "https://cdn3.richaudience.com/prebidVideo/player.js" })), a.renderer.setRender(l)) } catch (e) { a.ad = i.adm } } else a.ad = i.adm; n.push(a) } return n }, getUserSyncs: function (e, r, n) { var i = [], a = Math.floor(9999999999 * Math.random()), d = "", t = "", s = function (e) { try { var r = null, n = {}; return null != e.getConfig("userSync").filterSettings && void 0 !== e.getConfig("userSync").filterSettings && (null != (r = e.getConfig("userSync").filterSettings).iframe && void 0 !== r.iframe && (n.raiIframe = "richaudience" == r.iframe.bidders || "*" == r.iframe.bidders ? r.iframe.filter : "exclude"), null != r.image && void 0 !== r.image && (n.raiImage = "richaudience" == r.image.bidders || "*" == r.image.bidders ? r.image.filter : "exclude")), n } catch (e) { return null } }(o.b); return n && "string" == typeof n.consentString && void 0 !== n.consentString && (t = "consentString=".concat(n.consentString)), e.iframeEnabled && "exclude" != s.raiIframe && (d = "https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord=" + a, "" != t && (d += "&".concat(t)), i.push({ type: "iframe", url: d })), e.pixelEnabled && null != c && 0 == i.length && "exclude" != s.raiImage && (d = "https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=".concat(c), "" != t && (d += "&".concat(t)), i.push({ type: "image", url: d })), i } }; function u(e) { var r = "display"; return null != e.mediaTypes && null != e.mediaTypes.video && (r = "video"), r } function p(e, r, n, i) { d.isStr(i) && r.push({ userId: i, source: n }) } function l(i) { i.renderer.push(function () { var e, r, n; r = "".concat((e = i).vastXml), n = { config: null != e.params[0].player ? { end: null != e.params[0].player.end ? e.params[0].player.end : "close", init: null != e.params[0].player.init ? e.params[0].player.init : "close", skin: null != e.params[0].player.skin ? e.params[0].player.skin : "light" } : { end: "close", init: "close", skin: "light" }, pid: e.params[0].pid, adUnit: e.adUnitCode }, window.raParams(n, r, !0) }) } Object(i.registerBidder)(s) } }, [838]);
pbjsChunk([145], { 858: function (e, r, t) { e.exports = t(859) }, 859: function (e, r, t) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), t.d(r, "spec", function () { return A }), r.hasVideoMediaType = d, t.d(r, "resetRubiConf", function () { return w }), r.masSizeOrdering = k, r.determineRubiconVideoSizeId = R, r.getPriceGranularity = z, r.hasValidVideoParams = E, r.hasValidSupplyChainParams = T, r.encodeParam = U, r.resetUserSync = function () { P = !1 }; var l = t(0), n = t(1), u = t(3), m = t(2), i = t(10), p = t.n(i), a = t(13), f = t(17); function o(r, e) { var t, n = Object.keys(r); return Object.getOwnPropertySymbols && (t = Object.getOwnPropertySymbols(r), e && (t = t.filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })), n.push.apply(n, t)), n } function g(r) { for (var e = 1; e < arguments.length; e++) { var t = null != arguments[e] ? arguments[e] : {}; e % 2 ? o(Object(t), !0).forEach(function (e) { y(r, e, t[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(t)) : o(Object(t)).forEach(function (e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(t, e)) }) } return r } function b() { return (b = Object.assign || function (e) { for (var r = 1; r < arguments.length; r++) { var t = arguments[r]; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]) } return e }).apply(this, arguments) } function v(e, r) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, r) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var t = [], n = !0, i = !1, o = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (t.push(a.value), !r || t.length !== r); n = !0); } catch (e) { i = !0, o = e } finally { try { n || null == s.return || s.return() } finally { if (i) throw o } } return t }(e, r) || function (e, r) { if (!e) return; if ("string" == typeof e) return s(e, r); var t = Object.prototype.toString.call(e).slice(8, -1); "Object" === t && e.constructor && (t = e.constructor.name); if ("Map" === t || "Set" === t) return Array.from(e); if ("Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)) return s(e, r) }(e, r) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function s(e, r) { (null == r || r > e.length) && (r = e.length); for (var t = 0, n = new Array(r); t < r; t++)n[t] = e[t]; return n } function y(e, r, t) { return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e } function x(e) { return (x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var h = {}; u.b.getConfig("rubicon", function (e) { l.mergeDeep(h, e.rubicon) }); var _ = { 1: "468x60", 2: "728x90", 5: "120x90", 7: "125x125", 8: "120x600", 9: "160x600", 10: "300x600", 13: "200x200", 14: "250x250", 15: "300x250", 16: "336x280", 17: "240x400", 19: "300x100", 31: "980x120", 32: "250x360", 33: "180x500", 35: "980x150", 37: "468x400", 38: "930x180", 39: "750x100", 40: "750x200", 41: "750x300", 42: "2x4", 43: "320x50", 44: "300x50", 48: "300x300", 53: "1024x768", 54: "300x1050", 55: "970x90", 57: "970x250", 58: "1000x90", 59: "320x80", 60: "320x150", 61: "1000x1000", 64: "580x500", 65: "640x480", 66: "930x600", 67: "320x480", 68: "1800x1000", 72: "320x320", 73: "320x160", 78: "980x240", 79: "980x300", 80: "980x400", 83: "480x300", 85: "300x120", 90: "548x150", 94: "970x310", 95: "970x100", 96: "970x210", 101: "480x320", 102: "768x1024", 103: "480x280", 105: "250x800", 108: "320x240", 113: "1000x300", 117: "320x100", 125: "800x250", 126: "200x600", 144: "980x600", 145: "980x150", 152: "1000x250", 156: "640x320", 159: "320x250", 179: "250x600", 195: "600x300", 198: "640x360", 199: "640x200", 213: "1030x590", 214: "980x360", 221: "1x1", 229: "320x180", 230: "2000x1400", 232: "580x400", 234: "6x6", 251: "2x2", 256: "480x820", 257: "400x600", 258: "500x200", 259: "998x200", 264: "970x1000", 265: "1920x1080", 274: "1800x200", 278: "320x500", 282: "320x400", 288: "640x380", 548: "500x1000", 550: "980x480", 552: "300x200", 558: "640x640" }; l._each(_, function (e, r) { return _[e] = r }); var A = { code: "rubicon", gvlid: 52, supportedMediaTypes: [m.b, m.d], isBidRequestValid: function (e) { if ("object" !== x(e.params)) return !1; for (var r = 0, t = ["accountId", "siteId", "zoneId"]; r < t.length; r++)if (e.params[t[r]] = parseInt(e.params[t[r]]), isNaN(e.params[t[r]])) return l.logError("Rubicon: wrong format of accountId or siteId or zoneId."), !1; var n = O(e, !0); return !!n && ("video" !== n || E(e)) }, buildRequests: function (e, d) { var i, r = e.filter(function (e) { return "video" === O(e) }).map(function (e) { e.startTime = (new Date).getTime(); var r = { id: e.transactionId, test: u.b.getConfig("debug") ? 1 : 0, cur: ["USD"], source: { tid: e.transactionId }, tmax: d.timeout, imp: [{ exp: u.b.getConfig("s2sConfig.defaultTtl"), id: e.adUnitCode, secure: 1, ext: y({}, e.bidder, e.params), video: l.deepAccess(e, "mediaTypes.video") || {} }], ext: { prebid: { channel: { name: "pbjs", version: pbjs.version }, cache: { vastxml: { returnCreative: !0 === h.returnVast } }, targeting: { includewinners: !0, includebidderkeys: !1, pricegranularity: z(u.b) }, bidders: { rubicon: { integration: h.int_type || "pbjs" } } } } }; "rubicon" !== e.bidder && (r.ext.prebid.aliases = y({}, e.bidder, "rubicon")); var t, n, i, o = Object(f.a)().installedModules; if (!o || o.length && -1 === o.indexOf("rubiconAnalyticsAdapter") || l.deepSetValue(r, "ext.prebid.analytics", { rubicon: { "client-analytics": !0 } }), "function" != typeof e.getFloor || h.disableFloors) t = parseFloat(l.deepAccess(e, "params.floor")); else { try { n = e.getFloor({ currency: "USD", mediaType: "video", size: C(e, "video") }) } catch (e) { l.logError("Rubicon: getFloor threw an error: ", e) } t = "object" !== x(n) || "USD" !== n.currency || isNaN(parseInt(n.floor)) ? void 0 : parseFloat(n.floor) } isNaN(t) || (r.imp[0].bidfloor = t), r.imp[0].ext[e.bidder].video.size_id = R(e), function (r, t, e) { if (!r) return; "object" === x(u.b.getConfig("app")) ? r.app = u.b.getConfig("app") : r.site = { page: j(t, e) }; "object" === x(u.b.getConfig("device")) && (r.device = u.b.getConfig("device")); t.params.video.language && ["site", "device"].forEach(function (e) { r[e] && (r[e].content = b({ language: t.params.video.language }, r[e].content)) }) }(r, e, d), function (e, r) { "object" === x(e.imp[0].video) && void 0 === e.imp[0].video.skip && (e.imp[0].video.skip = r.params.video.skip); "object" === x(e.imp[0].video) && void 0 === e.imp[0].video.skipafter && (e.imp[0].video.skipafter = r.params.video.skipdelay); "object" === x(e.imp[0].video) && void 0 === e.imp[0].video.pos && ("atf" === r.params.position ? e.imp[0].video.pos = 1 : "btf" === r.params.position && (e.imp[0].video.pos = 3)); var t = C(r, "video"); e.imp[0].video.w = t[0], e.imp[0].video.h = t[1] }(r, e), d.gdprConsent && ("boolean" == typeof d.gdprConsent.gdprApplies && (i = d.gdprConsent.gdprApplies ? 1 : 0), l.deepSetValue(r, "regs.ext.gdpr", i), l.deepSetValue(r, "user.ext.consent", d.gdprConsent.consentString)), d.uspConsent && l.deepSetValue(r, "regs.ext.us_privacy", d.uspConsent); var a = l.deepAccess(d, "bids.0.userIdAsEids"); a && a.length && l.deepSetValue(r, "user.ext.eids", a); var s = u.b.getConfig("user.id"); s && l.deepSetValue(r, "user.id", s), !0 === u.b.getConfig("coppa") && l.deepSetValue(r, "regs.coppa", 1), e.schain && T(e.schain) && l.deepSetValue(r, "source.ext.schain", e.schain); var c = u.b.getConfig("multibid"); return c && l.deepSetValue(r, "ext.prebid.multibid", c.reduce(function (e, r) { var t = {}; return Object.keys(r).forEach(function (e) { t[e.toLowerCase()] = r[e] }), e.push(t), e }, [])), I(e, m.d, r), e.storedAuctionResponse && l.deepSetValue(r.imp[0], "ext.prebid.storedauctionresponse.id", e.storedAuctionResponse.toString()), l.deepSetValue(r.imp[0], "ext.prebid.auctiontimestamp", d.auctionStart), { method: "POST", url: "https://".concat(h.videoHost || "prebid-server", ".rubiconproject.com/openrtb2/auction"), data: r, bidRequest: e } }); return !0 !== h.singleRequest ? r.concat(e.filter(function (e) { return "banner" === O(e) }).map(function (e) { var n = A.createSlotParams(e, d); return { method: "GET", url: "https://".concat(h.bannerHost || "fastlane", ".rubiconproject.com/a/api/fastlane.json"), data: A.getOrderedParams(n).reduce(function (e, r) { var t = n[r]; return l.isStr(t) && "" !== t || l.isNumber(t) ? "".concat(e).concat(U(r, t), "&") : e }, "") + "slots=1&rand=".concat(Math.random()), bidRequest: e } })) : (i = e.filter(function (e) { return "banner" === O(e) }).reduce(function (e, r) { return (e[r.params.siteId] = e[r.params.siteId] || []).push(r), e }, {}), r.concat(Object.keys(i).reduce(function (r, e) { var t, n; return t = i[e], n = 10, t.map(function (e, r) { return r % n == 0 ? t.slice(r, r + n) : null }).filter(function (e) { return e }).forEach(function (e) { var n = A.combineSlotUrlParams(e.map(function (e) { return A.createSlotParams(e, d) })); r.push({ method: "GET", url: "https://".concat(h.bannerHost || "fastlane", ".rubiconproject.com/a/api/fastlane.json"), data: A.getOrderedParams(n).reduce(function (e, r) { var t = n[r]; return l.isStr(t) && "" !== t || l.isNumber(t) ? "".concat(e).concat(U(r, t), "&") : e }, "") + "slots=".concat(e.length, "&rand=").concat(Math.random()), bidRequest: e }) }), r }, []))) }, getOrderedParams: function (e) { var r = /^tg_v/, t = /^tg_i/, n = /^eid_|^tpid_/, i = ["account_id", "site_id", "zone_id", "size_id", "alt_size_ids", "p_pos", "gdpr", "gdpr_consent", "us_privacy", "rp_schain"].concat(Object.keys(e).filter(function (e) { return n.test(e) })).concat(["x_liverampidl", "ppuid", "rf", "p_geo.latitude", "p_geo.longitude", "kw"]).concat(Object.keys(e).filter(function (e) { return r.test(e) })).concat(Object.keys(e).filter(function (e) { return t.test(e) })).concat(["tk_flint", "x_source.tid", "x_source.pchain", "p_screen_res", "rp_floor", "rp_secure", "tk_user_key"]); return i.concat(Object.keys(e).filter(function (e) { return -1 === i.indexOf(e) })) }, combineSlotUrlParams: function (i) { if (1 === i.length) return i[0]; var n = i.reduce(function (r, t, n) { return Object.keys(t).forEach(function (e) { r.hasOwnProperty(e) || (r[e] = new Array(i.length)), r[e].splice(n, 1, t[e]) }), r }, {}), o = new RegExp("^([^;]*)(;\\1)+$"); return Object.keys(n).forEach(function (e) { var r = n[e].join(";"), t = r.match(o); n[e] = t ? t[1] : r }), n }, createSlotParams: function (e, r) { e.startTime = (new Date).getTime(); var t, n = e.params, i = C(e, "banner"), o = v(n.latLong || [], 2), a = o[0], s = o[1], c = { account_id: n.accountId, site_id: n.siteId, zone_id: n.zoneId, size_id: i[0], alt_size_ids: i.slice(1).join(",") || void 0, rp_floor: .01 <= (n.floor = parseFloat(n.floor)) ? n.floor : void 0, rp_secure: "1", tk_flint: "".concat(h.int_type || "pbjs_lite", "_v4.42.1"), "x_source.tid": e.transactionId, "x_source.pchain": n.pchain, p_screen_res: [window.screen.width, window.screen.height].join("x"), tk_user_key: n.userId, "p_geo.latitude": isNaN(parseFloat(a)) ? void 0 : parseFloat(a).toFixed(4), "p_geo.longitude": isNaN(parseFloat(s)) ? void 0 : parseFloat(s).toFixed(4), "tg_fl.eid": e.code, rf: j(e, r) }; if ("function" == typeof e.getFloor && !h.disableFloors) { try { t = e.getFloor({ currency: "USD", mediaType: "banner", size: "*" }) } catch (e) { l.logError("Rubicon: getFloor threw an error: ", e) } c.rp_hard_floor = "object" !== x(t) || "USD" !== t.currency || isNaN(parseInt(t.floor)) ? void 0 : t.floor } c.p_pos = "atf" === n.position || "btf" === n.position ? n.position : ""; var d = u.b.getConfig("user.id"); return d && (c.ppuid = d), e.userIdAsEids && e.userIdAsEids.forEach(function (r) { try { var e; "adserver.org" === r.source ? (c.tpid_tdid = r.uids[0].id, c["eid_adserver.org"] = r.uids[0].id) : "liveintent.com" === r.source ? (c["tpid_liveintent.com"] = r.uids[0].id, c["eid_liveintent.com"] = r.uids[0].id, r.ext && Array.isArray(r.ext.segments) && r.ext.segments.length && (c["tg_v.LIseg"] = r.ext.segments.join(","))) : "liveramp.com" === r.source ? c.x_liverampidl = r.uids[0].id : "sharedid.org" === r.source ? c["eid_sharedid.org"] = "".concat(r.uids[0].id, "^").concat(r.uids[0].atype, "^").concat(r.uids[0].ext && r.uids[0].ext.third || "") : "id5-sync.com" === r.source ? c["eid_id5-sync.com"] = "".concat(r.uids[0].id, "^").concat(r.uids[0].atype, "^").concat(r.uids[0].ext && r.uids[0].ext.linkType || "") : c["eid_".concat(r.source)] = "".concat(r.uids[0].id, "^").concat(r.uids[0].atype || ""), c.ppuid || (e = p()(r.uids, function (e) { return e.ext && "ppuid" === e.ext.stype })) && e.id && (c.ppuid = e.id) } catch (e) { l.logWarn("Rubicon: error reading eid:", r, e) } }), r.gdprConsent && ("boolean" == typeof r.gdprConsent.gdprApplies && (c.gdpr = Number(r.gdprConsent.gdprApplies)), c.gdpr_consent = r.gdprConsent.consentString), r.uspConsent && (c.us_privacy = encodeURIComponent(r.uspConsent)), c.rp_maxbids = r.bidLimit || 1, I(e, m.b, c), !0 === u.b.getConfig("coppa") && (c.coppa = 1), e.schain && T(e.schain) && (c.rp_schain = A.serializeSupplyChain(e.schain)), c }, serializeSupplyChain: function (e) { if (!T(e)) return ""; var r = e.ver, t = e.complete, n = e.nodes; return "".concat(r, ",").concat(t, "!").concat(A.serializeSupplyChainNodes(n)) }, serializeSupplyChainNodes: function (e) { var t = ["asi", "sid", "hp", "rid", "name", "domain"]; return e.map(function (r) { return t.map(function (e) { return encodeURIComponent(r[e] || "") }).join(",") }).join("!") }, interpretResponse: function (c, e) { var d = e.bidRequest; if (!(c = c.body) || "object" !== x(c)) return []; if (c.seatbid) { var r = l.deepAccess(c, "ext.errors.rubicon"); Array.isArray(r) && 0 < r.length && l.logWarn("Rubicon: Error in video response"); var o = []; return c.seatbid.forEach(function (i) { (i.bid || []).forEach(function (e) { var r = { requestId: d.bidId, currency: c.cur || "USD", creativeId: e.crid, cpm: e.price || 0, bidderCode: i.seat, ttl: 300, netRevenue: !1 !== h.netRevenue, width: e.w || l.deepAccess(d, "mediaTypes.video.w") || l.deepAccess(d, "params.video.playerWidth"), height: e.h || l.deepAccess(d, "mediaTypes.video.h") || l.deepAccess(d, "params.video.playerHeight") }; e.id && (r.seatBidId = e.id), e.dealid && (r.dealId = e.dealid), e.adomain && l.deepSetValue(r, "meta.advertiserDomains", Array.isArray(e.adomain) ? e.adomain : [e.adomain]), l.deepAccess(e, "ext.bidder.rp.advid") && l.deepSetValue(r, "meta.advertiserId", e.ext.bidder.rp.advid); var t, n = l.deepAccess(c, "ext.responsetimemillis.rubicon"); d && n && (d.serverResponseTimeMs = n), l.deepAccess(e, "ext.prebid.type") === m.d ? (r.mediaType = m.d, l.deepSetValue(r, "meta.mediaType", m.d), (t = l.deepAccess(e, "ext.prebid.targeting")) && "object" === x(t) && (r.adserverTargeting = t), e.ext.prebid.cache && "object" === x(e.ext.prebid.cache.vastXml) && e.ext.prebid.cache.vastXml.cacheId && e.ext.prebid.cache.vastXml.url ? (r.videoCacheKey = e.ext.prebid.cache.vastXml.cacheId, r.vastUrl = e.ext.prebid.cache.vastXml.url) : t && t.hb_uuid && t.hb_cache_host && t.hb_cache_path && (r.videoCacheKey = t.hb_uuid, r.vastUrl = "https://".concat(t.hb_cache_host).concat(t.hb_cache_path, "?uuid=").concat(t.hb_uuid)), e.adm && (r.vastXml = e.adm), e.nurl && (r.vastUrl = e.nurl), !r.vastUrl && e.nurl && (r.vastUrl = e.nurl), "outstream" === l.deepAccess(d, "mediaTypes.video.context").toLowerCase() && (r.renderer = function (e) { var r = a.a.install({ id: e.adId, url: h.rendererUrl || "https://video-outstream.rubiconproject.com/apex-2.0.0.js", config: h.rendererConfig || {}, loaded: !1, adUnitCode: e.adUnitCode }); try { r.setRender(S) } catch (e) { l.logWarn("Prebid Error calling setRender on renderer", e) } return r }(r))) : l.logWarn("Rubicon: video response received non-video media type"), o.push(r) }) }), o } var u, t = c.ads, p = 0; return "object" !== x(d) || Array.isArray(d) || "video" !== O(d) || "object" !== x(t) || (t = t[d.adUnitCode]), !Array.isArray(t) || t.length < 1 ? [] : t.reduce(function (e, r, t) { if (r.impression_id && u === r.impression_id ? p++ : u = r.impression_id, "ok" !== r.status) return e; var n, i, o, a, s = Array.isArray(d) ? d[t - p] : d; return s && "object" === x(s) ? (n = { requestId: s.bidId, currency: "USD", creativeId: r.creative_id || "".concat(r.network || "", "-").concat(r.advertiser || ""), cpm: r.cpm || 0, dealId: r.deal, ttl: 300, netRevenue: !1 !== h.netRevenue, rubicon: { advertiserId: r.advertiser, networkId: r.network }, meta: { advertiserId: r.advertiser, networkId: r.network, mediaType: m.b } }, r.creative_type && (n.mediaType = r.creative_type), r.adomain && (n.meta.advertiserDomains = Array.isArray(r.adomain) ? r.adomain : [r.adomain]), r.creative_type === m.d ? (n.width = s.params.video.playerWidth, n.height = s.params.video.playerHeight, n.vastUrl = r.creative_depot_url, n.impression_id = r.impression_id, n.videoCacheKey = r.impression_id) : (n.ad = (o = r.script, a = r.impression_id, "<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(a, "'>\n<script type='text/javascript'>").concat(o, "<\/script>\n</div>\n</body>\n</html>")), i = v(_[r.size_id].split("x").map(function (e) { return Number(e) }), 2), n.width = i[0], n.height = i[1]), n.rubiconTargeting = (Array.isArray(r.targeting) ? r.targeting : []).reduce(function (e, r) { return e[r.key] = r.values[0], e }, { rpfl_elemid: s.adUnitCode }), e.push(n)) : l.logError("Rubicon: bidRequest undefined at index position:".concat(t), d, c), e }, []).sort(function (e, r) { return (r.cpm || 0) - (e.cpm || 0) }) }, getUserSyncs: function (e, r, t, n) { if (!P && e.iframeEnabled) { var i = ""; return t && "string" == typeof t.consentString && ("boolean" == typeof t.gdprApplies ? i += "?gdpr=".concat(Number(t.gdprApplies), "&gdpr_consent=").concat(t.consentString) : i += "?gdpr_consent=".concat(t.consentString)), n && (i += "".concat(i ? "&" : "?", "us_privacy=").concat(encodeURIComponent(n))), P = !0, { type: "iframe", url: "https://".concat(h.syncHost || "eus", ".rubiconproject.com/usync.html") + i } } }, transformBidParams: function (e) { return l.convertTypes({ accountId: "number", siteId: "number", zoneId: "number" }, e) } }; function j(e, r) { var t = u.b.getConfig("pageUrl"), t = e.params.referrer ? e.params.referrer : t || r.refererInfo.referer; return e.params.secure ? t.replace(/^http:/i, "https:") : t } function S(e) { var r, t, n, i = document.getElementById(e.adUnitCode); (r = i.querySelector("div[id^='google_ads']")) && r.style.setProperty("display", "none"), t = i.querySelector("script[id^='sas_script']"), (n = t && t.nextSibling) && "iframe" === n.localName && n.style.setProperty("display", "none"); var o = e.renderer.getConfig(); e.renderer.push(function () { window.MagniteApex.renderAd({ width: e.width, height: e.height, vastUrl: e.vastUrl, placement: { attachTo: "#".concat(e.adUnitCode), align: o.align || "center", position: o.position || "append" }, closeButton: o.closeButton || !1, label: o.label || void 0, collapse: o.collapse || !0 }) }) } function C(e, r) { var t = e.params; if ("video" === r) { var n = []; return t.video && t.video.playerWidth && t.video.playerHeight ? n = [t.video.playerWidth, t.video.playerHeight] : Array.isArray(l.deepAccess(e, "mediaTypes.video.playerSize")) && 1 === e.mediaTypes.video.playerSize.length ? n = e.mediaTypes.video.playerSize[0] : Array.isArray(e.sizes) && 0 < e.sizes.length && Array.isArray(e.sizes[0]) && 1 < e.sizes[0].length && (n = e.sizes[0]), n } var i = []; return Array.isArray(t.sizes) ? i = t.sizes : void 0 !== l.deepAccess(e, "mediaTypes.banner.sizes") ? i = c(e.mediaTypes.banner.sizes) : Array.isArray(e.sizes) && 0 < e.sizes.length ? i = c(e.sizes) : l.logWarn("Rubicon: no sizes are setup or found"), k(i) } function I(e, r, s) { var t = { user: { ext: { data: g({}, e.params.visitor) } }, site: { ext: { data: g({}, e.params.inventory) } } }; e.params.keywords && (t.site.keywords = l.isArray(e.params.keywords) ? e.params.keywords.join(",") : e.params.keywords); function n(e, r, t, n) { var i = !(3 < arguments.length && void 0 !== n) || n, o = function (e, r, t) { if ("data" === r && Array.isArray(e)) return e.filter(function (e) { return e.segment && l.deepAccess(e, "ext.segtax") && c[t] && -1 !== c[t].indexOf(l.deepAccess(e, "ext.segtax")) }).map(function (e) { var r = e.segment.filter(function (e) { return e.id }).reduce(function (e, r) { return e.push(r.id), e }, []); if (0 < r.length) return r.toString() }).toString(); if ("object" !== x(e) || Array.isArray(e)) { if (void 0 !== e) return Array.isArray(e) ? e.filter(function (e) { return "object" !== x(e) && void 0 !== e ? e.toString() : void l.logWarn("Rubicon: Filtered value: ", e, "for key", r, ": Expected value to be string, integer, or an array of strings/ints") }).toString() : e.toString() } else l.logWarn("Rubicon: Filtered FPD key: ", r, ": Expected value to be string, integer, or an array of strings/ints") }(e, t, r), a = d[t] && i ? "".concat(d[t]) : "data" === t ? "".concat(d[r], "iab") : "".concat(d[r]).concat(t); s[a] = s[a] ? s[a].concat(",", o) : o } var i = l.mergeDeep({}, u.b.getConfig("ortb2") || {}, t), o = l.deepAccess(e.ortb2Imp, "ext.data") || {}, c = { user: [3], site: [1, 2] }, d = { user: "tg_v.", site: "tg_i.", adserver: "tg_i.dfp_ad_unit_code", pbadslot: "tg_i.pbadslot", keywords: "kw" }; Object.keys(o).forEach(function (r) { "adserver" === r ? ["name", "adslot"].forEach(function (e) { o[r][e] && (o[r][e] = o[r][e].toString().replace(/^\/+/, "")) }) : "pbadslot" === r && (o[r] = o[r].toString().replace(/^\/+/, "")) }), r === m.b ? (["site", "user"].forEach(function (r) { Object.keys(i[r]).forEach(function (e) { "site" === r && "content" === e && i[r][e].data ? n(i[r][e].data, r, "data") : "ext" !== e ? n(i[r][e], r, e) : i[r][e].data && Object.keys(i[r].ext.data).forEach(function (e) { n(i[r].ext.data[e], r, e, !1) }) }) }), Object.keys(o).forEach(function (e) { "adserver" === e ? n(o[e].adslot, name, e) : n(o[e], "site", e) })) : (Object.keys(o).length && l.mergeDeep(s.imp[0].ext, { data: o }), l.mergeDeep(s, i)) } function c(e) { return l.parseSizesInput(e).reduce(function (e, r) { var t = parseInt(_[r], 10); return t && e.push(t), e }, []) } function d(e) { return "object" === x(l.deepAccess(e, "params.video")) && void 0 !== l.deepAccess(e, "mediaTypes.".concat(m.d)) } function O(e, r) { var t = 1 < arguments.length && void 0 !== r && r; return d(e) ? -1 === ["outstream", "instream"].indexOf(l.deepAccess(e, "mediaTypes.".concat(m.d, ".context"))) ? void (t && l.logError("Rubicon: mediaTypes.video.context must be outstream or instream")) : C(e, "video").length < 2 ? void (t && l.logError("Rubicon: could not determine the playerSize of the video")) : (t && l.logMessage("Rubicon: making video request for adUnit", e.adUnitCode), "video") : 0 === C(e, "banner").length ? void (t && l.logError("Rubicon: could not determine the sizes for banner request")) : (t && l.logMessage("Rubicon: making banner request for adUnit", e.adUnitCode), "banner") } var w = function () { return h = {} }; function k(e) { var i = [15, 2, 9]; return e.sort(function (e, r) { var t = i.indexOf(e), n = i.indexOf(r); return -1 < t || -1 < n ? -1 === t ? 1 : -1 === n ? -1 : t - n : e - r }) } function R(e) { var r = parseInt(l.deepAccess(e, "params.video.size_id")); return isNaN(r) ? "outstream" === l.deepAccess(e, "mediaTypes.".concat(m.d, ".context")) ? 203 : 201 : r } function z(e) { return { ranges: { low: [{ max: 5, increment: .5 }], medium: [{ max: 20, increment: .1 }], high: [{ max: 20, increment: .01 }], auto: [{ max: 5, increment: .05 }, { min: 5, max: 10, increment: .1 }, { min: 10, max: 20, increment: .5 }], dense: [{ max: 3, increment: .01 }, { min: 3, max: 8, increment: .05 }, { min: 8, max: 20, increment: .5 }], custom: e.getConfig("customPriceBucket") && e.getConfig("customPriceBucket").buckets }[e.getConfig("priceGranularity")] } } function E(r) { var t = !0, e = Object.prototype.toString.call([]), n = { mimes: e, protocols: e, linearity: Object.prototype.toString.call(0), api: e }; return Object.keys(n).forEach(function (e) { Object.prototype.toString.call(l.deepAccess(r, "mediaTypes.video." + e)) !== n[e] && (t = !1, l.logError("Rubicon: mediaTypes.video." + e + " is required and must be of type: " + n[e])) }), t } function T(e) { var r = !1, t = ["asi", "sid", "hp"]; return e.nodes && ((r = e.nodes.reduce(function (e, r) { return e ? t.every(function (e) { return r.hasOwnProperty(e) }) : e }, !0)) || l.logError("Rubicon: required schain params missing")), r } function U(e, r) { return "rp_schain" === e ? "rp_schain=".concat(r) : "".concat(e, "=").concat(encodeURIComponent(r)) } var P = !1; Object(n.registerBidder)(A) } }, [858]);
pbjsChunk([142], { 866: function (n, i, e) { n.exports = e(867) }, 867: function (n, i, e) { "use strict"; Object.defineProperty(i, "__esModule", { value: !0 }), i.isSchainObjectValid = u, i.isValidSchainConfig = l, i.makeBidRequestsHook = o, i.init = g; var t = e(3), c = e(8), a = e(0), s = "Invalid schain object found: ", r = " should be a string", f = " should be an Integer", d = " should be an object", b = " should be an Array", h = { STRICT: "strict", RELAXED: "relaxed", OFF: "off" }, O = []; function u(n, i) { var e = "Detected something wrong within an schain config:", t = ""; function c(n) { t += "\n" + n } function o() { (!0 === i ? Object(a.logError) : Object(a.logWarn))(e, n, t) } if (!Object(a.isPlainObject)(n) && (c("schain.config" + d), o(), i)) return !1; if (Object(a.isNumber)(n.complete) && Object(a.isInteger)(n.complete) || c("schain.config.complete" + f), Object(a.isStr)(n.ver) || c("schain.config.ver" + r), Object(a.hasOwn)(n, "ext") && (Object(a.isPlainObject)(n.ext) || c("schain.config.ext" + d)), Object(a.isArray)(n.nodes)) n.nodes.forEach(function (n, i) { Object(a.isStr)(n.asi) || c("schain.config.nodes[".concat(i, "].asi") + r), Object(a.isStr)(n.sid) || c("schain.config.nodes[".concat(i, "].sid") + r), Object(a.isNumber)(n.hp) && Object(a.isInteger)(n.hp) || c("schain.config.nodes[".concat(i, "].hp") + f), Object(a.hasOwn)(n, "rid") && (Object(a.isStr)(n.rid) || c("schain.config.nodes[".concat(i, "].rid") + r)), Object(a.hasOwn)(n, "name") && (Object(a.isStr)(n.name) || c("schain.config.nodes[".concat(i, "].name") + r)), Object(a.hasOwn)(n, "domain") && (Object(a.isStr)(n.domain) || c("schain.config.nodes[".concat(i, "].domain") + r)), Object(a.hasOwn)(n, "ext") && (Object(a.isPlainObject)(n.ext) || c("schain.config.nodes[".concat(i, "].ext") + d)) }); else if (c("schain.config.nodes" + b), o(), i) return !1; return !(0 < t.length && (o(), i)) } function l(n) { return void 0 !== n && (!!Object(a.isPlainObject)(n) || (Object(a.logError)(s + "the following schain config will not be used as schain is not an object.", n), !1)) } function o(n, i) { var c = t.b.getConfig("schain"), o = t.b.getBidderConfig(); i.forEach(function (n) { var i, e = n.bidderCode, t = o[i = e] && o[i].schain || c; n.bids.forEach(function (n) { var i = function (n, i) { var e = h.STRICT; if (l(n)) { if (Object(a.isStr)(n.validation) && -1 != O.indexOf(n.validation) && (e = n.validation), e === h.OFF) return n.config; if (u(n.config, !(e !== h.STRICT))) return n.config; Object(a.logError)(s + "due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(i, "'.  See above error for details.")) } return null }(t, e); i && (n.schain = i) }) }), n(i) } function g() { c.default.makeBidRequests.after(o) } Object(a._each)(h, function (n) { return O.push(n) }), g() } }, [866]);
pbjsChunk([102], { 966: function (e, r, t) { e.exports = t(967) }, 967: function (e, r, t) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }), t.d(r, "tripleliftAdapterSpec", function () { return m }); var n = t(2), i = t(1), u = t(0), a = t(3); function p() { return (p = Object.assign || function (e) { for (var r = 1; r < arguments.length; r++) { var t = arguments[r]; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]) } return e }).apply(this, arguments) } function c(e) { return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function d(r, e) { var t, n = Object.keys(r); return Object.getOwnPropertySymbols && (t = Object.getOwnPropertySymbols(r), e && (t = t.filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable })), n.push.apply(n, t)), n } function s(i) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? d(Object(o), !0).forEach(function (e) { var r, t, n; r = i, n = o[t = e], t in r ? Object.defineProperty(r, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : r[t] = n }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(o)) : d(Object(o)).forEach(function (e) { Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(o, e)) }) } return i } function f(e) { return function (e) { if (Array.isArray(e)) return o(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, r) { if (!e) return; if ("string" == typeof e) return o(e, r); var t = Object.prototype.toString.call(e).slice(8, -1); "Object" === t && e.constructor && (t = e.constructor.name); if ("Map" === t || "Set" === t) return Array.from(e); if ("Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)) return o(e, r) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function o(e, r) { (null == r || r > e.length) && (r = e.length); for (var t = 0, n = new Array(r); t < r; t++)n[t] = e[t]; return n } var l = !0, y = null, m = { gvlid: 28, code: "triplelift", supportedMediaTypes: [n.b, n.d], isBidRequestValid: function (e) { return void 0 !== e.params.inventoryCode }, buildRequests: function (e, r) { var t, n = "https://tlx.3lift.com/header/auction?", i = function (e) { var r = {}, t = e[0].schain, n = function () { var e = {}, r = {}, t = {}, n = a.b.getLegacyFpd(a.b.getConfig("ortb2")) || {}, i = p({}, n.context), o = p({}, n.user); g(r, i), g(t, o), u.isEmpty(r) || (e.context = r); u.isEmpty(t) || (e.user = t); return e }(); r.imp = e.map(function (e, r) { var t = { id: r, tagid: e.params.inventoryCode, floor: function (e) { var r = null; { var t; "function" == typeof e.getFloor && ("object" !== c(t = e.getFloor({ currency: "USD", mediaType: b(e) ? "video" : "banner", size: "*" })) || "USD" !== t.currency || isNaN(parseFloat(t.floor)) || (r = parseFloat(t.floor))) } return null !== r ? r : e.params.floor }(e) }; return b(e) ? t.video = function (e) { var r = s(s({}, e.params.video), e.mediaTypes.video); r.w || (r.w = r.playerSize[0][0]); r.h || (r.h = r.playerSize[0][1]); "instream" === r.context && (r.placement = 1); return delete r.playerSize, r }(e) : e.mediaTypes.banner && (t.banner = { format: e.sizes.filter(S).map(function (e) { return { w: e[0], h: e[1] } }) }), u.isEmpty(e.ortb2Imp) || (t.fpd = function (e) { var r = {}, t = {}; g(t, e.ext), u.isEmpty(t) || (r.context = t); return r }(e.ortb2Imp)), t }); var i = [].concat(f(function (e) { return v(e, "tdid", "adserver.org", "TDID") }([e[0]])), f(function (e) { return v(e, "idl_env", "liveramp.com", "idl") }([e[0]])), f(function (e) { return v(e, "criteoId", "criteo.com", "criteoId") }([e[0]])), f(function (e) { return v(e, "pubcid", "pubcid.org", "pubcid") }([e[0]]))); 0 < i.length && (r.user = { ext: { eids: i } }); var o = function (e, r) { var t = {}; u.isEmpty(e) || (t.schain = s({}, e)); u.isEmpty(r) || (t.fpd = s({}, r)); return t }(t, n); u.isEmpty(o) || (r.ext = o); return r }(e); return n = u.tryAppendQueryString(n, "lib", "prebid"), n = u.tryAppendQueryString(n, "v", "4.42.1"), r && r.refererInfo && (t = r.refererInfo.referer, n = u.tryAppendQueryString(n, "referrer", t)), r && r.timeout && (n = u.tryAppendQueryString(n, "tmax", r.timeout)), r && r.gdprConsent && (void 0 !== r.gdprConsent.gdprApplies && (l = r.gdprConsent.gdprApplies, n = u.tryAppendQueryString(n, "gdpr", l.toString())), void 0 !== r.gdprConsent.consentString && (y = r.gdprConsent.consentString, n = u.tryAppendQueryString(n, "cmp_cs", y))), r && r.uspConsent && (n = u.tryAppendQueryString(n, "us_privacy", r.uspConsent)), !0 === a.b.getConfig("coppa") && (n = u.tryAppendQueryString(n, "coppa", !0)), n.lastIndexOf("&") === n.length - 1 && (n = n.substring(0, n.length - 1)), u.logMessage("tlCall request built: " + n), { method: "POST", url: n, data: i, bidderRequest: r } }, interpretResponse: function (e, r) { var t = r.bidderRequest; return (e.body.bids || []).map(function (e) { return function (e, r) { var t = {}, n = r.width || 1, i = r.height || 1, o = r.deal_id || "", u = r.crid || "", a = e.bids[r.imp_id]; 0 != r.cpm && r.ad && (t = { requestId: a.bidId, cpm: r.cpm, width: n, height: i, netRevenue: !0, ad: r.ad, creativeId: u, dealId: o, currency: "USD", ttl: 300, tl_source: r.tl_source, meta: {} }, b(a) && (t.vastXml = r.ad, t.mediaType = "video"), r.advertiser_name && (t.meta.advertiserName = r.advertiser_name), r.adomain && r.adomain.length && (t.meta.advertiserDomains = r.adomain), r.tl_source && "hdx" == r.tl_source && (t.meta.mediaType = "banner"), r.tl_source && "tlx" == r.tl_source && (t.meta.mediaType = "native")); return t }(t, e) }) }, getUserSyncs: function (e, r, t, n) { var i = function (e) { if (!e) return; if (e.iframeEnabled) return "iframe"; if (e.pixelEnabled) return "image" }(e); if (i) { var o = "https://eb2.3lift.com/sync?"; return "image" === i && (o = u.tryAppendQueryString(o, "px", 1), o = u.tryAppendQueryString(o, "src", "prebid")), null !== y && (o = u.tryAppendQueryString(o, "gdpr", l), o = u.tryAppendQueryString(o, "cmp_cs", y)), n && (o = u.tryAppendQueryString(o, "us_privacy", n)), [{ type: i, url: o }] } } }; function b(e) { return e.mediaTypes.video && e.mediaTypes.video.context && "instream" === e.mediaTypes.video.context.toLowerCase() } function g(r, t) { u.isEmpty(t) || Object.keys(t).forEach(function (e) { null != t[e] && (r[e] = t[e]) }) } function v(e, r, t, n) { return e.map((u = r, function (e) { return e && e.userId && e.userId[u] })).filter(function (e) { return !!e }).map((i = t, o = n, function (e) { return { source: i, uids: [{ id: e, ext: { rtiPartner: o } }] } })); var i, o, u } function S(e) { return 2 === e.length && "number" == typeof e[0] && "number" == typeof e[1] } Object(i.registerBidder)(m) } }, [966]);
pbjs.processQueue();